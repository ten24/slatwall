{"version":3,"sources":["directives/common/swpaginationbar.ts"],"names":[],"mappings":"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","file":"directives/common/swpaginationbar.js","sourceRoot":"/Users/david/Sites/Slatwall/","sourcesContent":["angular.module('slatwalladmin')\n.directive('swPaginationBar', [\n\t'$log',\n\t'$timeout',\n\t'partialsPath', \n\t'paginationService',\n\tfunction(\n\t\t$log,\n\t\t$timeout,\n\t\tpartialsPath,\n\t\tpaginationService\n\t){\n\t\treturn {\n\t\t\trestrict:'A',\n\t\t\ttemplateUrl: partialsPath+'paginationbar.html',\n\t\t\tscope: {\n\t\t\t\tpageShow:\"=\",\n\t\t\t\tcurrentPage:\"=\",\n\t\t\t\tpageStart:\"&\",\n\t\t\t\tpageEnd:\"&\",\n\t\t\t\trecordsCount:\"&\",\n\t\t\t\tcollection:\"=\",\n\t\t\t\tautoScroll:\"=\",\n\t\t\t\tgetCollection:\"&\"\n\t\t\t},\n\t\t\tlink:function(scope,element,attrs){\n\t\t\t\t$log.debug('pagination init');\n\t\t\t\tscope.totalPagesArray = [];\n\t\t\t\tscope.hasPrevious = paginationService.hasPrevious;\n\t\t\t\tscope.hasNext = paginationService.hasNext;\n\t\t\t\tscope.totalPages = paginationService.getTotalPages;\n\t\t\t\t\n\t\t\t\tscope.pageShowOptions = paginationService.getPageShowOptions();\n\t          \tscope.pageShowOptions.selectedPageShowOption = scope.pageShowOptions[0];\n\t          \t\n\t          \tscope.pageShowOptionChanged = function(pageShowOption){\n\t          \t\t$log.debug('pageShowOptionChanged');\n\t          \t\t$log.debug(pageShowOption);\n\t      \t\t\tpaginationService.setPageShow(pageShowOption.value);\n\t        \t\tscope.pageShow = paginationService.getPageShow();\n\t        \t\tscope.currentPage = 1;\n\t\t\t\t\tscope.setCurrentPage(1);\n\t        \t};\n\t        \t\n\t        \t/*var unbindPageOptionsWatchListener = scope.$watch('pageOptions',function(newValue,oldValue){\n\t    \t\t\t $(\"select\").selectBoxIt();\n\t        \t\t unbindPageOptionsWatchListener();\n\t        \t});*/\n\t        \t\n\t        \tscope.setCurrentPage = function(number){\n\t        \t\t$log.debug('setCurrentPage');\n\t        \t\tpaginationService.setCurrentPage(number);\n\t        \t\tscope.currentPage = number;\n\t        \t\t\t        \t\t\n\t        \t\t$timeout(function(){\n\t        \t\t\t\n\t        \t\t\t\n\t        \t\t\tscope.getCollection();\n\t        \t\t});\n\t        \t\t\n\t        \t};\n\t        \t\n\t        \tvar setPageRecordsInfo = function(recordsCount,pageStart,pageEnd,totalPages){\n\t    \t\t\tpaginationService.setRecordsCount(recordsCount);\n\t    \t\t\tif(paginationService.getRecordsCount() === 0 ){\n\t    \t\t\t\tpaginationService.setPageStart(0);\n\t    \t\t\t} else{\n\t    \t\t\t\tpaginationService.setPageStart(pageStart);\n\t    \t\t\t}\n\t    \t\t\tpaginationService.setPageEnd(pageEnd);\n\t    \t\t\tpaginationService.setTotalPages(totalPages);\n\t    \t\t};\n\t        \t\n\t        \tscope.$watch('collection',function(newValue,oldValue){\n\t        \t\t$log.debug('collection changed');\n\t        \t\t$log.debug(newValue);\n\t        \t\tif(angular.isDefined(newValue)){\n\t        \t\t\tsetPageRecordsInfo(newValue.recordsCount,newValue.pageRecordsStart,newValue.pageRecordsEnd,newValue.totalPages);\n\t        \t\t\t\n\t            \t\tscope.currentPage= paginationService.getCurrentPage();\n\t            \t\tscope.pageShow = paginationService.getPageShow();\n\t            \t\t//scope.totalPages()\n\t            \t\tscope.totalPagesArray = [];\n\t            \t\tfor(var i = 0; i < scope.totalPages(); i++){\n\t            \t\t\tscope.totalPagesArray.push(i+1);\n\t            \t\t}\n\t            \t\tscope.pageStart();\n\t            \t\tscope.pageEnd();\n\t            \t\tscope.recordsCount();\n\t            \t\tscope.hasPrevious();\n\t            \t\tscope.hasNext();\n\t        \t\t}\n\t        \t});\n\t        \t\n\t        \tscope.showPreviousJump = function(){\n\t        \t\tif(angular.isDefined(scope.currentPage) && scope.currentPage > 3){\n\t        \t\t\tscope.totalPagesArray = [];\n\t            \t\tfor(var i = 0; i < scope.totalPages(); i++){\n\t            \t\t\tif(scope.currentPage < 7 && scope.currentPage > 3 ){\n\t            \t\t\t\tif(i !== 0){\n\t            \t\t\t\t\tscope.totalPagesArray.push(i+1);\n\t            \t\t\t\t}\n\t            \t\t\t} else {\n\t            \t\t\t\tscope.totalPagesArray.push(i+1);\n\t            \t\t\t}\n\t            \t\t}\n\t        \t\t\treturn true;\n\t        \t\t}else{\n\t        \t\t\treturn false;\n\t        \t\t}\n\t        \t};\n\t        \t\n\t        \tscope.showNextJump = function(){\n\t        \t\tif(scope.currentPage < paginationService.getTotalPages() - 3 && paginationService.getTotalPages() > 6){\n\t        \t\t\treturn true;\n\t        \t\t}else{\n\t        \t\t\treturn false;\n\t        \t\t}\n\t        \t};\n\t        \t\n\t        \tscope.previousJump = function(){\n\t        \t\tpaginationService.setCurrentPage(scope.currentPage - 3);\n\t        \t\tscope.currentPage -= 3;\n\t        \t};\n\t        \t\n\t        \tscope.nextJump = function(){\n\t        \t\tpaginationService.setCurrentPage(scope.currentPage + 3);\n\t        \t\tscope.currentPage += 3;\n\t        \t};\n\t        \t\n\t        \tscope.showPageNumber = function(number){\n\t        \t\t/*if(scope.currentPage >= scope.totalPages() - 3){\n\t        \t\t\tif(number > scope.totalPages() - 6){\n\t        \t\t\t\treturn true;\n\t        \t\t\t}\n\t        \t\t}*/\n\t        \t\t\n\t        \t\tif(scope.currentPage >= scope.totalPages() - 3){\n\t        \t\t\tif(number > scope.totalPages() - 6){\n\t        \t\t\t\treturn true;\n\t        \t\t\t}\n\t        \t\t}\n\t        \t\t\n\t        \t\tif(scope.currentPage <= 3){\n\t        \t\t\tif(number < 6){\n\t        \t\t\t\treturn true;\n\t        \t\t\t}\n\t        \t\t}else{\n\t        \t\t\tvar bottomRange = scope.currentPage - 2;\n\t        \t\t\tvar topRange = scope.currentPage + 2;\n\t        \t\t\tif(number > bottomRange && number < topRange ){\n\t        \t\t\t\treturn true;\n\t        \t\t\t}\n\t        \t\t}\n\t        \t\treturn false;\n\t        \t};\n\t        \t\n\t        \tscope.previousPage = function(){\n\t        \t\tpaginationService.previousPage();\n\t        \t\tscope.currentPage = paginationService.getCurrentPage();\n\t        \t};\n\t        \t\n\t        \tscope.nextPage = function(){\n\t        \t\tpaginationService.nextPage();\n\t        \t\tscope.currentPage = paginationService.getCurrentPage();\n\t        \t};\n \n\t\t\t}\n\t\t};\n\t}\n]);\n\t\n"]}