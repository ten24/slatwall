<header class="site-header d-flex flex-column">
	<div class="container">
		<div class="header-row">
			<div class="left-nav">
				
			</div>
			<a href="#" class="logo">
				<img src="/themes/monat/assets/images/logo.svg"  alt="Monat logo">
			</a>			
			<div class="right-nav">
				<div class="row justify-content-end">
					<hybrid-cart is-enrollment="true"></hybrid-cart>
				</div>			
			</div>			
		</div>
	</div>
</header>

<ng-transclude></ng-transclude>

<div ng-show="!monatEnrollment.canPlaceCartOrder && monatEnrollment.showCanPlaceOrderAlert" class="alert alert-danger alert-dismissible fade show text-center can-place-order-alert" role="alert">
    <span sw-rbkey="'frontend.order.canPlaceOrderFailure'"></span>
</div>
    
<footer class="steps-footer d-flex flex-column">
	<div class="w-100 d-flex justify-content-between align-items-center">
		<div class="d-flex align-items-center">
			<a 
				href 
				data-ng-click="monatEnrollment.previous()" 
				class="back d-inline-block" 
				ng-class="{ 
					invisible: (monatEnrollment.position == 0 ), 
				}"
			>
				<span class="last" sw-rbkey="'frontend.global.back'"></span>
				<i class="fas fa-chevron-left"></i> 
			</a>

			<span ng-if="monatEnrollment.cart.totalItemQuantity > 0 && monatEnrollment.showMiniCart" class="qty-and-price text-white pl-3">
				{{ monatEnrollment.cart.totalItemQuantity }} 
				<span sw-rbkey="'frontend.flexshipCartContainer.items'"></span> / 
				<span sw-rbkey="'frontend.flexshipCartContainer.total'"></span> 
				<span ng-bind-html="monatEnrollment.cart.total | swcurrency:monatEnrollment.cart.currencyCode"></span> 
				<small ng-click="monatEnrollment.toggleMiniCart()" class="border-bottom ml-3">{{monatEnrollment.cartText}}</small>
			</span>
		</div>
		
		<span class="step-status">
			<span sw-rbkey="'frontend.global.step'"></span> 
			{{monatEnrollment.position + 1}} 
			<span sw-rbkey="'frontend.global.of'"></span> 
			<!--- The new checkout step is three steps in one so we add 2 more --->
			{{monatEnrollment.steps.length + 2}} 
		</span>
		
		<div ng-if="monatEnrollment.canPlaceCartOrder">
			<button 
				style="z-index: 1" 
				data-ng-click="monatEnrollment.next(); monatEnrollment.showCanPlaceOrderAlert = false" 
				class="btn btn-secondary forward-btn forward" 
				ng-if="monatEnrollment.position + 1 != monatEnrollment.steps.length && monatEnrollment.reviewContext == false"
			>
				<span sw-rbkey="'frontend.global.next'"></span>
				<i class="fas fa-chevron-right"></i>
			</button>
			<button 
				style="z-index: 1" 
				data-ng-click="monatEnrollment.goToLastStep(); monatEnrollment.showCanPlaceOrderAlert = false" 
				class="btn btn-secondary forward-btn forward" 
				ng-if="monatEnrollment.position + 1 != monatEnrollment.steps.length && monatEnrollment.reviewContext"
			>
				<span sw-rbkey="'frontend.global.next'"></span>
				<i class="fas fa-chevron-right"></i>
			</button>			
		</div>
		
		<div ng-if="!monatEnrollment.canPlaceCartOrder">
			<button 
				style="z-index: 1" 
				data-ng-click="monatEnrollment.showCanPlaceOrderAlert = true" 
				class="btn btn-secondary forward-btn forward disabled" 
				ng-if="monatEnrollment.position + 1 != monatEnrollment.steps.length && monatEnrollment.reviewContext == false"
			>
				<span sw-rbkey="'frontend.global.next'"></span>
				<i class="fas fa-chevron-right"></i>
			</button>
		</div>

		<span ng-if="monatEnrollment.position + 1 == monatEnrollment.steps.length"></span>
	</div>
	
	<!--- Flexship cart ---> 	
	<div ng-if="monatEnrollment.showFlexshipCart" class="w-100">
		<monat-flexship-cart-container context="enrollment"></monat-flexship-cart-container>	
	</div>

</footer>
