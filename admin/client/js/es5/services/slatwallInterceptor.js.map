{"version":3,"names":[],"mappings":"","sources":["services/slatwallInterceptor.js"],"sourcesContent":["'use strict';\nangular.module('slatwalladmin').factory('slatwallInterceptor', [\n    '$q',\n    '$log',\n    'alertService',\n    function ($q, $log, alertService) {\n        var interceptor = {\n            'request': function (config) {\n                $log.debug('request');\n                if (config.method == 'GET' && (config.url.indexOf('.html') == -1) && config.url.indexOf('.json') == -1) {\n                    config.method = 'POST';\n                    config.data = {};\n                    var data = {};\n                    if (angular.isDefined(config.params)) {\n                        data = config.params;\n                    }\n                    var params = {};\n                    params.serializedJsonData = angular.toJson(data);\n                    params.context = \"GET\";\n                    config.data = $.param(params);\n                    delete config.params;\n                    config.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n                }\n                return config;\n            },\n            'response': function (response) {\n                $log.debug('response');\n                var messages = response.data.messages;\n                var alerts = alertService.formatMessagesToAlerts(messages);\n                alertService.addAlerts(alerts);\n                return response;\n            },\n            'requestError': function (rejection) {\n                $log.debug('requestError');\n                return $q.reject(rejection);\n            },\n            'responseError': function (rejection) {\n                $log.debug('responseReject');\n                if (angular.isDefined(rejection.status) && rejection.status !== 404) {\n                    if (angular.isDefined(rejection.data) && angular.isDefined(rejection.data.messages)) {\n                        var messages = rejection.data.messages;\n                        var alerts = alertService.formatMessagesToAlerts(messages);\n                        alertService.addAlerts(alerts);\n                    }\n                    else {\n                        var message = {\n                            msg: 'there was error retrieving data',\n                            type: 'error'\n                        };\n                        alertService.addAlert(message);\n                    }\n                }\n                return $q.reject(rejection);\n            }\n        };\n        return interceptor;\n    }\n]);\n\n//# sourceMappingURL=../services/slatwallInterceptor.js.map"],"file":"services/slatwallInterceptor.js","sourceRoot":"/source/"}