{"version":3,"sources":["services/alertservice.ts"],"names":[],"mappings":"AAAA,AACA,wGADwG;AACxG,YAAY,CAAC;AACb,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAC9B,OAAO,CAAC,cAAc,EAAC;IACvB,UAAU;IACV,UACC,QAAQ;QAER,IAAI,OAAO,GAAG,EAAE,CAAC;QAEjB,IAAI,YAAY,GAAG;YAClB,QAAQ,EAAE,UAAS,KAAK;gBACvB,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACpB,QAAQ,CAAC;oBACJ,OAAO,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;gBACtB,CAAC,EAAE,IAAI,CAAC,CAAC;YACb,CAAC;YACD,SAAS,EAAE,UAAS,MAAM;gBACzB,GAAG,CAAA,CAAC,GAAG,CAAC,KAAK,IAAI,MAAM,CAAC,CAAA,CAAC;oBACxB,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC5B,QAAQ,CAAC;wBACJ,OAAO,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;oBACtB,CAAC,EAAE,IAAI,CAAC,CAAC;gBACb,CAAC;YACF,CAAC;YACD,sBAAsB,EAAE,UAAS,QAAQ;gBACxC,IAAI,MAAM,GAAG,EAAE,CAAC;gBAChB,GAAG,CAAA,CAAC,GAAG,CAAC,OAAO,IAAI,QAAQ,CAAC,CAAA,CAAC;oBAC5B,IAAI,KAAK,GAAG;wBACX,GAAG,EAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO;wBAC7B,IAAI,EAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,WAAW;qBAClC,CAAC;oBACF,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACnB,EAAE,CAAA,CAAC,KAAK,CAAC,IAAI,KAAK,SAAS,IAAI,KAAK,CAAC,IAAI,KAAK,OAAO,CAAC,CAAA,CAAC;wBACrD,QAAQ,CAAC;4BACL,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;wBACpB,CAAC,EAAE,IAAI,CAAC,CAAC;wBAET,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC;oBAE9B,CAAC;oBAAA,IAAI,CAAA,CAAC;wBACL,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC;wBACnB,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC;oBAC1B,CAAC;gBACF,CAAC;gBACD,MAAM,CAAC,MAAM,CAAC;YACf,CAAC;YACD,SAAS,EAAE;gBACV,MAAM,CAAC,OAAO,CAAC;YAChB,CAAC;YACD,WAAW,EAAC,UAAS,KAAK;gBACzB,GAAG,CAAA,CAAC,GAAG,CAAC,CAAC,IAAI,OAAO,CAAC,CAAA,CAAC;oBACrB,EAAE,CAAA,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,CAAA,CAAC;wBACxB,OAAO,OAAO,CAAC,CAAC,CAAC,CAAC;oBACnB,CAAC;gBACF,CAAC;YACF,CAAC;YACD,iBAAiB,EAAC;gBACjB,MAAM,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;YACpB,CAAC;SACD,CAAC;QAEF,MAAM,CAAC,YAAY,CAAC;IACrB,CAAC;CACD,CAAC,CAAC","file":"services/alertservice.js","sourceRoot":"/Users/david/Sites/Slatwall/","sourcesContent":["/*services return promises which can be handled uniquely based on success or failure by the controller*/\n'use strict';\nangular.module('slatwalladmin')\n.factory('alertService',[ \n\t'$timeout',\n\tfunction(\n\t\t$timeout\n\t){\n\t\tvar _alerts = [];\n\t\t\n\t\tvar alertService = {\n\t\t\taddAlert: function(alert){\n\t\t\t\t_alerts.push(alert);\n\t\t\t\t$timeout(function() {\n\t\t\t      _alerts.splice(0,1);\n\t\t\t    }, 3500);\n\t\t\t},\n\t\t\taddAlerts: function(alerts){\n\t\t\t\tfor(var alert in alerts){\n\t\t\t\t\t_alerts.push(alerts[alert]);\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t      _alerts.splice(0,1);\n\t\t\t\t    }, 3500);\n\t\t\t\t}\n\t\t\t},\n\t\t\tformatMessagesToAlerts: function(messages){\n\t\t\t\tvar alerts = [];\n\t\t\t\tfor(var message in messages){\n\t\t\t\t\tvar alert = {\n\t\t\t\t\t\tmsg:messages[message].message,\n\t\t\t\t\t\ttype:messages[message].messageType\n\t\t\t\t\t};\n\t\t\t\t\talerts.push(alert);\n\t\t\t\t\tif(alert.type === 'success' || alert.type === 'error'){\n\t\t\t\t\t\t $timeout(function() {\n\t\t\t\t\t      alert.fade = true;\n\t\t\t\t\t    }, 3500);\n\t\t\t\t\t\t\n\t\t\t\t\t    alert.dismissable = false;\n\t\t\t\t\t    \n\t\t\t\t\t}else{\n\t\t\t\t\t\talert.fade = false;\n\t\t\t\t\t\talert.dismissable = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn alerts;\n\t\t\t},\n\t\t\tgetAlerts: function(){\n\t\t\t\treturn _alerts;\n\t\t\t},\n\t\t\tremoveAlert:function(alert){\n\t\t\t\tfor(var i in _alerts){\n\t\t\t\t\tif(_alerts[i] === alert){\n\t\t\t\t\t\tdelete _alerts[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tremoveOldestAlert:function(){\n\t\t\t\t_alert.splice(0,1);\n\t\t\t}\n\t\t};\n\t\t\n\t\treturn alertService;\n\t}\n]);\n"]}