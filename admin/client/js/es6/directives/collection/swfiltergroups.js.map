{"version":3,"sources":["directives/collection/swfiltergroups.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AACb,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAC9B,SAAS,CAAC,gBAAgB,EAAE;IAC5B,OAAO;IACR,UAAU;IACV,gBAAgB;IAChB,MAAM;IACN,wBAAwB;IACvB,UACA,KAAK,EACL,QAAQ,EACR,cAAc,EACd,IAAI,EACJ,sBAAsB;QAErB,MAAM,CAAC;YACN,QAAQ,EAAE,IAAI;YACd,KAAK,EAAC;gBACL,gBAAgB,EAAC,GAAG;gBACpB,eAAe,EAAE,GAAG;gBACpB,oBAAoB,EAAC,GAAG;gBACxB,cAAc,EAAC,GAAG;gBAClB,WAAW,EAAC,GAAG;gBACf,cAAc,EAAC,GAAG;aAClB;YACD,WAAW,EAAC,sBAAsB,GAAC,mBAAmB;YACtD,UAAU,EAAE,CAAC,QAAQ,EAAC,UAAU,EAAC,QAAQ,EAAC,UAAS,MAAM,EAAE,QAAQ,EAAC,MAAM;gBACzE,AACA,uFADuF;gBACvF,EAAE,CAAA,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAA,CAAC;oBAC7C,MAAM,CAAC,cAAc,GAAG,QAAQ,CAAC;gBAClC,CAAC;gBACD,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC;gBACzB,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;gBAC/B,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;gBACpC,IAAI,CAAC,cAAc,GAAG;oBACrB,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC;gBAC3B,CAAC,CAAC;gBAEF,IAAI,CAAC,kBAAkB,GAAG;oBACzB,MAAM,CAAC,MAAM,CAAC,eAAe,CAAC;gBAC/B,CAAC,CAAC;gBAEF,IAAI,CAAC,YAAY,GAAG,UAAS,YAAY;oBACxC,MAAM,CAAC,SAAS,GAAG,YAAY,CAAC;gBACjC,CAAC,CAAC;gBAEF,IAAI,CAAC,YAAY,GAAG;oBACnB,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC;gBACzB,CAAC,CAAC;gBAEF,IAAI,CAAC,cAAc,GAAG;oBACrB,MAAM,CAAC,cAAc,EAAE,CAAC;gBACzB,CAAC,CAAC;gBAEF,MAAM,CAAC,aAAa,GAAG,UAAS,UAAU;oBACzC,GAAG,CAAA,CAAC,GAAG,CAAC,CAAC,IAAI,UAAU,CAAC,cAAc,CAAC,CAAA,CAAC;wBACvC,UAAU,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,KAAK,CAAC;oBACjD,CAAC;gBACF,CAAC,CAAC;gBAEF,IAAI,CAAC,gBAAgB,GAAG,UAAS,eAAe;oBAC/C,EAAE,CAAA,CAAC,OAAO,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,CAAA,CAAC;wBAEtC,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC,CAAC;wBAC9D,MAAM,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;wBAC5D,AACA,aADa;wBACb,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;wBAC/B,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;wBAE5B,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,eAAe,EAAC,CAAC,CAAC,CAAC;wBACjD,AACA,2DAD2D;wBAC3D,EAAE,CAAA,CAAC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAA,CAAC;4BACjC,OAAO,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC;wBAClD,CAAC;wBAED,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;wBAC/B,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;wBAE5B,MAAM,CAAC,cAAc,EAAE,CAAC;oBACzB,CAAC;gBACF,CAAC,CAAC;gBAEF,IAAI,CAAC,qBAAqB,GAAG,UAAS,oBAAoB;oBACzD,AACA,aADa;oBACb,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,eAAe,CAAC,oBAAoB,CAAC,CAAC,CAAC;oBACnE,MAAM,CAAC,eAAe,CAAC,oBAAoB,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBAEjE,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,oBAAoB,EAAC,CAAC,CAAC,CAAC;oBACtD,AACA,2DAD2D;oBAC3D,EAAE,CAAA,CAAC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAA,CAAC;wBACjC,OAAO,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC;oBAClD,CAAC;oBACD,IAAI,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;oBACpC,IAAI,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;oBACjC,MAAM,CAAC,cAAc,EAAE,CAAC;gBACzB,CAAC,CAAC;YAGH,CAAC,CAAC;SACF,CAAC;IACH,CAAC;CACD,CAAC,CAAC","file":"directives/collection/swfiltergroups.js","sourceRoot":"/Users/david/Sites/Slatwall/","sourcesContent":["'use strict';\nangular.module('slatwalladmin')\n.directive('swFilterGroups', [\n\t'$http',\n'$compile',\n'$templateCache',\n'$log',\n'collectionPartialsPath',\n\tfunction(\n\t$http,\n\t$compile,\n\t$templateCache,\n\t$log,\n\tcollectionPartialsPath\n\t\t){\n\t\treturn {\n\t\t\trestrict: 'EA',\n\t\t\tscope:{\n\t\t\t\tcollectionConfig:\"=\",\n\t\t\t\tfilterGroupItem: \"=\",\n\t\t\t\tfilterPropertiesList:\"=\",\n\t\t\t\tsaveCollection:\"&\",\n\t\t\t\tfilterGroup:\"=\",\n\t\t\t\tcomparisonType:\"@\"\n\t\t\t},\n\t\t\ttemplateUrl:collectionPartialsPath+\"filtergroups.html\",\n\t\t\tcontroller: ['$scope','$element','$attrs',function($scope, $element,$attrs){\n\t\t\t\t//if the filter group comparisontype is not specified, then assume we are doing filters\n\t\t\t\tif(!angular.isDefined($scope.comparisonType)){\n\t\t\t\t\t$scope.comparisonType = 'filter';\n\t\t\t\t}\n\t\t\t\t$scope.itemInUse = false;\n\t\t\t\t$log.debug('collectionConfig');\n\t\t\t\t$log.debug($scope.collectionConfig);\n\t\t\t\tthis.getFilterGroup = function(){\n\t\t\t\t\treturn $scope.filterGroup;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.getFilterGroupItem = function(){\n\t\t\t\t\treturn $scope.filterGroupItem;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.setItemInUse = function(booleanValue){\n\t\t\t\t\t$scope.itemInUse = booleanValue;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.getItemInUse = function(){\n\t\t\t\t\treturn $scope.itemInUse;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.saveCollection = function(){\n\t\t\t\t\t$scope.saveCollection();\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t$scope.deselectItems = function(filterItem){\n\t\t\t\t\tfor(var i in filterItem.$$siblingItems){\n\t\t\t\t\t\tfilterItem.$$siblingItems[i].$$disabled = false;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.removeFilterItem = function(filterItemIndex){\n\t\t\t\t\tif(angular.isDefined(filterItemIndex)){\n\t\t\t\t\t\t\n\t\t\t\t\t\t$scope.deselectItems($scope.filterGroupItem[filterItemIndex]);\n\t\t\t\t\t\t$scope.filterGroupItem[filterItemIndex].setItemInUse(false);\n\t\t\t\t\t\t//remove item\n\t\t\t\t\t\t$log.debug('removeFilterItem');\n\t\t\t\t\t\t$log.debug(filterItemIndex);\n\t\t\t\t\t\t\n\t\t\t\t\t\t$scope.filterGroupItem.splice(filterItemIndex,1);\n\t\t\t\t\t\t//make sure first item has no logical operator if it exists\n\t\t\t\t\t\tif($scope.filterGroupItem.length){\n\t\t\t\t\t\t\tdelete $scope.filterGroupItem[0].logicalOperator;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t$log.debug('removeFilterItem');\n\t\t\t\t\t\t$log.debug(filterItemIndex);\n\t\t\t\t\t\t\n\t\t\t\t\t\t$scope.saveCollection();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.removeFilterGroupItem = function(filterGroupItemIndex){\n\t\t\t\t\t//remove Item\n\t\t\t\t\t$scope.deselectItems($scope.filterGroupItem[filterGroupItemIndex]);\n\t\t\t\t\t$scope.filterGroupItem[filterGroupItemIndex].setItemInUse(false);\n\t\t\t\t\t\n\t\t\t\t\t$scope.filterGroupItem.splice(filterGroupItemIndex,1);\n\t\t\t\t\t//make sure first item has no logical operator if it exists\n\t\t\t\t\tif($scope.filterGroupItem.length){\n\t\t\t\t\t\tdelete $scope.filterGroupItem[0].logicalOperator;\n\t\t\t\t\t}\n\t\t\t\t\t$log.debug('removeFilterGroupItem');\n\t\t\t\t\t$log.debug(filterGroupItemIndex);\n\t\t\t\t\t$scope.saveCollection();\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t\n\t\t\t}]\n\t\t};\n\t}\n]);\n\t\n"]}