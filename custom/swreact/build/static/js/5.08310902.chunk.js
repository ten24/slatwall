(this.webpackJsonpswreact=this.webpackJsonpswreact||[]).push([[5,9],{516:function(t,e,a){"use strict";var r=a(33);a.d(e,"a",(function(){return r.a}));var n=a(32);a.d(e,"d",(function(){return n.d})),a.d(e,"c",(function(){return n.c})),a.d(e,"e",(function(){return n.f}));var o=a(69);a.d(e,"b",(function(){return o.a}));a(56)},518:function(t,e,a){"use strict";a.r(e);var r=a(2),n=a(21),o=a(5),i=a(1),c=a(28),s=a(15),u=a(516),d=a(19),p=a.n(d),l=a(141),f=a(3),h=a(64),b=a(0),j=function(t,e){var a=p.a.parse(t,{arrayFormat:"separator",arrayFormatSeparator:","});return Object.keys(a).map((function(t){return e.map((function(e){var r=e.options.filter((function(e){return e.optionCode===a[t]}))[0];return r?r.optionID:null})).filter((function(t){return t}))})).join()};e.default=function(t){var e=Object(s.h)(),a=Object(s.g)(),d=Object(u.e)(),O=Object(o.a)(d,2),m=O[0],g=O[1],v=Object(u.d)(),k=Object(o.a)(v,2),F=k[0],L=k[1],y=Object(i.useState)(e.pathname),D=Object(o.a)(y,2),I=D[0],S=D[1],T=Object(f.d)(h.e),x=p.a.parse(e.search,{arrayFormat:"separator",arrayFormatSeparator:","}),w=Object(f.d)((function(t){return t.configuration.filtering.productTypeBase}));return Object(i.useEffect)((function(){if(F.isLoaded&&!Object.keys(x).length){console.log("Redirect to Default Sku");var t=(r=F.data.defaultSelectedOptions,F.data.optionGroups.map((function(t){return t.options.filter((function(t){return r.includes(t.optionID)})).map((function(e){var a={};return a[t.optionGroupCode]=e.optionCode,a}))})).flat());a.push({pathname:e.pathname,search:p.a.stringify(Object.assign.apply(Object,Object(n.a)(t)),{arrayFormat:"comma"})})}var r}),[a,x,e.pathname,F]),Object(i.useEffect)((function(){if(!F.isFetching&&!F.isLoaded){console.log("First and only product request");var t=e.pathname.split("/").reverse();L({data:[],error:"",entity:"product",params:{urlTitle:t[0]},makeRequest:!0,isFetching:!0,isLoaded:!1})}}),[e.pathname,L,F.isFetching,F.isLoaded]),Object(i.useEffect)((function(){if(F.isLoaded&&!m.isFetching&&!m.isLoaded&&!m.isFetching){console.log("First and only option request");var t=j(e.search,F.data.optionGroups);g(Object(r.a)(Object(r.a)({},m),{},{isFetching:!0,isLoaded:!1,params:{productID:F.data.productID,skuID:x.skuid,selectedOptionIDList:t.length?t:F.data.defaultSelectedOptions},makeRequest:!0}))}}),[g,m,x.skuid,e.search,F]),Object(i.useEffect)((function(){var t=a.listen((function(t){if(I!==t.pathname){console.log("product change");var e=t.pathname.split("/").reverse();S(t.pathname),L({data:[],error:"",entity:"product",params:{urlTitle:e[0]},makeRequest:!0,isFetching:!0,isLoaded:!1}),g({data:{sku:{}},error:"",params:{},makeRequest:!1,isFetching:!1,isLoaded:!1}),window.scrollTo({top:0,behavior:"smooth"})}else if(!F.isFetching&&F.isLoaded&&!m.isLoaded&&!m.isFetching){console.log("option change");var a=j(t.search,F.data.optionGroups);g({data:{sku:{}},error:"",isFetching:!0,isLoaded:!1,params:{productID:F.data.productID,selectedOptionIDList:a},makeRequest:!0})}}));return function(){t()}}),[I,S,a,L,F,g,m]),!F.isFetching&&F.isLoaded&&F.data&&0===Object.keys(F.data).length?Object(b.jsx)(s.a,{to:"/404"}):Object(b.jsx)(c.w,{children:Object(b.jsxs)("div",{className:"bg-light p-0",children:[F.isLoaded&&Object(b.jsx)(c.L,{title:F.data.productSeries,children:Object(b.jsx)(c.e,{crumbs:F.data.breadcrumbs.map((function(t){return{title:t.productTypeName,urlTitle:"/".concat(T,"/").concat(t.urlTitle)}})).filter((function(t){return t.urlTitle!=="/".concat(T,"/").concat(w)}))})}),F.isLoaded&&Object(b.jsx)(l.a,{title:F.data.settings.productHTMLTitleString}),F.isLoaded&&F.data.productID&&m.isLoaded&&Object(b.jsx)(c.K,{attributeSets:F.attributeSets,product:F.data,sku:m.data.sku[0],skuID:m.data.skuID,availableSkuOptions:m.data.availableSkuOptions,productOptions:F.data.optionGroups,isFetching:m.isFetching||F.isFetching}),F.isLoaded&&F.data.productID&&Object(b.jsx)(c.R,{productID:F.data.productID})]})})}},528:function(t,e,a){"use strict";a.r(e);var r=a(518),n=a(15),o=a(0);e.default=function(){var t=Object(n.h)();return Object(o.jsx)(r.default,{forwardState:t})}}}]);
//# sourceMappingURL=5.08310902.chunk.js.map