{"version":3,"sources":["services/productbundleservice.ts"],"names":[],"mappings":"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","file":"services/productbundleservice.js","sourceRoot":"/Users/ianhickey/Sites/Slatwall/","sourcesContent":["'use strict';\nangular.module('slatwalladmin')\n.factory('productBundleService',\n[\n\t'$log',\n\t'$slatwall',\n\t'utilityService',\n\tfunction(\n\t\t$log,\n\t\t$slatwall,\n\t\tutilityService\n\t){\n\t\t\n\t\tvar productBundleService = {\n\t\t\tdecorateProductBundleGroup:function(productBundleGroup){\n\t\t\t\tproductBundleGroup.data.$$editing = true;\n\t\t\t\tvar prototype = {\n\t\t\t\t\t$$setMinimumQuantity:function(quantity) {\n\t\t\t\t\t\tif(quantity < 0 || quantity === null ){\n\t\t\t\t\t\t\tthis.minimumQuantity = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(quantity > this.maximumQuantity){\n\t\t\t\t\t\t\tthis.maximumQuantity = quantity;\n\t\t\t\t\t\t} \n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\t$$setMaximumQuantity:function(quantity){\n\t\t\t\t\t\tif(quantity < 1 || quantity === null ){\n\t\t\t\t\t\t\tthis.maximumQuantity = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(this.maximumQuantity < this.minimumQuantity){\n\t\t\t\t\t\t\tthis.minimumQuantity = this.maximumQuantity;\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t$$setActive:function(value){\n\t\t\t\t\t\tthis.active=value;\n\t\t\t\t\t},\n\t\t\t\t\t$$toggleEdit:function(){\n\t\t\t\t\t\tif(angular.isUndefined(this.$$editing) || this.$$editing === false){\n\t\t\t\t\t\t\tthis.$$editing = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$$editing = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tangular.extend(productBundleGroup.data,prototype);\n\t\t\t},\n\t\t\tformatProductBundleGroupFilters:function(productBundelGroupFilters,filterTerm){\n\t\t\t\t$log.debug('formatProductBundleGroupFilters');\n\t\t\t\t$log.debug(filterTerm);\n\t\t\t\tif(filterTerm.value === 'sku'){\n\t\t\t\t\tfor(var i in productBundelGroupFilters){\n\t\t\t\t\t\tproductBundelGroupFilters[i].name = productBundelGroupFilters[i][filterTerm.value+'Code'];\n\t\t\t\t\t\tproductBundelGroupFilters[i].type = filterTerm.name;\n\t\t\t\t\t\tproductBundelGroupFilters[i].entityType = filterTerm.value;\n\t\t\t\t\t\tproductBundelGroupFilters[i].propertyIdentifier='_sku.skuID';\n\t\t\t\t\t}\n\t\t\t\t} else{\n\t\t\t\t\tfor(var i in productBundelGroupFilters){\n\t\t\t\t\t\tproductBundelGroupFilters[i].name = productBundelGroupFilters[i][filterTerm.value+'Name'];\n\t\t\t\t\t\tproductBundelGroupFilters[i].type = filterTerm.name;\n\t\t\t\t\t\tproductBundelGroupFilters[i].entityType = filterTerm.value;\n\t\t\t\t\t\tif(filterTerm.value === 'brand' || filterTerm.value === 'productType'){\n\t\t\t\t\t\t\tproductBundelGroupFilters[i].propertyIdentifier='_sku.product.'+filterTerm.value+'.'+filterTerm.value+'ID';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tproductBundelGroupFilters[i].propertyIdentifier='_sku.'+filterTerm.value+'.'+filterTerm.value+'ID';\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tproductBundelGroupFilters = utilityService.arraySorter(productBundelGroupFilters, \"name\");\n\t\t\t\t\n\t\t\t\t$log.debug(productBundelGroupFilters);\n\t\t\t\treturn productBundelGroupFilters;\n\t\t\t}\n\t\t\n\t\t};\n\t\t\n\t\treturn productBundleService;\n\t}\n]);\n"]}