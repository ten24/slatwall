{"version":3,"sources":["directives/orderitem/sworderitems.ts"],"names":[],"mappings":"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","file":"directives/orderitem/sworderitems.js","sourcesContent":["angular.module('slatwalladmin')\n.directive('swOrderItems', [\n'$log',\n'$timeout',\n'$location',\n'$slatwall',\n'formService',\n'partialsPath',\n'paginationService',\n\n\tfunction(\n\t$log,\n\t$timeout,\n\t$location,\n\t$slatwall,\n\tformService,\n\tpartialsPath,\n\tpaginationService\n\t){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\tscope:{\n\t\t\t\torderId:\"@\"\n\t\t\t},\n\t\t\ttemplateUrl:partialsPath+\"orderitemrows.html\",\n\t\t\t\n\t\t\tlink: function(scope, element, attrs){\n\t\t\t\t\n\t\t\t\tscope.currentPage= paginationService.getCurrentPage();\n\t\t\t\tscope.pageShow = paginationService.getPageShow();\n\t\t\t\tscope.pageStart = paginationService.getPageStart;\n\t\t\t\tscope.pageEnd = paginationService.getPageEnd;\n\t\t\t\tscope.recordsCount = paginationService.getRecordsCount;\n\t\t\t\tscope.autoScrollPage = 1;\n\t\t\t\tscope.autoScrollDisabled = false;\n\t\t\t\t\n\t\t\t\tscope.keywords = \"\";\n\t\t\t\tscope.loadingCollection = false;\n\t\t\t\tvar searchPromise;\n\t\t\t\tscope.searchCollection = function(){\n\t\t\t\t\tif(searchPromise) {\n\t\t\t\t\t\t$timeout.cancel(searchPromise);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tsearchPromise = $timeout(function(){\n\t\t\t\t\t\t$log.debug('search with keywords');\n\t\t\t\t\t\t$log.debug(scope.keywords);\n\t\t\t\t\t\t//Set current page here so that the pagination does not break when getting collection\n\t\t\t\t\t\tpaginationService.setCurrentPage(1);\n\t\t\t\t\t\tscope.loadingCollection = true;\n\t\t\t\t\t\tscope.getCollection();\n\t\t\t\t\t}, 500);\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t$log.debug('Init Order Item');\n\t\t\t\t$log.debug(scope.orderId);\t\n\t\t\t\t\n\t\t\t\t//Setup the data needed for each order item object.\n\t\t\t\tscope.getCollection = function(){\n\t\t\t\t\tif(scope.pageShow === 'Auto'){\n\t\t\t\t\t\tscope.pageShow = 50;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar columnsConfig =[\n\t\t\t\t\t{\n\t\t\t\t\t   \"isDeletable\":false,\n\t\t\t\t\t   \"isExportable\":true,\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.orderItemID\",\n\t\t\t\t\t   \"ormtype\":\"id\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t  \n\t\t\t\t\t   \"title\":\"Order Item ID\",\n\t\t\t\t\t    \"isSearchable\":true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Order Item Type\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.orderItemType\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Order Item Price\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.price\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Sku Name\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.sku.skuName\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t   \"ormtype\":\"string\",\n\t\t\t\t\t    \"isSearchable\":true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Sku Price\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.skuPrice\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Sku ID\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.sku.skuID\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"SKU Code\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.sku.skuCode\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t   \"ormtype\":\"string\",\n\t\t\t\t\t    \"isSearchable\":true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Product Bundle Group\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.productBundleGroup.productBundleGroupID\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Product ID\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.sku.product.productID\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Product Name\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.sku.product.productName\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Product Type\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.sku.product.productType\",\n\t\t\t\t\t   \"isVisible\":true\n\t\t\t\t\t},\n                     {\n                        \"propertyIdentifier\":\"_orderitem.sku.baseProductType\",\n                        \"persistent\":false\n                     }, \n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Product Description\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.sku.product.productDescription\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Event Start Date Time\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.sku.eventStartDateTime\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Product Description\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.sku.options\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t   \"title\":\"Sku Location\",\n\t\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.sku.locations\",\n\t\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t\t   \n\t\t\t\t\t\t   \"persistent\":false\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t   \"title\":\"Subscription Term\",\n\t\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.sku.subscriptionTerm.subscriptionTermName\",\n\t\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t   \"title\":\"Subscription Benefits\",\n\t\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.sku.subscriptionBenefits\",\n\t\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Qty.\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.quantity\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Fulfillment Method Name\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.orderFulfillment.fulfillmentMethod.fulfillmentMethodName\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Fulfillment ID\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.orderFulfillment.orderFulfillmentID\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Fulfillment Method Type\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.orderFulfillment.fulfillmentMethod.fulfillmentMethodType\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Street Address\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.orderFulfillment.pickupLocation.primaryAddress.address\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t   \"ormtype\":\"string\",\n\t\t\t\t\t    \"isSearchable\":true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Street Address\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.orderFulfillment.shippingAddress.streetAddress\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t   \"ormtype\":\"string\",\n\t\t\t\t\t    \"isSearchable\":true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Street Address 2\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.orderFulfillment.shippingAddress.street2Address\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t   \"ormtype\":\"string\",\n\t\t\t\t\t    \"isSearchable\":true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Postal Code\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.orderFulfillment.shippingAddress.postalCode\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t   \"ormtype\":\"string\",\n\t\t\t\t\t    \"isSearchable\":true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"City\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.orderFulfillment.shippingAddress.city\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t   \"ormtype\":\"string\",\n\t\t\t\t\t    \"isSearchable\":true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"State\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.orderFulfillment.shippingAddress.stateCode\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t   \"ormtype\":\"string\",\n\t\t\t\t\t    \"isSearchable\":true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Country\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.orderFulfillment.shippingAddress.countryCode\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t   \"ormtype\":\"string\",\n\t\t\t\t\t    \"isSearchable\":true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Image File Name\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.sku.imageFile\",\n\t\t\t\t\t   \"isVisible\":true,\n\t\t\t\t\t   \n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Total\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.itemTotal\",\n\t\t\t\t\t   \"persistent\":false\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Discount Amount\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.discountAmount\",\n\t\t\t\t\t   \"persistent\":false\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"title\":\"Tax Amount\",\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.taxAmount\",\n\t\t\t\t\t   \"persistent\":false\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.extendedPrice\",\n\t\t\t\t\t   \"persistent\":false\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t   \"propertyIdentifier\":\"_orderitem.productBundlePrice\",\n\t\t\t\t\t   \"persistent\":false\n\t\t\t\t\t}\n\n\t\t \t\t\t\t    \n \t\t\t\t  ];\n\t\t\t\t\t\n\t\t\t\t\t//add attributes to the column config\n\t\t\t\t\tangular.forEach(scope.attributes,function(attribute){\n\t\t\t\t\t\tvar attributeColumn = {\n\t\t\t\t\t\t\tpropertyIdentifier:\"_orderitem.\"+attribute.attributeCode,\n\t\t\t\t\t\t\tattributeID:attribute.attributeID,\n\t\t\t\t\t         attributeSetObject:\"orderItem\"\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcolumnsConfig.push(attributeColumn);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tvar filterGroupsConfig =[\n\t\t\t\t\t    {\n\t\t\t\t\t      \"filterGroup\": [\n\t\t\t\t\t        {\n\t\t\t\t\t          \"propertyIdentifier\": \"_orderitem.order.orderID\",\n\t\t\t\t\t          \"comparisonOperator\": \"=\",\n\t\t\t\t\t          \"value\": scope.orderId,\n\t\t\t\t\t        },\n\t\t\t\t\t        {\n\t\t\t\t\t        \t\"logicalOperator\":\"AND\",\n\t\t\t\t\t          \"propertyIdentifier\": \"_orderitem.parentOrderItem\",\n\t\t\t\t\t          \"comparisonOperator\": \"is\",\n\t\t\t\t\t          \"value\": \"null\",\n\t\t\t\t\t        }\n\t\t\t\t\t      ]\n\t\t\t\t\t    }\n\t\t\t\t\t  ];\n\t\t\t\t\t\n\t\t\t\t\tvar options = {\n\t\t\t\t\t\tcolumnsConfig:angular.toJson(columnsConfig),\n\t\t\t\t\t\tfilterGroupsConfig:angular.toJson(filterGroupsConfig),\n\t\t\t\t\t\tcurrentPage:scope.currentPage,\n\t\t\t\t\t\tpageShow:scope.pageShow,\n\t\t\t\t\t\tkeywords:scope.keywords\n\t\t\t\t\t};\n\t\t\t\t\t//Create a list of order items.\n\t\t\t\t\t//scope.orderItems = [];\n\t\t\t\t\tscope.orderAttributes = [];\n\t\t\t\t\tscope.attributeValues = [];\n\t\t\t\t\t\n\t\t\t\t\tvar orderItemsPromise = $slatwall.getEntity('orderItem', options);\n\t\t\t\t\torderItemsPromise.then(function(value){\n\t\t\t\t\t\tscope.collection = value;\n\t\t\t\t\t\tvar collectionConfig = {};\n\t\t\t\t\t\tcollectionConfig.columns = columnsConfig;\n\t\t\t\t\t\tcollectionConfig.baseEntityName = 'SlatwallOrderItem';\n\t\t\t\t\t\tcollectionConfig.baseEntityAlias = '_orderitem';\n\t\t\t\t\t\tscope.orderItems = $slatwall.populateCollection(value.pageRecords,collectionConfig);\n                         for (var orderItem in scope.orderItems){\n                             $log.debug(\"OrderItem Product Type\");\n                             $log.debug(scope.orderItems);  \n                             //orderItem.productType = orderItem.data.sku.data.product.data.productType.$$getParentProductType();\n                             \n                         }\n\t\t\t\t\t\tscope.loadingCollection = false;\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\t//get all possible attributes\n\t\t\t\tvar attributesConfig = [  \n                    {  \n                        \"propertyIdentifier\":\"_attribute.attributeID\",\n                        \"ormtype\":\"id\",\n                        \"title\":\"attributeID\",\n                     },\n                     {  \n                        \"propertyIdentifier\":\"_attribute.attributeCode\",\n                        \"ormtype\":\"string\",\n                        \"title\":\"Attribute Code\",\n                     },\n                     {  \n                         \"propertyIdentifier\":\"_attribute.attributeName\",\n                         \"ormtype\":\"string\",\n                         \"title\":\"Attribute Name\",\n                      }\n                  ];\t\n\t\t\t\t\n\t\t\t\tvar attributesFilters =[\n\t\t\t\t    {\n\t\t\t\t\t    \"filterGroup\": [\n\t     \t\t\t        {\n\t     \t\t\t          \"propertyIdentifier\": \"_attribute.displayOnOrderDetailFlag\",\n\t     \t\t\t          \"comparisonOperator\": \"=\",\n\t     \t\t\t          \"value\": true\n\t     \t\t\t        },\n\t     \t\t\t       {\n\t     \t\t\t        \t\"logicalOperator\":\"AND\",\n\t     \t\t\t          \"propertyIdentifier\": \"_attribute.activeFlag\",\n\t     \t\t\t          \"comparisonOperator\": \"=\",\n\t     \t\t\t          \"value\": true\n\t     \t\t\t        }\n     \t\t\t      ]\n     \t\t\t    }\n     \t\t\t];\n\t\t\t\tvar attributeOptions = {\n\t\t\t\t\t\tcolumnsConfig:angular.toJson(attributesConfig),\n\t\t\t\t\t\tfilterGroupsConfig:angular.toJson(attributesFilters),\n\t\t\t\t\t\tallRecords:true\n\t\t\t\t\t};\n\t\t\t\tvar attItemsPromise = $slatwall.getEntity('attribute', attributeOptions);\n\t\t\t\tattItemsPromise.then(function(value){\n\t\t\t\t\tscope.attributes = [];\n\t\t\t\t\tangular.forEach(value.records, function(attributeItemData){\n\t\t\t\t\t\t//Use that custom attribute name to get the value.\n\t\t\t\t\t\tscope.attributes.push(attributeItemData);\n\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t\tscope.getCollection();\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t//Add claim function and cancel function\n\n\t\t\t\tscope.appendToCollection = function(){\n\t\t\t\t\tif(scope.pageShow === 'Auto'){\n\t\t\t\t\t\t$log.debug('AppendToCollection');\n\t\t\t\t\t\tif(scope.autoScrollPage < scope.collection.totalPages){\n\t\t\t\t\t\t\tscope.autoScrollDisabled = true;\n\t\t\t\t\t\t\tscope.autoScrollPage++;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar appendOptions = {};\n\t\t\t\t\t\t\tangular.extend(appendOptions,options);\n\t\t\t\t\t\t\tappendOptions.pageShow = 50;\n\t\t\t\t\t\t\tappendOptions.currentPage = scope.autoScrollPage;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar collectionListingPromise = $slatwall.getEntity('orderItem', appendOptions);\n\t\t\t\t\t\t\tcollectionListingPromise.then(function(value){\n\t\t\t\t\t\t\t\tscope.collection.pageRecords = scope.collection.pageRecords.concat(value.pageRecords);\n\t\t\t\t\t\t\t\tscope.autoScrollDisabled = false;\n\t\t\t\t\t\t\t},function(reason){\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t}//<--End link\n\t\t};\n\t}\n]);\n\t\n"],"sourceRoot":"/source/"}