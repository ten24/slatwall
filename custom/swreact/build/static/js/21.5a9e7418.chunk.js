(this.webpackJsonpswreact=this.webpackJsonpswreact||[]).push([[21],{523:function(e,t,a){"use strict";a.r(t);var r=a(2),c=a(6),i=a(140),n=a(28),o=a(139),s=a(15),d=a(34),l=a(3),u=a(20),p=a.n(u),j=a(1),h=a(31),b=a(30),y=a(0);t.default=function(){var e,t,a=Object(s.h)(),u=Object(b.a)().t,f=p.a.parse(a.search,{arrayFormat:"separator",arrayFormatSeparator:","}),O=Object(s.g)(),m=Object(d.c)(),v=Object(c.a)(m,2),g=v[0],T=v[1],w=Object(l.d)((function(e){return e.configuration.filtering.productTypeBase})),k=f.key||w;Object(j.useEffect)((function(){g.isFetching||g.isLoaded||T(Object(r.a)(Object(r.a)({},g),{},{isFetching:!0,isLoaded:!1,entity:"ProductType",params:{searchKeyword:null===f||void 0===f?void 0:f.keyword,"p:show":250,includeSettingsInList:!0},makeRequest:!0}))}),[k,f,g,T]),Object(j.useEffect)((function(){var e=O.listen((function(e){var t=p.a.parse(e.search,{arrayFormat:"separator",arrayFormatSeparator:","});1===Object.keys(t).length&&T(Object(r.a)(Object(r.a)({},g),{},{isFetching:!0,isLoaded:!1,entity:"ProductType",params:{searchKeyword:null===t||void 0===t?void 0:t.keyword,"p:show":250,includeSettingsInList:!0},makeRequest:!0}))}));return function(){e()}}),[g,T,O]);var F=Object(h.a)(k,g.data);return Object(y.jsxs)(n.w,{children:[Object(y.jsx)(i.a,{title:"Search - ".concat(f.keyword)}),g.isLoaded&&Object(y.jsx)(n.D,{title:"",crumbs:g.data.filter((function(e){var t;return null===F||void 0===F||null===(t=F.productTypeIDPath)||void 0===t?void 0:t.includes(e.productTypeID)})).map((function(e){return{title:e.productTypeName,urlTitle:e.urlTitle}})).filter((function(e){return e.urlTitle!==w})).filter((function(e){return e.urlTitle!==f.key})).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{urlTitle:"".concat(a.pathname,"?").concat(p.a.stringify(Object(r.a)(Object(r.a)({},f),{},{key:e.urlTitle}),{arrayFormat:"comma"}))})}))}),g.isLoaded&&(null===(e=F.childProductTypes)||void 0===e?void 0:e.length)>0&&Object(y.jsx)(n.J,{data:F,onSelect:function(e){f.key=e,O.push("".concat(a.pathname,"?").concat(p.a.stringify(f,{arrayFormat:"comma"})))}}),!g.isFetching&&g.isLoaded&&0===Object.keys(g.data).length&&Object(y.jsx)("div",{className:"container bg-light box-shadow-lg rounded-lg p-5",children:Object(y.jsx)("div",{className:"row",children:Object(y.jsx)("div",{className:"alert alert-info",role:"alert",children:"".concat(u("frontend.search.no_results")," ").concat(null===f||void 0===f?void 0:f.keyword)})})}),g.isLoaded&&0===(null===F||void 0===F||null===(t=F.childProductTypes)||void 0===t?void 0:t.length)&&Object(y.jsx)(o.a,{preFilter:{productType_slug:k},hide:["productType"]})]})}}}]);
//# sourceMappingURL=21.5a9e7418.chunk.js.map