(this.webpackJsonpstoneandberg=this.webpackJsonpstoneandberg||[]).push([[21],{526:function(e,t,a){"use strict";a.r(t);var r=a(2),c=a(5),n=a(145),i=a(31),o=a(21),s=a(30),d=a(3),l=a(24),u=a.n(l),p=a(1),b=a(32),j=a(519),h=a(0);t.default=function(){var e,t,a=Object(o.h)(),l=Object(j.a)().t,y=u.a.parse(a.search,{arrayFormat:"separator",arrayFormatSeparator:","}),f=Object(o.g)(),O=Object(s.c)(),m=Object(c.a)(O,2),v=m[0],g=m[1],T=Object(d.c)((function(e){return e.configuration.filtering.productTypeBase})),k=y.key||T;Object(p.useEffect)((function(){v.isFetching||v.isLoaded||g(Object(r.a)(Object(r.a)({},v),{},{isFetching:!0,isLoaded:!1,entity:"ProductType",params:{searchKeyword:null===y||void 0===y?void 0:y.keyword,"p:show":250,includeSettingsInList:!0},makeRequest:!0}))}),[k,y,v,g]),Object(p.useEffect)((function(){var e=f.listen((function(e){var t=u.a.parse(e.search,{arrayFormat:"separator",arrayFormatSeparator:","});1===Object.keys(t).length&&g(Object(r.a)(Object(r.a)({},v),{},{isFetching:!0,isLoaded:!1,entity:"ProductType",params:{searchKeyword:null===t||void 0===t?void 0:t.keyword,"p:show":250,includeSettingsInList:!0},makeRequest:!0}))}));return function(){e()}}),[v,g,f]);var w=Object(b.a)(k,v.data);return Object(h.jsxs)(i.Q,{children:[Object(h.jsx)(n.a,{title:"Search - ".concat(y.keyword)}),v.isLoaded&&Object(h.jsx)(i.fb,{title:"",crumbs:v.data.filter((function(e){var t;return null===w||void 0===w||null===(t=w.productTypeIDPath)||void 0===t?void 0:t.includes(e.productTypeID)})).map((function(e){return{title:e.productTypeName,urlTitle:e.urlTitle}})).filter((function(e){return e.urlTitle!==T})).filter((function(e){return e.urlTitle!==y.key})).map((function(e){return Object(r.a)(Object(r.a)({},e),{},{urlTitle:"".concat(a.pathname,"?").concat(u.a.stringify(Object(r.a)(Object(r.a)({},y),{},{key:e.urlTitle}),{arrayFormat:"comma"}))})}))}),v.isLoaded&&(null===(e=w.childProductTypes)||void 0===e?void 0:e.length)>0&&Object(h.jsx)(i.ub,{data:w,onSelect:function(e){y.key=e,f.push("".concat(a.pathname,"?").concat(u.a.stringify(y,{arrayFormat:"comma"})))}}),!v.isFetching&&v.isLoaded&&0===Object.keys(v.data).length&&Object(h.jsx)("div",{className:"container bg-light box-shadow-lg rounded-lg p-5",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"alert alert-info",role:"alert",children:"".concat(l("frontend.search.no_results")," ").concat(null===y||void 0===y?void 0:y.keyword)})})}),v.isLoaded&&0===(null===w||void 0===w||null===(t=w.childProductTypes)||void 0===t?void 0:t.length)&&Object(h.jsx)(i.R,{preFilter:{productType_slug:k},hide:["productType"]})]})}}}]);
//# sourceMappingURL=21.3354ef28.chunk.js.map