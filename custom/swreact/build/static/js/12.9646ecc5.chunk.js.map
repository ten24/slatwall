{"version":3,"sources":["pages/Brand/BrandBanner.js","pages/Brand/Brand.js"],"names":["BrandBanner","brandName","imageFile","brandDescription","subHeading","className","length","style","maxHeight","customPath","src","alt","type","dangerouslySetInnerHTML","__html","Brand","props","brandRoute","useSelector","getBrandRoute","productTypeBase","state","configuration","filtering","path","location","pathname","split","reverse","loc","useLocation","params","queryString","parse","search","arrayFormat","arrayFormatSeparator","history","useHistory","useGetEntity","brandResponse","setBrandRequest","productTypeRequest","setProductTypeRequest","productTypeUrl","useEffect","isFetching","isLoaded","entity","brandUrlTitle","includeSettingsInList","makeRequest","Object","keys","data","to","productTypeData","augmentProductType","isNonBasePTAndListing","childProductTypes","classNameList","Helmet","title","settings","brandHTMLTitleString","productTypeName","includeHome","brand","urlTitle","crumbs","filter","productType","productTypeIDPath","includes","productTypeID","map","crumb","stringify","key","onSelect","push","Listing","preFilter","productType_slug","hide"],"mappings":"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","file":"static/js/12.9646ecc5.chunk.js","sourcesContent":["import { SWImage } from '../../components'\nconst BrandBanner = ({ brandName = '', imageFile, brandDescription, subHeading }) => {\n  return (\n    <div className=\"row align-items-center\">\n      {/* Checking 'imageFile' length so that empty string does not get passed */}\n      {imageFile && imageFile.length > 5 && <SWImage style={{ maxHeight: '150px' }} customPath=\"/custom/assets/images/brand/logo/\" src={imageFile} alt={brandName} type=\"brand\" className=\"bg-white mr-2 ml-3\" />}\n      <div className=\"col text-left\">\n        <h2 className=\"m-0 font-weight-normal\">{brandName}</h2>\n        {!!subHeading && <h3 className=\"h5 m-0\">{subHeading}</h3>}\n      </div>\n\n      {/* <span dangerouslySetInnerHTML={{ __html: brandDescription }} /> */}\n      <div className=\"col text-right \">\n        <span dangerouslySetInnerHTML={{ __html: brandDescription }} />\n      </div>\n    </div>\n  )\n}\n\nexport default BrandBanner\n","import { Layout, PageHeader, ProductTypeList } from '../../components'\nimport BrandBanner from './BrandBanner'\nimport ListingPage from '../../components/Listing/Listing'\nimport { Redirect, useHistory, useLocation } from 'react-router'\nimport { useGetEntity } from '../../hooks/useAPI'\nimport { useSelector } from 'react-redux'\nimport queryString from 'query-string'\nimport { useEffect } from 'react'\nimport { Helmet } from 'react-helmet'\nimport { getBrandRoute } from '../../selectors/configurationSelectors'\nimport { augmentProductType } from '../../utils'\n\nconst Brand = props => {\n  const brandRoute = useSelector(getBrandRoute)\n  const productTypeBase = useSelector(state => state.configuration.filtering.productTypeBase)\n\n  const path = props.location.pathname.split('/').reverse()\n  const loc = useLocation()\n  let params = queryString.parse(loc.search, { arrayFormat: 'separator', arrayFormatSeparator: ',' })\n\n  const history = useHistory()\n  let [brandResponse, setBrandRequest] = useGetEntity()\n  const [productTypeRequest, setProductTypeRequest] = useGetEntity()\n  const productTypeUrl = params['key'] || productTypeBase\n\n  useEffect(() => {\n    if (!productTypeRequest.isFetching && !productTypeRequest.isLoaded) {\n      setProductTypeRequest({\n        ...productTypeRequest,\n        isFetching: true,\n        isLoaded: false,\n        entity: 'ProductType',\n        params: { brandUrlTitle: path[0], 'p:show': 250, includeSettingsInList: true },\n        makeRequest: true,\n      })\n    }\n    if (!brandResponse.isFetching && !brandResponse.isLoaded) {\n      setBrandRequest({ ...brandResponse, isFetching: true, isLoaded: false, entity: 'brand', params: { 'f:urlTitle': path[0] }, makeRequest: true })\n    }\n  }, [productTypeUrl, setBrandRequest, brandResponse, path, setProductTypeRequest, productTypeRequest])\n\n  if (!productTypeRequest.isFetching && productTypeRequest.isLoaded && Object.keys(productTypeRequest.data).length === 0) {\n    return <Redirect to=\"/404\" />\n  }\n\n  const productTypeData = augmentProductType(productTypeUrl, productTypeRequest.data)\n  const isNonBasePTAndListing = productTypeData?.childProductTypes?.length !== 0 && productTypeUrl !== productTypeBase\n\n  return (\n    <Layout classNameList=\"page-overlap-none\">\n      {brandResponse.isLoaded && brandResponse.data.length > 0 && <Helmet title={brandResponse.data[0].settings.brandHTMLTitleString} />}\n      {brandResponse.isLoaded && productTypeRequest.isLoaded && (\n        <PageHeader\n          title={isNonBasePTAndListing && productTypeData?.productTypeName}\n          includeHome={true}\n          brand={params['key'] && [{ title: brandResponse.data[0].brandName, urlTitle: `/${brandRoute}/${brandResponse.data[0].urlTitle}` }]}\n          crumbs={productTypeRequest.data\n            .filter(productType => {\n              return productTypeData?.productTypeIDPath?.includes(productType.productTypeID)\n            })\n            .map(crumb => {\n              return { title: crumb.productTypeName, urlTitle: crumb.urlTitle }\n            })\n            .filter(crumb => crumb.urlTitle !== productTypeBase)\n            .filter(crumb => crumb.urlTitle !== productTypeUrl)\n            .map(crumb => {\n              return { ...crumb, urlTitle: `${loc.pathname}?${queryString.stringify({ key: crumb.urlTitle }, { arrayFormat: 'comma' })}` }\n            })}\n        >\n          <BrandBanner subHeading={productTypeData?.productTypeName} brandName={brandResponse.data[0].brandName} imageFile={brandResponse.data[0].imageFile} brandDescription={brandResponse.data[0].brandDescription} />\n        </PageHeader>\n      )}\n      {brandResponse.isLoaded && productTypeData.childProductTypes?.length > 0 && (\n        <ProductTypeList\n          data={productTypeData}\n          onSelect={urlTitle => {\n            params['key'] = urlTitle\n            history.push(`${loc.pathname}?${queryString.stringify(params, { arrayFormat: 'comma' })}`)\n          }}\n        />\n      )}\n      {productTypeData?.childProductTypes?.length === 0 && <ListingPage preFilter={{ brand: brandResponse.data[0].brandName, productType_slug: productTypeData.urlTitle }} hide={['productType', 'brands']}></ListingPage>}\n    </Layout>\n  )\n}\n\nexport default Brand\n"],"sourceRoot":""}