{"version":3,"sources":["directives/orderitem/sworderitemdetailstamp.ts"],"names":[],"mappings":"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","file":"directives/orderitem/sworderitemdetailstamp.js","sourceRoot":"/Users/ianhickey/Sites/Slatwall/","sourcesContent":["/**\n * Displays a shipping label in the order items row.\n * @module slatwalladmin\n * @class swOrderItemsShippingLabelStamp\n */\nangular.module('slatwalladmin')\n.directive('swOrderItemDetailStamp', \n[\n'partialsPath',\n'$log',\n'$slatwall',\n\tfunction(partialsPath, $log, $slatwall){\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tscope:{\n\t\t\t\tsystemCode:\"=\",\n\t\t\t\torderItemId:\"=\",\n\t\t\t\tskuId:\"=\",\n\t\t\t\torderItem:\"=\"\n\t\t\t},\n\t\t\ttemplateUrl:partialsPath+\"orderitem-detaillabel.html\",\n\t\t\tlink: function(scope, element, attrs){\n\t\t\t\tscope.details = [];\n\t\t\t\tscope.orderItem.detailsName = [];\n\t\t\t\tvar results;\n\t\t\t\t$log.debug(\"Detail stamp\");\n\t\t\t\t$log.debug(scope.systemCode);\n\t\t\t\t$log.debug(scope.orderItemId);\n\t\t\t\t$log.debug(scope.skuId);\n\t\t\t\t$log.debug(scope.orderItem);\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\t * For each type of orderItem, get the appropriate detail information.\n\t\t\t\t * \n\t\t\t\t * Merchandise: Option Group Name and Option \n\t\t\t\t * Event: Event Date, Event Location\n\t\t\t\t * Subscription: Subscription Term, Subscription Benefits \n\t\t\t\t */\n\t\t\t\tvar getMerchandiseDetails = function(orderItem){\n\t\t\t\t\t//Get option and option groups\n\t\t\t\t\tfor (var i = 0; i <=  orderItem.data.sku.data.options.length - 1; i++){\n\t\t\t\t\t\torderItem.details.push(orderItem.data.sku.data.options[i].optionCode);\n\t\t\t\t\t\torderItem.details.push(orderItem.data.sku.data.options[i].optionName);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tvar getSubscriptionDetails = function(orderItem){\n\t\t\t\t\t\n\t\t\t\t\t//get Subscription Term and Subscription Benefits\n\t\t\t\t\tvar name = orderItem.data.sku.data.subscriptionTerm.data.subscriptionTermName || \"\";\n\t\t\t\t\torderItem.detailsName.push(\"Subscription Term:\");\n\t\t\t\t\torderItem.details.push(name);\n\t\t\t\t\t\n\t\t\t\t\t//Maybe multiple benefits so show them all.\n\t\t\t\t\tfor (var i = 0; i <=  orderItem.data.sku.data.subscriptionBenefits.length - 1; i++){\n\t\t\t\t\t\tvar benefitName = orderItem.data.sku.data.subscriptionBenefits[i].subscriptionBenefitName || \"\";\n\t\t\t\t\t\torderItem.detailsName.push(\"Subscription Benefit:\");\n\t\t\t\t\t\torderItem.details.push(benefitName);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tvar getEventDetails = function(orderItem){\n\t\t\t\t\t//get event date, and event location\n\t\t\t\t\torderItem.detailsName.push(\"Event Date: \");\n\t\t\t\t\torderItem.details.push(orderItem.data.sku.data.eventStartDateTime);\t\t\n\t\t\t\t\t//Need to iterate this.\n\t\t\t\t\tfor (var i = 0; i <= orderItem.data.sku.data.locations.length - 1; i++ ){\n\t\t\t\t\t\torderItem.detailsName.push(\"Location: \");\n\t\t\t\t\t\torderItem.details.push(orderItem.data.sku.data.locations[i].locationName);\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t};\n\t\t\t\tif (angular.isDefined(scope.orderItem.details)){\n\t\t\t\t\tswitch (scope.systemCode){\n\t\t\t\t\t\tcase \"merchandise\":\n\t\t\t\t\t\t\tresults = getMerchandiseDetails(scope.orderItem);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"subscription\":\n\t\t\t\t\t\t\tresults = getSubscriptionDetails(scope.orderItem);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"event\":\n\t\t\t\t\t\t\tresults = getEventDetails(scope.orderItem);\n\t\t\t\t\t\t\tbreak;\t\n\t\t\t\t}\n\n\t\t\t\t\tscope.orderItem.details.push(results);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n]);"]}