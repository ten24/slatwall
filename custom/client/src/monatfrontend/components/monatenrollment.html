<header class="site-header d-flex flex-column">
	<div class="container">
		<div class="header-row">
			<div class="left-nav">
				
			</div>
			<a href="#" class="logo">
				<img src="/themes/monat/assets/images/logo.svg"  alt="Monat logo">
			</a>			
			<div class="right-nav">
				<div class="row justify-content-end">
					<hybrid-cart is-enrollment="true"></hybrid-cart>
				</div>			
			</div>			
		</div>
	</div>
</header>

<ng-transclude></ng-transclude>

<div ng-show="!monatEnrollment.canPlaceCartOrder && monatEnrollment.showCanPlaceOrderAlert" class="alert alert-danger alert-dismissible fade show text-center can-place-order-alert" role="alert">
    <span sw-rbkey="'frontend.order.canPlaceOrderFailure'"></span>
</div>
    
<footer class="steps-footer d-flex flex-column">
	<div class="w-100 d-flex justify-content-between align-items-center">
		<!-- Back button --->
		<div class="d-flex align-items-center">
			<a 
				href 
				data-ng-click="monatEnrollment.previous()" 
				class="back d-inline-block" 
				ng-class="{ 
					invisible: (monatEnrollment.position == 0 ), 
				}"
			>
				<span class="last" sw-rbkey="'frontend.global.back'"></span>
				<i class="fas fa-chevron-left"></i> 
			</a>

			<span ng-if="monatEnrollment.cart.totalItemQuantity > 0 && monatEnrollment.showMiniCart" class="qty-and-price text-white pl-3">
				{{ monatEnrollment.cart.totalItemQuantity }} 
				<span sw-rbkey="'frontend.flexshipCartContainer.items'"></span> / 
				<span sw-rbkey="'frontend.flexshipCartContainer.total'"></span> 
				<span ng-bind-html="monatEnrollment.cart.total | swcurrency:monatEnrollment.cart.currencyCode"></span> 
				<small ng-click="monatEnrollment.toggleMiniCart()" class="border-bottom ml-3">{{monatEnrollment.cartText}}</small>
			</span>
		</div>
		
		<!----Step icon indicators --->
		<div class="step-status row w-50 text-center align-items-end">
			<div 
				class="col mt-1"
				ng-style="{ 'opacity' : (monatEnrollment.currentStepName == 'todaysOrder' || monatEnrollment.currentStepName == undefined ) ? '100%' : '50%' }"
			>
				<i class="fal fa-check fa-2x"></i>	
				<p class="mb-1" sw-rbkey="'frontend.cart.todaysOrder'"></p>
			</div>
			
			<div 
				class="col"
				ng-style="{ 
					'opacity' : (monatEnrollment.currentStepName == 'shopIntro' || monatEnrollment.currentStepName == 'orderListing' ||  monatEnrollment.currentStepName == 'subscription' ) ? '100%' : '50%' 
				}"
			>
				<i class="fas fa-truck fa-2x"></i>	
				<p class="mb-1" sw-rbkey="'entity.OrderTemplate'"></p>
			</div>
			
			<div 
				class="col"
				ng-style="{ 'opacity' : (monatEnrollment.currentStepName == 'createAccount' ) ? '100%' : '50%' }"
			>
				<i class="fas fa-user-plus fa-2x"></i>
				<p class="mb-1" sw-rbkey="'frontend.createAccount.createAccountBtn'"></p>
			</div>
			
			<div class="col">
				<i class="fas fa-cash-register fa-2x"></i>
				<p class="mb-1" sw-rbkey="'frontend.global.checkout'"></p>
			</div>
			
			<div class="col">
				<i class="fas fa-user-friends fa-2x"></i>
				<p class="mb-1" sw-rbkey="'frontend.global.sponsor'"></p>
			</div>
		</div>
		
	<!-----NEXT BUTTONS ---->
		<div ng-if="monatEnrollment.canPlaceCartOrder">
			<button 
				style="z-index: 1" 
				data-ng-click="monatEnrollment.next(); monatEnrollment.showCanPlaceOrderAlert = false" 
				class="btn btn-secondary forward-btn forward" 
				ng-if="monatEnrollment.position + 1 != monatEnrollment.steps.length && monatEnrollment.reviewContext == false"
			>
				<span sw-rbkey="'frontend.global.next'"></span>
				<i class="fas fa-chevron-right"></i>
			</button>
			<button 
				style="z-index: 1" 
				data-ng-click="monatEnrollment.goToLastStep(); monatEnrollment.showCanPlaceOrderAlert = false" 
				class="btn btn-secondary forward-btn forward" 
				ng-if="monatEnrollment.position + 1 != monatEnrollment.steps.length && monatEnrollment.reviewContext"
			>
				<span sw-rbkey="'frontend.global.next'"></span>
				<i class="fas fa-chevron-right"></i>
			</button>			
		</div>
		
		<div ng-if="!monatEnrollment.canPlaceCartOrder">
			<button 
				style="z-index: 1" 
				data-ng-click="monatEnrollment.showCanPlaceOrderAlert = true" 
				class="btn btn-secondary forward-btn forward disabled" 
				ng-if="monatEnrollment.position + 1 != monatEnrollment.steps.length && monatEnrollment.reviewContext == false"
			>
				<span sw-rbkey="'frontend.global.next'"></span>
				<i class="fas fa-chevron-right"></i>
			</button>
		</div>

		<span ng-if="monatEnrollment.position + 1 == monatEnrollment.steps.length"></span>
	</div>

</footer>
