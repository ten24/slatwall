{"version":3,"sources":["directives/collection/swcollectiontable.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AACb,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAC9B,SAAS,CAAC,mBAAmB,EAAE;IAC/B,OAAO;IACP,UAAU;IACV,MAAM;IACN,wBAAwB;IACxB,mBAAmB;IAChB,kBAAkB;IAClB,WAAW;IACd,UACC,KAAK,EACL,QAAQ,EACR,IAAI,EACJ,sBAAsB,EACtB,iBAAiB,EACX,gBAAgB,EAChB,SAAS;QAEf,MAAM,CAAC;YACN,QAAQ,EAAE,GAAG;YACb,WAAW,EAAC,sBAAsB,GAAC,sBAAsB;YACzD,KAAK,EAAC;gBACL,UAAU,EAAC,GAAG;gBACd,gBAAgB,EAAC,GAAG;aACpB;YACD,IAAI,EAAE,UAAS,KAAK,EAAC,OAAO,EAAC,KAAK;gBACrB,KAAK,CAAC,gBAAgB,GAAG,SAAS,CAAC,KAAK,GAAC,KAAK,CAAC,UAAU,CAAC,gBAAgB,CAAC,EAAE,CAAC;gBAE9E,KAAK,CAAC,MAAM,CAAC,wBAAwB,EAAC;oBAClC,GAAG,CAAA,CAAC,GAAG,CAAC,MAAM,IAAI,KAAK,CAAC,UAAU,CAAC,WAAW,CAAC,CAAA,CAAC;wBAC5C,IAAI,WAAW,CAAC;wBAChB,IAAI,SAAS,CAAC;wBAEd,IAAI,WAAW,GAAG,KAAK,CAAC,UAAU,CAAC,WAAW,CAAE,MAAM,CAAE,CAAC;wBACzD,IAAI,SAAS,GAAG,WAAW,CAAE,KAAK,CAAC,gBAAgB,CAAC,WAAW,EAAE,CAAE,CAAC;wBAErE,WAAW,GAAG,2BAA2B,GAAG,KAAK,CAAC,UAAU,CAAC,gBAAgB,GAAG,GAAG,GAAG,KAAK,CAAC,gBAAgB,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,SAAS,CAAC;wBAC7I,SAAS,GAAG,yBAAyB,GAAG,KAAK,CAAC,UAAU,CAAC,gBAAgB,GAAG,GAAG,GAAG,KAAK,CAAC,gBAAgB,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,SAAS,CAAC;wBAExI,WAAW,CAAC,YAAY,CAAC,GAAG,WAAW,CAAC;wBACxC,WAAW,CAAC,UAAU,CAAC,GAAG,SAAS,CAAC;oBACxC,CAAC;gBACL,CAAC,CAAC,CAAA;gBAGd,AAGA;;qBADK;gBACL,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAC,UAAS,MAAM;oBAC7D,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,MAAM,CAAC,CAAC;oBACrC,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,kBAAkB,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,eAAe,GAAC,GAAG,EAAC,EAAE,CAAC,CAAC;gBACnH,CAAC,CAAC,CAAC;gBAES,KAAK,CAAC,YAAY,GAAG,UAAS,WAAW,EAAC,SAAS;oBAC/C,gBAAgB,CAAC,YAAY,CAAC,WAAW,EAAC,SAAS,CAAC,CAAC;gBACzD,CAAC,CAAA;YAEd,CAAC;SACD,CAAC;IACH,CAAC;CACD,CAAC,CAAC","file":"directives/collection/swcollectiontable.js","sourcesContent":["'use strict';\nangular.module('slatwalladmin')\n.directive('swCollectionTable', [\n\t'$http',\n\t'$compile',\n\t'$log',\n\t'collectionPartialsPath',\n\t'paginationService',\n    'selectionService',\n    '$slatwall',\n\tfunction(\n\t\t$http,\n\t\t$compile,\n\t\t$log,\n\t\tcollectionPartialsPath,\n\t\tpaginationService,\n        selectionService,\n        $slatwall\n\t){\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplateUrl:collectionPartialsPath+\"collectiontable.html\",\n\t\t\tscope:{\n\t\t\t\tcollection:\"=\",\n\t\t\t\tcollectionConfig:\"=\"\n\t\t\t},\n\t\t\tlink: function(scope,element,attrs){\n                scope.collectionObject = $slatwall['new'+scope.collection.collectionObject]();\n\t\t\t\t\n                scope.$watch('collection.pageRecords',function(){\n                    for(var record in scope.collection.pageRecords){\n                        var _detailLink;\n                        var _editLink;\n                        \n                        var _pageRecord = scope.collection.pageRecords[ record ];\n                        var _objectID = _pageRecord[ scope.collectionObject.$$getIDName() ];\n                        \n                       _detailLink = \"?slatAction=entity.detail\" + scope.collection.collectionObject + \"&\" + scope.collectionObject.$$getIDName() + '=' + _objectID;\n                       _editLink = \"?slatAction=entity.edit\" + scope.collection.collectionObject + \"&\" + scope.collectionObject.$$getIDName() + '=' + _objectID;\n                        \n                        _pageRecord[\"detailLink\"] = _detailLink;\n                        _pageRecord[\"editLink\"] = _editLink;\n                    }\n                })\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t/* \n\t\t\t\t * Handles setting the key on the data.\n\t\t\t\t * */\n\t\t\t\tangular.forEach(scope.collectionConfig.columns,function(column){\n\t\t\t\t\t$log.debug(\"Config Key : \" + column);\n\t\t\t\t\tcolumn.key = column.propertyIdentifier.replace(/\\./g, '_').replace(scope.collectionConfig.baseEntityAlias+'_','');\n\t\t\t\t});\n                \n                scope.addSelection = function(selectionid,selection){\n                    selectionService.addSelection(selectionid,selection);\n                }\n\t\t\t\t\n\t\t\t}\n\t\t};\n\t}\n]);\n\t"],"sourceRoot":"/source/"}