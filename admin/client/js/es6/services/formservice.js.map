{"version":3,"sources":["services/formservice.ts"],"names":["form"],"mappings":"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","file":"services/formservice.js","sourceRoot":"/Users/david/Sites/Slatwall/","sourcesContent":["'use strict';\nangular.module('slatwalladmin')\n.factory('formService',[\n\t'$log',\n\tfunction(\n\t\t$log\n\t){\n\t\tvar _forms = {};\n\t\tvar _pristinePropertyValue = {};\n\t\t\n\t\tfunction form(name,object,editing){\n\t\t\tthis.name = name;\n\t\t\tthis.object= object;\n\t\t\tthis.editing = editing;\n\t\t};\n\t\t\n\t\tvar formService = {\n\t\t\tsetPristinePropertyValue:function(property,value){\n\t\t\t\t_pristinePropertyValue[property] = value;\n\t\t\t},\n\t\t\tgetPristinePropertyValue:function(property){\n\t\t\t\treturn _pristinePropertyValue[property];\n\t\t\t},\n\t\t\tclearForm:function(form){\n\t\t\t\t$log.debug('clear form');\n\t\t\t\t$log.debug(form);\n\t\t\t\tfor(var key in form){\n\t\t\t\t\tif(key.charAt(0) !== '$'){\n\t\t\t\t\t\t$log.debug(form[key]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tsetForm: function(form){\n\t\t\t\t_forms[form.name] = form;\n\t\t\t},\n\t\t\tgetForm:function(formName){\n\t\t\t\treturn _forms[formName];\n\t\t\t},\n\t\t\tgetForms:function(){\n\t\t\t\treturn _forms;\n\t\t\t},\n\t\t\tgetFormsByObjectName:function(objectName){\n\t\t\t\tvar forms = [];\n\t\t\t\tfor(var f in _forms){\n\n\t\t\t\t\tif(angular.isDefined(_forms[f].$$swFormInfo.object) && _forms[f].$$swFormInfo.object.metaData.className === objectName){\n\t\t\t\t\t\tforms.push(_forms[f]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn forms;\n\t\t\t},\n\t\t\tcreateForm:function(name,object,editing){\n\t\t\t\tvar _form = new form(\n\t\t\t\t\tname,\n\t\t\t\t\tobject,\n\t\t\t\t\tediting\n\t\t\t\t);\n\t\t\t\tthis.setForm(_form);\n\t\t\t\treturn _form;\n\t\t\t},\n\t\t\tresetForm:function(form){\n\t\t\t\tfor(var key in form){\n\t\t\t\t\tif(key.charAt(0) !== '$'){\n\t\t\t\t\t\tif(angular.isDefined(this.getPristinePropertyValue(key))){\n\t\t\t\t\t\t\tform[key].$setViewValue(this.getPristinePropertyValue(key));\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tform[key].$setViewValue('');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tform[key].$render();\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tform.$submitted = false;\n\t\t\t\tform.$setPristine();\n\t\t\t}\n\t\t\t\n\t\t};\n\t\t\n\t\treturn formService;\n\t}\n]);\n"]}