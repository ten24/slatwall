{"version":3,"sources":["pages/OrderConfirmation/OrderConfirmation.js"],"names":["OrderConfirmation","useGetAllOrders","orders","setRequest","t","useTranslation","dispatch","useDispatch","loc","useLocation","history","useHistory","useSelector","state","content","pathname","substring","customBody","useEffect","didCancel","isFetching","isLoaded","params","pageRecordsShow","currentPage","makeRequest","confirmOrder","isAuthenticated","className","data","ordersOnAccount","orderNumber","dangerouslySetInnerHTML","__html","onClick","e","preventDefault","push","to"],"mappings":"mMAwEeA,UA9DW,WAAO,IAAD,EACHC,cADG,mBACzBC,EADyB,KACjBC,EADiB,KAEtBC,EAAMC,cAAND,EACJE,EAAWC,cACXC,EAAMC,cACNC,EAAUC,cALgB,GAMFC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAQN,EAAIO,SAASC,UAAU,QAAQ,IAAtFC,kBANsB,MAMT,GANS,EAoB9B,OAZAC,qBAAU,WACR,IAAIC,GAAY,EAMhB,OAJKjB,EAAOkB,YAAelB,EAAOmB,UAAaF,GAC7ChB,EAAW,2BAAKD,GAAN,IAAckB,YAAY,EAAMC,UAAU,EAAOC,OAAQ,CAAEC,gBAAiB,EAAGC,YAAa,GAAKC,aAAa,KAE1HnB,EAASoB,aAAa,IACf,WACLP,GAAY,KAEb,CAACjB,EAAQC,EAAYG,IAEnBqB,cAIH,cAAC,IAAD,UACE,sBAAKC,UAAU,eAAf,UACE,qBAAKA,UAAU,uCAAf,SACE,qBAAKA,UAAU,2DAAf,SACE,qBAAKA,UAAU,uCAGlB1B,EAAOmB,UAAYnB,EAAO2B,KAAKC,gBAAgB,IAC9C,sBAAKF,UAAU,8DAAf,UACE,6BAAKxB,EAAE,8BACP,sCAAOA,EAAE,sBAAT,aAAmCF,EAAO2B,KAAKC,gBAAgB,GAAGC,eAClE,qBACEC,wBAAyB,CACvBC,OAAQhB,KAGZ,qBAAKW,UAAU,YAAf,SACE,qBAAKA,UAAU,6BAAf,SACE,qBAAKA,UAAU,eAAf,SACE,wBACEA,UAAU,4BACVM,QAAS,SAAAC,GACPA,EAAEC,iBACF1B,EAAQ2B,KAAK,gBAJjB,SAOGjC,EAAE,uCA7BZ,cAAC,IAAD,CAAUkC,GAAI","file":"static/js/17.9c3343d1.chunk.js","sourcesContent":["import { useDispatch, useSelector } from 'react-redux'\nimport { Layout } from '../../components'\n\nimport { Redirect, useHistory, useLocation } from 'react-router'\nimport { useTranslation } from 'react-i18next'\nimport { useGetAllOrders } from '../../hooks/useAPI'\nimport { useEffect } from 'react'\nimport { confirmOrder } from '../../actions/cartActions'\nimport { isAuthenticated } from '../../utils'\n\nconst OrderConfirmation = () => {\n  let [orders, setRequest] = useGetAllOrders()\n  const { t } = useTranslation()\n  let dispatch = useDispatch()\n  let loc = useLocation()\n  let history = useHistory()\n  const { customBody = '' } = useSelector(state => state.content[loc.pathname.substring(1)]) || {}\n\n  useEffect(() => {\n    let didCancel = false\n\n    if (!orders.isFetching && !orders.isLoaded && !didCancel) {\n      setRequest({ ...orders, isFetching: true, isLoaded: false, params: { pageRecordsShow: 1, currentPage: 1 }, makeRequest: true })\n    }\n    dispatch(confirmOrder(false))\n    return () => {\n      didCancel = true\n    }\n  }, [orders, setRequest, dispatch])\n\n  if (!isAuthenticated()) {\n    return <Redirect to={'/my-account'} />\n  }\n  return (\n    <Layout>\n      <div className=\"bg-light p-0\">\n        <div className=\"page-title-overlap bg-lightgray pt-4\">\n          <div className=\"container d-lg-flex justify-content-between py-2 py-lg-3\">\n            <div className=\"order-lg-1 pr-lg-4 text-center\"></div>\n          </div>\n        </div>\n        {orders.isLoaded && orders.data.ordersOnAccount[0] && (\n          <div className=\"container bg-light box-shadow-lg rounded-lg p-5 text-center\">\n            <h1>{t('frontend.order.thank_you')}</h1>\n            <p>{`${t('frontend.order.key')} #${orders.data.ordersOnAccount[0].orderNumber}`}</p>\n            <div\n              dangerouslySetInnerHTML={{\n                __html: customBody,\n              }}\n            />\n            <div className=\"container\">\n              <div className=\"row justify-content-center\">\n                <div className=\"col col-md-4\">\n                  <button\n                    className=\"btn btn-primary btn-block\"\n                    onClick={e => {\n                      e.preventDefault()\n                      history.push('/my-account')\n                    }}\n                  >\n                    {t('frontend.account.my')}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </Layout>\n  )\n}\n\nexport default OrderConfirmation\n"],"sourceRoot":""}