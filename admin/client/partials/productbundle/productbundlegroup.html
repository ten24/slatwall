<li class="s-bundle-group-item" ng-if="productBundleGroup">
	<div class="row">
		<div class="col-xs-8 s-bundle-group-title">
			<div class="s-bundle-group-range">
				<ul class="list-unstyled list-inline s-bundle-group-min">
					<li>Min:</li>
					<li ng-bind="productBundleGroup.data.minimumQuantity"></li>
				</ul>
				<ul class="list-unstyled list-inline s-bundle-group-max">
					<li>Max:</li>
					<li ng-bind="productBundleGroup.data.maximumQuantity"></li>
				</ul>
			</div>
			<span class="s-bundle-group-title-text" ng-bind="productBundleGroup.data.productBundleGroupType.data.typeName"></span>
			<span class="s-bundle-group-title-edit"><input type="text" class="form-control" value="T-Shirts: Closeout Selections">
			<button class="btn btn-sm s-btn-ten24 s-save-btn">Save</button>
			</span>
		</div>
		<div class="col-xs-4">
			<div class="btn-group s-bundle-group-options">
				<a  class="btn btn-default s-edit j-tool-tip-item"
					data-toggle="tooltip"
					data-placement="bottom"
					data-original-title="Edit"
					ng-click="productBundleGroup.data.$$toggleEdit()"
					>
				<i class="fa fa-pencil"></i>
				</a>  
				<a  
					class="btn btn-default s-remove j-tool-tip-item"
					data-toggle="tooltip"
					data-placement="bottom"
					data-original-title="Remove"
					sw-confirm 
					data-confirm-text="Confirm"
					data-message-text="Are you sure you want to delete this product bundle group?" 
					data-callback="deleteEntity(productBundleGroup.data.$$editing);"
					data-use-rb-key="false"
					data-simple=false
					data-yes-text="Yes"
					data-no-text="No">
				<i class="fa fa-trash"></i>
				</a>
				<!-- The above should use this but having z-index issue over the modal
					sw-confirm 
					data-confirm-text="Confirm"
					data-message-text="Are you sure you want to delete this product bundle group?" 
					data-callback="deleteEntity(productBundleGroup.data.$$editing);"
					data-use-rb-key="false"
					data-simple=false
					data-yes-text="Yes"
					data-no-text="No"
					-->
			</div>
		</div>
	</div>
	<div  ng-show="productBundleGroup.data.$$editing" class="s-bundle-group-dropdown">
		<div class="s-bundle-group-dropdown-content">
			<div class="s-filter-content">
				<!-- Tab panes for menu options start-->
				<div class="s-options">
					<div class="tab-content">
						<h4>Basic</h4>
						<span   sw-product-bundle-group-type
							data-product-bundle-group="productBundleGroup"
							>
						</span>
						<sw-form ng-if="formName && formName !== ''" 
							name="{{formName}}" 
							data-object="productBundleGroup"    
							data-context="save"
							>
							<div class="row form-group">
								<div class="col-md-6">
									<sw-property-display
										data-object="productBundleGroup"
										data-property="minimumQuantity"
										data-editing="true"
										data-editable="true"
										data-is-dirty="true"
										data-on-change="productBundleGroup.data.$$setMinimumQuantity(productBundleGroup.data.minimumQuantity)"
										>
									</sw-property-display>
								</div>
								<div class="col-md-6">
									<sw-property-display
										data-object="productBundleGroup"
										data-property="maximumQuantity"
										data-editing="true"
										data-editable="true"
										data-is-dirty="true"
										data-on-change="productBundleGroup.data.$$setMaximumQuantity(productBundleGroup.data.maximumQuantity)"
										></sw-property-display>
								</div>
							</div>
							<div class="row form-group">
								<div class="col-md-6">
									<sw-property-display
										data-object="productBundleGroup"
										data-property="amountType"
										data-options-arguments="{property:'amountType'}"
										data-editing="true"
										data-editable="true"
										data-is-dirty="true"
										></sw-property-display>
								</div>
								<div class="col-md-6">
									<span ng-show="productBundleGroup.data['amountType'] === 'fixed' || productBundleGroup.data['amountType'] === 'skuPricePercentageIncrease' || productBundleGroup.data['amountType'] === 'skuPricePercentageDecrease'">
										<sw-property-display
											data-object="productBundleGroup"
											data-property="amount"
											data-editing="true"
											data-editable="true"
											data-is-dirty="true"
											></sw-property-display>
									</span>
								</div>
							</div>
							<div class="form-group">
								<div class="col-md-6">
									<div class="row">
										<sw-property-display
											data-object="productBundleGroup"
											data-property="activeFlag"
											data-editing="true"
											data-editable="true"
											data-is-dirty="true"
											></sw-property-display>
									</div>
								</div>
								<div class="clearfix"></div>
							</div>
							<sw-property-display
								style="display:none" 
								data-object="productBundleGroup"
								data-property="skuCollectionConfig"
								data-editing="true"
								data-editable="true"
								data-is-dirty="true"
								></sw-property-display>
						</sw-form>
						<!-- Search for product -->
						<div class="row s-bundle-group-items">
							<div class="col-xs-12 s-title">
								<h4 class="s-clear-fix">
									Bundle Items
									<button type="button" ng-click="openCloseAndRefresh() " class="pull-right s-button-no-style"> 
										<span ng-show="!showAdvanced">Advanced</span> 
										<span ng-show="showAdvanced">Basic</span> 
										View
									</button>  
								</h4>
							</div>
							<div ng-show="!showAdvanced">
								<div class="col-xs-12 col-md-6 s-selected-items">
									<!-- Selected filters -->
									<div class="s-bundle-add-items s-workflow-objs">
										<div class="well well-sm"  ng-show="!productBundleGroup.data.skuCollectionConfig.filterGroups[0].filterGroup.length">
											<ul class="list-unstyled">
												<li sw-rbkey="'admin.define.no_items_selected'">
													<!-- #$.slatwall.rbKey('admin.define.no_items_selected')# -->
												</li>
												<li sw-key="'entity.ProductBundleBuildItem.selectBundleGroup'">
													<!-- #$.slatwall.rbKey('entity.ProductBundleBuildItem.selectBundleGroup')# -->
												</li>
											</ul>
										</div>
										<ul class="list-unstyled s-order-item-options" ng-show="productBundleGroup.data.skuCollectionConfig.filterGroups[0].filterGroup.length">
											<li class="s-bundle-add-obj" ng-repeat="productBundleGroupFilter in productBundleGroup.data.skuCollectionConfig.filterGroups[0].filterGroup track by $index">
												<ul class="list-unstyled list-inline">
													<!-- You can change the s-include to s-exclude for stye diff -->
													<li class="s-item-type s-tooltip" 
														data-toggle="tooltip" 
														data-placement="right" title="Tooltip example"
														ng-class="{'s-include':productBundleGroupFilter.comparisonOperator==='=','s-exclude':productBundleGroupFilter.comparisonOperator==='!='} "  
														>
														<i 	class="fa"
															ng-class="{'fa-plus-square-o':productBundleGroupFilter.comparisonOperator==='=','fa-minus-square-o':productBundleGroupFilter.comparisonOperator==='!='} "  
															></i>
													</li>
												</ul>
												<ul class="list-unstyled list-inline s-middle">
													<li class="s-bundle-details" ng-show="productBundleGroupFilter.type">
														<span ng-bind="productBundleGroupFilter.type"></span>:<span ng-bind="productBundleGroupFilter.name"></span>
													</li>
													<li class="s-bundle-details" ng-show="!productBundleGroupFilter.type">
														<span ng-bind="productBundleGroupFilter.displayPropertyIdentifier"></span>:<span ng-bind="productBundleGroupFilter.value"></span>
													</li>
												</ul>
												<ul class="list-unstyled list-inline s-last">
													<li class="col-xs-1 s-bundle-details-add">
														<!-- Confirmation Dialog -->
														<a class="btn s-btn-dgrey s-remove" 
															sw-confirm 
															data-confirm-text="Confirm"
															data-message-text="Are you sure you want to delete this product bundle group filter?" 
															data-callback="deleteEntity($index);"
															data-use-rb-key="false"
															data-simple=false
															data-yes-text="Yes"
															data-no-text="No">
														<i class="fa fa-trash"></i>
														</a><!-- End confirmation dialog -->
													</li>
												</ul>
												<div class="clearfix"></div>
											</li>
										</ul>
									</div>
									<!-- //Selected filters -->
								</div>
								<div class="col-sm-12 col-md-6 s-select-item">
									<div class="input-group">
										<div class="dropdown input-group-btn search-panel">
											<button class="btn btn-sm s-btn-dgrey dropdown-toggle" type="button" id="dropdownMenu1">
											<span ng-bind="searchOptions.selected.name" id="j-search-concept">Any</span>
											<span class="caret"></span>
											</button>
											<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
												<li ng-repeat="searchOption in searchOptions.options">
													<a 	
														ng-bind="searchOption.name"
														ng-click="searchOptions.setSelected(searchOption); resetCurrentCount()"
														></a>
												</li>
											</ul>
										</div>
										<input class="form-control s-search-input"
											placeholder="Search {{searchOptions.selected.name}} ..."
											type="text"
											ng-model="productBundleGroupFilters.keyword"
											ng-change="productBundleGroupFilters.getFiltersByTerm(productBundleGroupFilters.keyword,searchOptions.selected); resetCurrentCount();"
											>
									</div>
									<!-- Options items -->
									<div class="s-bundle-add-items" ng-show="productBundleGroupFilters.keyword.length">
										<div class="col-xs-12 s-bundle-add-items-inner">
											<h4  class="s-no-items"
												ng-show="!productBundleGroupFilters.value.length"
												>
												There are no items selected
											</h4>
											<!-- Selected filters -->
											<div class="s-bundle-add-items s-workflow-objs">
												<div class="spinner" ng-show="loading"><i class="fa fa-refresh fa-spin"></i></div>
												<ul class="list-unstyled s-order-item-options s-negative-obj"
													ng-show="productBundleGroupFilters.value.length">
													<li class="s-bundle-add-obj" ng-repeat="filterItem in productBundleGroupFilters.value track by $index">
														<ul class="list-unstyled list-inline s-middle">
															<li class="j-tool-tip-item s-bundle-details" ng-bind="filterItem.type"></li>
															<li class="j-tool-tip-item s-bundle-details" ng-bind="filterItem.name"></li>
														</ul>
														<ul class="list-unstyled list-inline s-last">
															<li class="col-xs-1 s-bundle-details-add">
																<a class="btn btn-default" ng-click="addFilterToProductBundle(filterItem,false)"><i class="fa fa-minus-square-o"></i> <span class="s-action-text">Exclude</span></a>
															</li>
															<li class="col-xs-1 s-bundle-details-add">
																<a class="btn btn-primary" ng-click="addFilterToProductBundle(filterItem,true,$index)"><i class="fa fa-plus-square-o"></i> <span class="s-action-text">Include</span></a>
															</li>
														</ul>
														<div class="clearfix"></div>
													</li>
												</ul>
											</div>
											<!-- //Selected filters -->
											<!-- Load more button NOTE: the disabled class should be added when the button is loading and removed when it's not-->
											<div class="s-load-more" ng-click="increaseCurrentCount(); productBundleGroupFilters.getFiltersByTerm(productBundleGroupFilters.keyword,searchOptions.selected);">
												<button class="{'btn s-btn-dgrey btn-sm disabled' : loading === true, 'btn s-btn-dgrey btn-sm' : loading}">Load More <i class="fa fa-refresh fa-spin" ng-show="loading"></i><span ng-if="!showAll">(Showing {{pageRecordsStart}} to {{pageRecordsEnd}} of {{recordsCount}})</span></button>
											</div>
											<!-- //Load more button -->
										</div>
									</div>
									<!-- //Options items -->
									<div class="clearfix"></div>
								</div>
							</div>
							<div ng-show="showAdvanced" class="col-md-12">
								<div class="s-setting-options">
									<div class="row s-setting-options-body">
										<!-- Start Filter Group -->
										<div class="col-xs-12 s-filters-selected">
											<div class="row">
												<!--filterGroups gets taken apart here -->
												<ul class="col-xs-12 list-unstyled"
													ng-if="productBundleGroup.data.skuCollectionConfig.filterGroups[0].filterGroup"
													sw-filter-groups
													data-collection-config="productBundleGroup.data.skuCollectionConfig"
													data-filter-group="productBundleGroup.data.skuCollectionConfig.filterGroups[0]"
													data-filter-group-item="productBundleGroup.data.skuCollectionConfig.filterGroups[0].filterGroup"
													data-filter-properties-list="filterPropertiesList"
													data-save-collection="productBundleGroup.$$save();getCollection();"
													>
												</ul>
											</div>
											<!-- //New Filter Panel -->
										</div>
										<!-- //End Filter Group -->
									</div>
								</div>
								<sw-collection-table
									data-collection="collection"
									data-collection-config="productBundleGroup.data.skuCollectionConfig"
									ng-if="collection"
									>
								</sw-collection-table>
							</div>
						</div>
						<!-- //Search for product -->
						<br/>
						<button type="button" class="btn btn-sm s-btn-ten24" ng-click="productBundleGroup.$$save();productBundleGroup.data.$$toggleEdit()"><i class="fa fa-plus" ></i> Save</button>
						<button type="button" class="btn btn-sm s-btn-ten24" ng-click="productBundleGroup.$$save();productBundleGroup.data.$$toggleEdit();addProductBundleGroup();"><i class="fa fa-plus" ></i> Save & Add Bundle Group</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</li>