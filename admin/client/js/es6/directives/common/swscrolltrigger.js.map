{"version":3,"sources":["directives/common/swscrolltrigger.ts"],"names":[],"mappings":"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","file":"directives/common/swscrolltrigger.js","sourceRoot":"/Users/ianhickey/Sites/Slatwall/","sourcesContent":["angular\n\t\t.module('slatwalladmin')\n\t\t.directive(\n\t\t\t\t'swScrollTrigger',\n\t\t\t\t[\n\t\t\t\t\t\t'$rootScope',\n\t\t\t\t\t\t'$window',\n\t\t\t\t\t\t'$timeout',\n\t\t\t\t\t\tfunction($rootScope, $window, $timeout) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tlink : function(scope, elem, attrs) {\n\t\t\t\t\t\t\t\t\tvar checkWhenEnabled, handler, scrollDistance, scrollEnabled;\n\t\t\t\t\t\t\t\t\t$window = angular.element($window);\n\t\t\t\t\t\t\t\t\tscrollDistance = 0;\n\t\t\t\t\t\t\t\t\tif (attrs.infiniteScrollDistance != null) {\n\t\t\t\t\t\t\t\t\t\tscope\n\t\t\t\t\t\t\t\t\t\t\t\t.$watch(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tattrs.infiniteScrollDistance,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfunction(value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn scrollDistance = parseInt(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue, 10);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tscrollEnabled = true;\n\t\t\t\t\t\t\t\t\tcheckWhenEnabled = false;\n\t\t\t\t\t\t\t\t\tif (attrs.infiniteScrollDisabled != null) {\n\t\t\t\t\t\t\t\t\t\tscope\n\t\t\t\t\t\t\t\t\t\t\t\t.$watch(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tattrs.infiniteScrollDisabled,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfunction(value) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscrollEnabled = !value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (scrollEnabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&& checkWhenEnabled) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckWhenEnabled = false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn handler();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\thandler = function() {\n\t\t\t\t\t\t\t\t\t\tvar elementBottom, remaining, shouldScroll, windowBottom;\n\t\t\t\t\t\t\t\t\t\twindowBottom = $window.height()\n\t\t\t\t\t\t\t\t\t\t\t\t+ $window.scrollTop();\n\t\t\t\t\t\t\t\t\t\telementBottom = elem.offset().top\n\t\t\t\t\t\t\t\t\t\t\t\t+ elem.height();\n\t\t\t\t\t\t\t\t\t\tremaining = elementBottom\n\t\t\t\t\t\t\t\t\t\t\t\t- windowBottom;\n\t\t\t\t\t\t\t\t\t\tshouldScroll = remaining <= $window\n\t\t\t\t\t\t\t\t\t\t\t\t.height()\n\t\t\t\t\t\t\t\t\t\t\t\t* scrollDistance;\n\t\t\t\t\t\t\t\t\t\tif (shouldScroll && scrollEnabled) {\n\t\t\t\t\t\t\t\t\t\t\tif ($rootScope.$$phase) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn scope\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.$eval(attrs.infiniteScroll);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\treturn scope\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.$apply(attrs.infiniteScroll);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else if (shouldScroll) {\n\t\t\t\t\t\t\t\t\t\t\treturn checkWhenEnabled = true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t$window.on('scroll', handler);\n\t\t\t\t\t\t\t\t\tscope.$on('$destroy', function() {\n\t\t\t\t\t\t\t\t\t\treturn $window.off('scroll', handler);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\treturn $timeout(\n\t\t\t\t\t\t\t\t\t\t\t(function() {\n\t\t\t\t\t\t\t\t\t\t\t\tif (attrs.infiniteScrollImmediateCheck) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (scope\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.$eval(attrs.infiniteScrollImmediateCheck)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn handler();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn handler();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}), 0);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} ]);\n"]}