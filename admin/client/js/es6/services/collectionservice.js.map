{"version":3,"sources":["services/collectionservice.ts"],"names":[],"mappings":"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","file":"services/collectionservice.js","sourceRoot":"/Users/david/Sites/Slatwall/","sourcesContent":["/*collection service is used to maintain the state of the ui*/\n'use strict';\nangular.module('slatwalladmin')\n.factory('collectionService',[\n\t'$filter',\n\t'$log',\n\tfunction(\n\t\t$filter,\n\t\t$log\n\t){\n\t\t/*properties*/\n\t\tvar _collection = null;\n\t\tvar _collectionConfig = null;\n\t\tvar _filterPropertiesList = {};\n\t\tvar _filterCount = 0;\n\t\tvar _orderBy = $filter('orderBy');\n\t\t\n\t\tvar collectionService = {\n\t\t\tsetFilterCount: function(number){\n\t\t\t\t$log.debug('incrementFilterCount');\n\t\t\t\t_filterCount = number;\n\t\t\t},\n\t\t\tgetFilterCount: function(){\n\t\t\t\treturn _filterCount;\n\t\t\t},\n\t\t\t\n\t\t\tgetColumns:function(){\n\t\t\t\treturn _collection.collectionConfig.columns;\n\t\t\t},\n\t\t\tgetFilterPropertiesList:function(){\n\t\t\t\treturn _filterPropertiesList;\n\t\t\t},\n\t\t\tgetFilterPropertiesListByBaseEntityAlias: function(baseEntityAlias){\n\t\t\t\treturn _filterPropertiesList[baseEntityAlias];\n\t\t\t},\n\t\t\tsetFilterPropertiesList: function(value,key){\n\t\t\t\tif(angular.isUndefined(_filterPropertiesList[key])){\n\t\t\t\t\t_filterPropertiesList[key] = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\t\n\t\t\tstringifyJSON: function(jsonObject){\n\t\t\t\tvar jsonString = angular.toJson(jsonObject);\n\t\t\t\treturn jsonString;\n\t\t\t},\n\t\t\tremoveFilterItem: function(filterItem,filterGroup){\n\t\t\t\tfilterGroup.pop(filterGroup.indexOf(filterItem));\n\t\t\t},\n\t\t\tselectFilterItem: function(filterItem){\n\t\t\t\tif(filterItem.$$isClosed){\n\t\t\t\t\tfor(var i in filterItem.$$siblingItems){\n\t\t\t\t\t\tfilterItem.$$siblingItems[i].$$isClosed = true;\n\t\t\t\t\t\tfilterItem.$$siblingItems[i].$$disabled = true;\n\t\t\t\t\t}\n\t\t\t\t\tfilterItem.$$isClosed = false;\n\t\t\t\t\tfilterItem.$$disabled = false;\n\t\t\t\t\tfilterItem.setItemInUse(true);\n\t\t\t\t}else{\n\t\t\t\t\tfor(var i in filterItem.$$siblingItems){\n\t\t\t\t\t\tfilterItem.$$siblingItems[i].$$disabled = false;\n\t\t\t\t\t}\n\t\t\t\t\tfilterItem.$$isClosed = true;\n\t\t\t\t\tfilterItem.setItemInUse(false);\n\t\t\t\t}\t\n\t\t\t\t\n\t\t\t},\n\t\t\tselectFilterGroupItem: function(filterGroupItem){\n\t\t\t\tif(filterGroupItem.$$isClosed){\n\t\t\t\t\tfor(var i in filterGroupItem.$$siblingItems){\n\t\t\t\t\t\tfilterGroupItem.$$siblingItems[i].$$disabled = true;\n\t\t\t\t\t}\n\t\t\t\t\tfilterGroupItem.$$isClosed = false;\n\t\t\t\t\tfilterGroupItem.$$disabled = false;\n\t\t\t\t}else{\n\t\t\t\t\tfor(var i in filterGroupItem.$$siblingItems){\n\t\t\t\t\t\tfilterGroupItem.$$siblingItems[i].$$disabled = false;\n\t\t\t\t\t}\n\t\t\t\t\tfilterGroupItem.$$isClosed = true;\n\t\t\t\t}\n\t\t\t\tfilterGroupItem.setItemInUse(!filterGroupItem.$$isClosed);\n\t\t\t},\n\t\t\tnewFilterItem: function(filterItemGroup,setItemInUse,prepareForFilterGroup){\n\t\t\t\tif(angular.isUndefined(prepareForFilterGroup)){\n\t\t\t\t\tprepareForFilterGroup = false;\n\t\t\t\t}\n\t\t\t\tvar filterItem = {\n\t\t\t\t\t\tdisplayPropertyIdentifier:\"\",\n\t\t\t\t\t\tpropertyIdentifier:\"\",\n\t\t\t\t\t\tcomparisonOperator:\"\",\n\t\t\t\t\t\tvalue:\"\",\n\t\t\t\t\t\t$$disabled:false,\n\t\t\t\t\t\t$$isClosed:true,\n\t\t\t\t\t\t$$isNew:true,\n\t\t\t\t\t\t$$siblingItems:filterItemGroup,\n\t\t\t\t\t\tsetItemInUse:setItemInUse\t\t\t\t\n\t\t\t\t\t};\n\t\t\t\tif(filterItemGroup.length !== 0){\n\t\t\t\t\tfilterItem.logicalOperator = \"AND\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(prepareForFilterGroup === true){\n\t\t\t\t\tfilterItem.$$prepareForFilterGroup = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfilterItemGroup.push(filterItem);\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tthis.selectFilterItem(filterItem);\n\t\t\t\t\n\t\t\t\t\n\t\t\t},\n\t\t\tnewFilterGroupItem: function(filterItemGroup,setItemInUse){\n\t\t\t\tvar filterGroupItem = {\n\t\t\t\t\tfilterGroup:[],\n\t\t\t\t\t$$disabled:\"false\",\n\t\t\t\t\t$$isClosed:\"true\",\n\t\t\t\t\t$$siblingItems:filterItemGroup,\n\t\t\t\t\t$$isNew:\"true\",\n\t\t\t\t\tsetItemInUse:setItemInUse\t\n\t\t\t\t};\n\t\t\t\tif(filterItemGroup.length !== 0){\n\t\t\t\t\tfilterGroupItem.logicalOperator = \"AND\";\n\t\t\t\t}\n\t\t\t\tfilterItemGroup.push(filterGroupItem);\n\t\t\t\tcollectionService.selectFilterGroupItem(filterGroupItem);\n\t\t\t\t\n\t\t\t\tthis.newFilterItem(filterGroupItem.filterGroup,setItemInUse);\n\t\t\t},\n\t\t\ttransplantFilterItemIntoFilterGroup: function(filterGroup,filterItem){\n\t\t\t\tvar filterGroupItem = {\n\t\t\t\t\tfilterGroup:[],\n\t\t\t\t\t$$disabled:\"false\",\n\t\t\t\t\t$$isClosed:\"true\",\n\t\t\t\t\t$$isNew:\"true\"\n\t\t\t\t};\n\t\t\t\tif(angular.isDefined(filterItem.logicalOperator)){\n\t\t\t\t\tfilterGroupItem.logicalOperator = filterItem.logicalOperator;\n\t\t\t\t\tdelete filterItem.logicalOperator;\n\t\t\t\t}\n\t\t\t\tfilterGroupItem.setItemInUse = filterItem.setItemInUse;\n\t\t\t\tfilterGroupItem.$$siblingItems = filterItem.$$siblingItems;\n\t\t\t\tfilterItem.$$siblingItems = [];\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tfilterGroup.pop(filterGroup.indexOf(filterItem));\n\t\t\t\tfilterItem.$$prepareForFilterGroup = false;\n\t\t\t\tfilterGroupItem.filterGroup.push(filterItem);\n\t\t\t\tfilterGroup.push(filterGroupItem);\n\t\t\t},\n\t\t\t\n\t\t\tformatFilterPropertiesList: function(filterPropertiesList,propertyIdentifier){\n\t\t\t\t$log.debug('format Filter Properties List arguments 2');\n\t\t\t\t$log.debug(filterPropertiesList);\n\t\t\t\t$log.debug(propertyIdentifier);\n\t\t\t\tvar simpleGroup = {\n\t\t\t\t\t\t$$group:'simple',\n\t\t\t\t\t\tdisplayPropertyIdentifier:'-----------------'\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tfilterPropertiesList.data.push(simpleGroup);\n\t\t\t\tvar drillDownGroup = {\n\t\t\t\t\t\t$$group:'drilldown',\n\t\t\t\t\t\tdisplayPropertyIdentifier:'-----------------'\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tfilterPropertiesList.data.push(drillDownGroup);\n\t\t\t\t\n\t\t\t\tvar compareCollections = {\n\t\t\t\t\t\t$$group:'compareCollections',\n\t\t\t\t\t\tdisplayPropertyIdentifier:'-----------------'\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tfilterPropertiesList.data.push(compareCollections);\n\t\t\t\t\n\t\t\t\tvar attributeCollections = {\n\t\t\t\t\t\t$$group:'attribute',\n\t\t\t\t\t\tdisplayPropertyIdentifier:'-----------------'\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tfilterPropertiesList.data.push(attributeCollections);\n\t\t\t\t\n\t\t\t\tfor(var i in filterPropertiesList.data){\n\t\t\t\t\tif(angular.isDefined(filterPropertiesList.data[i].ormtype)){\n\t\t\t\t\t\tif(angular.isDefined(filterPropertiesList.data[i].attributeID)){\n\t\t\t\t\t\t\tfilterPropertiesList.data[i].$$group = 'attribute';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tfilterPropertiesList.data[i].$$group = 'simple';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(angular.isDefined(filterPropertiesList.data[i].fieldtype)){\n\t\t\t\t\t\tif(filterPropertiesList.data[i].fieldtype === 'id'){\n\t\t\t\t\t\t\tfilterPropertiesList.data[i].$$group = 'simple';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(filterPropertiesList.data[i].fieldtype === 'many-to-one'){\n\t\t\t\t\t\t\tfilterPropertiesList.data[i].$$group = 'drilldown';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(filterPropertiesList.data[i].fieldtype === 'many-to-many' || filterPropertiesList.data[i].fieldtype === 'one-to-many'){\n\t\t\t\t\t\t\tfilterPropertiesList.data[i].$$group = 'compareCollections';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfilterPropertiesList.data[i].propertyIdentifier = propertyIdentifier + '.' +filterPropertiesList.data[i].name;\n\t\t\t\t}\n\t\t\t\tfilterPropertiesList.data = _orderBy(filterPropertiesList.data,['-$$group','propertyIdentifier'],false);\n\t\t\t},\n\t\t\t\n\t\t\torderBy: function(propertiesList,predicate,reverse){\n\t\t\t\treturn _orderBy(propertiesList,predicate,reverse);\n\t\t\t}\n\t\t\t\n\t\t};\n\t\t\n\t\treturn collectionService;\n\t}\n]);\n"]}