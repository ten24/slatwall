<span ng-init="$.slatwall = $root.slatwall"></span>
<div ng-init="imagePath = '/custom/apps/slatwallcms/projectName/assets/images'"></div><!--- Add project name here --->
<div ng-show="$.slatwall.saveShippingAsBilling != 'true'" ng-cloak>
    <fieldset>
        <legend>Payment Information</legend>
        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <label for="namec">Name on Credit Card</label>
                    <input type="text" tabindex="1" class="form-control"  id="name" name="nameOnCreditCard" ng-model="$.slatwall.newBillingAddress.nameOnCreditCard">
                    <span class="error" ng-if="$.slatwall.cart.newOrderPaymentErrors['nameOnCreditCard']">{{$.slatwall.cart.newOrderPaymentErrors['nameOnCreditCard']}}</span>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="row">
                    <div class="col-sm-8">
                        <div class="form-group">
                            <label for="cardnumber">Card Number</label>
                            <input type="text" class="form-control"  id="cardnumber" tabindex="2" ng-model="$.slatwall.newBillingAddress.cardNumber">
                            <span class="error" ng-if="$.slatwall.cart.newOrderPaymentErrors['creditCardNumber']">{{$.slatwall.cart.newOrderPaymentErrors['creditCardNumber']}}</span>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <label>CVV <!---<a href="#cvvModalContent" class="info cvvModal"><i class="fa fa-question"></i></a>---></label>
                            <input type="text" id="cvv2" class="form-control width" size="3" max="3" tabindex="3" ng-model="$.slatwall.newBillingAddress.cvv">
                            <span class="error" ng-if="$.slatwall.cart.newOrderPaymentErrors['cvv']">{{$.slatwall.cart.newOrderPaymentErrors['cvv']}}</span>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Expiration Month</label>
                            <select class="form-control" ng-model="$.slatwall.selectedMonth" tabindex="4" ng-options="month as month.name for month in $.slatwall.months" ng-change="$.slatwall.cart.orderFulfillments['0'].shippingAddress.expirationMonth = $.slatwall.selectedMonth.value" ng-init="$.slatwall.selectedMonth = $.slatwall.months[0]">
                                <option>Month *</option>
                            </select>
                            <span class="error" ng-if="$.slatwall.cart.newOrderPaymentErrors['expirationMonth']">{{$.slatwall.cart.newOrderPaymentErrors['expirationMonth']}}</span>
        					<span class="error" ng-if="$.slatwall.cart.newOrderPaymentErrors['expirationYear']">{{$.slatwall.cart.newOrderPaymentErrors['expirationYear']}}</span>
        
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Expiration Year</label>
                            <select class="year form-control" ng-model="$.slatwall.selectedYear" tabindex="5" ng-options="year for year in $.slatwall.years" ng-change="$.slatwall.cart.orderFulfillments['0'].shippingAddress.expirationYear = $.slatwall.selectedYear" ng-init="$.slatwall.selectedYear = $.slatwall.years[0]">
                                <option>Year *</option>
                            </select>
                            
                        </div>
                    </div>
                </div>
            </div>
    </fieldset>

    <fieldset>
        <legend>Billing Information</legend>
        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <label>Billing Address</label>
                    <input type="text" tabindex="6" class="form-control"  ng-model="$.slatwall.newBillingAddress.streetAddress" >
                    <span class="error" ng-if="$.slatwall.cart.orderPayments[0]['billingAddress'].errors['streetAddress']">{{$.slatwall.cart.orderPayments[0]['billingAddress']['errors']['streetAddress'][0]}}</span>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label>Apt./Suite <span>(optional)</span></label>
                    <input type="text" class="form-control"  id="suite2" tabindex="7" ng-model="$.slatwall.newBillingAddress.street2Address">
                    <span class="error" ng-if="$.slatwall.cart.orderPayments[0]['billingAddress'].errors['street2Address']">{{$.slatwall.cart.orderPayments[0]['billingAddress'].errors['streetAddress'][0]}}</span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <label for="city">City</label>
                    <input type="text" class="form-control" id="city" tabindex="8" ng-model="$.slatwall.newBillingAddress.city" >
                    <span class="error" ng-if="$.slatwall.cart.orderPayments.errors['city'] || $.slatwall.cart.orderPayments[''+$.slatwall.cart.orderPayments.length-1]['errors']['city']">{{$.slatwall.cart.orderPayments[''+$.slatwall.cart.orderPayments.length-1]['errors']['city']['0']}} {{$.slatwall.cart.orderPayments.errors['city']}}</span>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <div class="state" ng-show="$.slatwall.saveShippingAsBilling == 'true' && ($.slatwall.selectedBillingCountry.value == 'US' || $.slatwall.selectedBillingCountry.value == 'CA')">
                        <label for="states" ng-show="$.slatwall.selectedBillingCountry.value == 'US'">State</label>
                        <label for="states" ng-show="$.slatwall.selectedBillingCountry.value == 'CA'">Province</label>
                        <select tabindex="9"
                        		required="true"
                                name="states"
                                class="form-control">
                                <option label="{{$.slatwall.newBillingAddress.statecode}}" name="{{$.slatwall.newBillingAddress.statecode}}">{{$.slatwall.newBillingAddress.statecode}}</option>
                        </select>
                        <span class="error" ng-if="$.slatwall.cart.orderPayments.errors['stateCode'] || $.slatwall.cart.orderPayments[''+$.slatwall.cart.orderPayments.length-1]['errors']['state']">{{$.slatwall.cart.orderPayments[''+$.slatwall.cart.orderPayments.length-1]['addOrderPayment']['state']['0']}} {{$.slatwall.cart.orderPayments.errors['stateCode']}}</span>
                    </div>

                    <div class="state" ng-show="$.slatwall.saveShippingAsBilling != 'true' && ($.slatwall.selectedBillingCountry.value == 'US' || $.slatwall.selectedBillingCountry.value == 'CA')">
                        <label for="states" ng-show="$.slatwall.selectedBillingCountry.value == 'US'">State</label>
                        <label for="states" ng-show="$.slatwall.selectedBillingCountry.value == 'CA'">Province</label>
                        <select tabindex="9" required="true"
                                name="states"
                                class="form-control"
                                ng-model="selectedBillingState"
                                ng-options="state as state.name for state in $.slatwall.states.stateCodeOptions"
                                ng-change="$.slatwall.newBillingAddress.statecode = selectedBillingState.value"><!-- ng-init="selectedBillingState.value = $.slatwall.cart.orderFulfillments['0'].shippingAddress.statecode" -->
                                 <option value=""> —Select State— </option>
                        </select>
                        <span class="error" ng-if="$.slatwall.cart.orderPayments.errors['stateCode'] || $.slatwall.cart.orderPayments[''+$.slatwall.cart.orderPayments.length-1]['errors']['state']">{{$.slatwall.cart.orderPayments[''+$.slatwall.cart.orderPayments.length-1]['addOrderPayment']['state']['0']}} {{$.slatwall.cart.orderPayments.errors['stateCode']}}</span>
                    </div>

                    <div class="state" ng-show="$.slatwall.selectedBillingCountry.value != 'US' && $.slatwall.selectedBillingCountry.value != 'CA'">
                        <label for="locatity">Locality</label>
                        <input tabindex="11" class="form-control"  ng-if="$.slatwall.selectedBillingCountry.value != 'US' && $.slatwall.selectedBillingCountry.value != 'CA'" type="text" id="locality" ng-model="$.slatwall.cart.orderFulfillments['0'].shippingAddress.locality" >
                        <span class="error" ng-if="$.slatwall.cart.orderPayments.errors['locality'] || $.slatwall.cart.orderPayments[''+$.slatwall.cart.orderPayments.length-1]['errors']['locality']">{{$.slatwall.cart.orderPayments[''+$.slatwall.cart.orderPayments.length-1]['errors']['locality']['0']}} {{$.slatwall.cart.orderPayments.errors['locality']}}</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <label for="zip2">Zip</label>
                	<input type="text" class="form-control width" id="zip2" size="6" max="6" tabindex="10" ng-model="$.slatwall.newBillingAddress.postalcode" >
                	<span class="error" ng-if="$.slatwall.cart.orderPayments.errors['postalCode'] || $.slatwall.cart.orderPayments[''+$.slatwall.cart.orderPayments.length-1]['errors']['postalCode']">{{$.slatwall.cart.orderPayments[''+$.slatwall.cart.orderPayments.length-1]['addOrderPayment']['postalCode']['0']}} {{$.slatwall.cart.orderPayments.errors['postalCode']}}</span>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label for="countries">Country</label>
                    <select name="countries" class="form-control" ng-model="$.slatwall.selectedBillingCountry" tabindex="12" ng-options="country as country.name for country in $.slatwall.countries.countryCodeOptions" ng-change="$.slatwall.newBillingAddress.countrycode=$.slatwall.selectedBillingCountry.value;$.slatwall.getStates($.slatwall.selectedBillingCountry.value);" ng-init="$.slatwall.selectedBillingCountry = $.slatwall.countries.countryCodeOptions['234']">
                           <option value="{{$.slatwall.selectedBillingCountry}}"> Country * </option>
                    </select>
                    <span class="error" ng-if="$.slatwall.cart.orderPayments.errors['countryCode'] || $.slatwall.cart.orderPayments[''+$.slatwall.cart.orderPayments.length-1]['errors']['country']">{{$.slatwall.cart.orderPayments[''+$.slatwall.cart.orderPayments.length-1]['errors']['country']['0']}} {{$.slatwall.cart.orderPayments.errors['countryCode']}}</span>
                </div>
            </div>
        </div>
    </fieldset>
</div>
