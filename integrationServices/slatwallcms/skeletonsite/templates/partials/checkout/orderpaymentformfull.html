<span ng-init="imagePath = '/custom/apps/slatwallcms/projectName/assets/images'"></span>
<span ng-init="slatwall.billingAddressEditFormIndex = undefined"></span>
<div ng-cloak>
    <fieldset>
        <legend>Payment Information</legend>
        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <swf-property-display
                        data-class="form-control"
                        data-name="nameOnCreditCard"
                        data-field-type="text"
                        data-property-identifier="newOrderPayment.nameOnCreditCard"
                        data-label-text="Name on Credit Card">
                    </swf-property-display>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="row">
                    <div class="col-sm-8">
                        <div class="form-group">
                            <swf-property-display
                                data-class="form-control"
                                data-name="creditCardNumber"
                                data-field-type="text"
                                data-property-identifier="newOrderPayment.creditCardNumber"
                                data-label-text="Card Number">
                            </swf-property-display>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group">
                            <swf-property-display
                                data-class="form-control"
                                data-name="securityCode"
                                data-field-type="text"
                                data-property-identifier="newOrderPayment.securityCode"
                                data-label-text="CVV">
                            </swf-property-display>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <swf-property-display
                                ng-init="slatwall.creditCardPayment.data['selectednewOrderPayment.expirationMonth']=slatwall.months[0]"
                                data-class="form-control"
                                data-name="expirationMonth"
                                data-field-type="select"
                                data-select-type="string"
                                data-options="slatwall.months"
                                data-property-identifier="newOrderPayment.expirationMonth"
                                data-label-text="Expiration Month">
                            </swf-property-display>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <swf-property-display
                                ng-init="slatwall.creditCardPayment.data['selectednewOrderPayment.expirationYear']=slatwall.years[0]"
                                data-class="form-control"
                                data-name="expirationYear"
                                data-field-type="select"
                                data-select-type="string"
                                data-options="slatwall.years"
                                data-property-identifier="newOrderPayment.expirationYear"
                                data-label-text="Expiration Year">
                            </swf-property-display>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <swf-property-display
                        data-class="form-control"
                        data-name="saveAccountPaymentMethodFlag"
                        data-field-type="checkbox"
                        data-property-identifier="saveAccountPaymentMethodFlag"
                        data-label-text="Save this card for future orders">
                    </swf-property-display>
                    <swf-property-display
                        ng-if="slatwall.creditCardPayment.data.saveAccountPaymentMethodFlag"
                        data-class="form-control"
                        data-name="saveAccountPaymentMethodName"
                        data-field-type="text"
                        data-property-identifier="saveAccountPaymentMethodName"
                        data-label-text="Payment Method Nickname">
                    </swf-property-display>
                </div>
            </div>
    </fieldset>

    <fieldset>
        <legend>Billing Information</legend>
            <swf-directive partial-name="addbillingbyaccountaddresspartial" ng-show="slatwall.showBillingAccountAddresses()"></swf-directive>
            <sw-address-form ng-if="slatwall.showNewBillingAddressForm()"
                ng-init="slatwall.billingAddress = slatwall.getAddressEntity()"
                data-context="billing"
                data-field-list="name,countryCode,streetAddress,street2Address,locality,city,stateCode,postalCode"
                data-address="slatwall.billingAddress"
                data-address-name="billingAddress"
                data-field-name-prefix="slatwall.billingAddress."
                data-show-submit-button="true"
                data-submit-on-enter="true"
                data-action-text="Add Address"
                data-action="addNewAccountAddress"
                data-event-listeners="{addNewAccountAddressSuccess:slatwall.hideBillingAddressForm}"
                ></sw-address-form>
            <sw-address-form ng-if="slatwall.showEditBillingAddressForm()"
                data-field-list="name,countryCode,streetAddress,street2Address,locality,city,stateCode,postalCode"
                data-id="{{slatwall.account.accountAddresses[slatwall.billingAddressEditFormIndex].address.addressID}}" 
                data-context="billing"
                data-address="slatwall.billingAddress"
                data-address-name="billingAddress" 
                data-field-name-prefix="slatwall.billingAddress." 
                data-show-submit-button="true"
                data-submit-on-enter="true"
                data-action-text="Update Address"
                data-action="updateAddress"
                data-event-listeners="{updateAddressSuccess:slatwall.hideBillingAddressForm}"
                ></sw-address-form>
    </fieldset>

    <!--- Hidden Fields for order payment --->
    <swf-property-display
        data-class="hidden"
        data-name="accountPaymentMethodID"
        data-field-type="text"
        data-property-identifier="accountPaymentMethodID"
        label-text="">
    </swf-property-display>
    <swf-property-display
        data-class="hidden"
        data-name="paymentMethod.paymentMethodID"
        data-field-type="text"
        data-property-identifier="newOrderPayment.paymentMethod.paymentMethodID"
        label-text="">
    </swf-property-display>
    <swf-property-display
        data-class="hidden"
        data-name="billingAddress.name"
        data-field-type="text"
        data-property-identifier="newOrderPayment.billingAddress.name"
        label-text="">
    </swf-property-display>
    <swf-property-display
        data-class="hidden"
        data-name="billingAddress.streetAddress"
        data-field-type="text"
        data-property-identifier="newOrderPayment.billingAddress.streetAddress"
        label-text="">
    </swf-property-display>
    <swf-property-display
        data-class="hidden"
        data-name="billingAddress.street2Address"
        data-field-type="text"
        data-property-identifier="newOrderPayment.billingAddress.street2Address"
        label-text="">
    </swf-property-display>
    <swf-property-display
        data-class="hidden"
        data-name="billingAddress.city"
        data-field-type="text"
        data-property-identifier="newOrderPayment.billingAddress.city"
        label-text="">
    </swf-property-display>
    <swf-property-display
        data-class="hidden"
        data-name="billingAddress.statecode"
        data-field-type="text"
        data-property-identifier="newOrderPayment.billingAddress.statecode"
        label-text="">
    </swf-property-display>
    <swf-property-display
        data-class="hidden"
        data-name="billingAddress.postalCode"
        data-field-type="text"
        data-property-identifier="newOrderPayment.billingAddress.postalCode"
        label-text="">
    </swf-property-display>
    <swf-property-display
        data-class="hidden"
        data-name="billingAddress.countrycode"
        data-field-type="text"
        data-property-identifier="newOrderPayment.billingAddress.countrycode"
        label-text="">
    </swf-property-display>
    <swf-property-display
        data-class="hidden"
        data-name="billingAddress.locality"
        data-field-type="text"
        data-property-identifier="newOrderPayment.billingAddress.locality"
        label-text="">
    </swf-property-display>
</div>
