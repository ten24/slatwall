(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[2],{"+0nW":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),fromEvent_1=__webpack_require__("uPj4");Observable_1.Observable.fromEvent=fromEvent_1.fromEvent},"+2Gd":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),webSocket_1=__webpack_require__("ISQ+");Observable_1.Observable.webSocket=webSocket_1.webSocket},"+DLm":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},root_1=__webpack_require__("UbR+"),PromiseObservable=function(_super){function PromiseObservable(promise,scheduler){_super.call(this),this.promise=promise,this.scheduler=scheduler}return __extends(PromiseObservable,_super),PromiseObservable.create=function(promise,scheduler){return new PromiseObservable(promise,scheduler)},PromiseObservable.prototype._subscribe=function(subscriber){var _this=this,promise=this.promise,scheduler=this.scheduler;if(null==scheduler)this._isScalar?subscriber.closed||(subscriber.next(this.value),subscriber.complete()):promise.then((function(value){_this.value=value,_this._isScalar=!0,subscriber.closed||(subscriber.next(value),subscriber.complete())}),(function(err){subscriber.closed||subscriber.error(err)})).then(null,(function(err){root_1.root.setTimeout((function(){throw err}))}));else if(this._isScalar){if(!subscriber.closed)return scheduler.schedule(dispatchNext,0,{value:this.value,subscriber:subscriber})}else promise.then((function(value){_this.value=value,_this._isScalar=!0,subscriber.closed||subscriber.add(scheduler.schedule(dispatchNext,0,{value:value,subscriber:subscriber}))}),(function(err){subscriber.closed||subscriber.add(scheduler.schedule(dispatchError,0,{err:err,subscriber:subscriber}))})).then(null,(function(err){root_1.root.setTimeout((function(){throw err}))}))},PromiseObservable}(__webpack_require__("sI33").Observable);function dispatchNext(arg){var value=arg.value,subscriber=arg.subscriber;subscriber.closed||(subscriber.next(value),subscriber.complete())}function dispatchError(arg){var err=arg.err,subscriber=arg.subscriber;subscriber.closed||subscriber.error(err)}exports.PromiseObservable=PromiseObservable},"+yAB":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),combineLatest_1=__webpack_require__("7mDs");Observable_1.Observable.combineLatest=combineLatest_1.combineLatest},"/+7g":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),asap_1=__webpack_require__("C4ez"),isNumeric_1=__webpack_require__("xftq"),SubscribeOnObservable=function(_super){function SubscribeOnObservable(source,delayTime,scheduler){void 0===delayTime&&(delayTime=0),void 0===scheduler&&(scheduler=asap_1.asap),_super.call(this),this.source=source,this.delayTime=delayTime,this.scheduler=scheduler,(!isNumeric_1.isNumeric(delayTime)||delayTime<0)&&(this.delayTime=0),scheduler&&"function"==typeof scheduler.schedule||(this.scheduler=asap_1.asap)}return __extends(SubscribeOnObservable,_super),SubscribeOnObservable.create=function(source,delay,scheduler){return void 0===delay&&(delay=0),void 0===scheduler&&(scheduler=asap_1.asap),new SubscribeOnObservable(source,delay,scheduler)},SubscribeOnObservable.dispatch=function(arg){var source=arg.source,subscriber=arg.subscriber;return this.add(source.subscribe(subscriber))},SubscribeOnObservable.prototype._subscribe=function(subscriber){var delay=this.delayTime,source=this.source;return this.scheduler.schedule(SubscribeOnObservable.dispatch,delay,{source:source,subscriber:subscriber})},SubscribeOnObservable}(Observable_1.Observable);exports.SubscribeOnObservable=SubscribeOnObservable},"/64D":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),Subject_1=__webpack_require__("mwCp");exports.windowCount=function(windowSize,startWindowEvery){return void 0===startWindowEvery&&(startWindowEvery=0),function(source){return source.lift(new WindowCountOperator(windowSize,startWindowEvery))}};var WindowCountOperator=function(){function WindowCountOperator(windowSize,startWindowEvery){this.windowSize=windowSize,this.startWindowEvery=startWindowEvery}return WindowCountOperator.prototype.call=function(subscriber,source){return source.subscribe(new WindowCountSubscriber(subscriber,this.windowSize,this.startWindowEvery))},WindowCountOperator}(),WindowCountSubscriber=function(_super){function WindowCountSubscriber(destination,windowSize,startWindowEvery){_super.call(this,destination),this.destination=destination,this.windowSize=windowSize,this.startWindowEvery=startWindowEvery,this.windows=[new Subject_1.Subject],this.count=0,destination.next(this.windows[0])}return __extends(WindowCountSubscriber,_super),WindowCountSubscriber.prototype._next=function(value){for(var startWindowEvery=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,destination=this.destination,windowSize=this.windowSize,windows=this.windows,len=windows.length,i=0;i<len&&!this.closed;i++)windows[i].next(value);var c=this.count-windowSize+1;if(c>=0&&c%startWindowEvery==0&&!this.closed&&windows.shift().complete(),++this.count%startWindowEvery==0&&!this.closed){var window_1=new Subject_1.Subject;windows.push(window_1),destination.next(window_1)}},WindowCountSubscriber.prototype._error=function(err){var windows=this.windows;if(windows)for(;windows.length>0&&!this.closed;)windows.shift().error(err);this.destination.error(err)},WindowCountSubscriber.prototype._complete=function(){var windows=this.windows;if(windows)for(;windows.length>0&&!this.closed;)windows.shift().complete();this.destination.complete()},WindowCountSubscriber.prototype._unsubscribe=function(){this.count=0,this.windows=null},WindowCountSubscriber}(Subscriber_1.Subscriber)},"/Mvt":function(module,exports,__webpack_require__){"use strict";var reduce_1=__webpack_require__("P3wL");function toArrayReducer(arr,item,index){return 0===index?[item]:(arr.push(item),arr)}exports.toArray=function(){return reduce_1.reduce(toArrayReducer,[])}},"/UjX":function(module,exports,__webpack_require__){"use strict";var bufferCount_1=__webpack_require__("2sqe");exports.bufferCount=function(bufferSize,startBufferEvery){return void 0===startBufferEvery&&(startBufferEvery=null),bufferCount_1.bufferCount(bufferSize,startBufferEvery)(this)}},"/j9X":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=__webpack_require__("gKc2"),Subscriber_1=__webpack_require__("Ro5u"),isScheduler_1=__webpack_require__("VtyV");exports.bufferTime=function(bufferTimeSpan){var length=arguments.length,scheduler=async_1.async;isScheduler_1.isScheduler(arguments[arguments.length-1])&&(scheduler=arguments[arguments.length-1],length--);var bufferCreationInterval=null;length>=2&&(bufferCreationInterval=arguments[1]);var maxBufferSize=Number.POSITIVE_INFINITY;return length>=3&&(maxBufferSize=arguments[2]),function(source){return source.lift(new BufferTimeOperator(bufferTimeSpan,bufferCreationInterval,maxBufferSize,scheduler))}};var BufferTimeOperator=function(){function BufferTimeOperator(bufferTimeSpan,bufferCreationInterval,maxBufferSize,scheduler){this.bufferTimeSpan=bufferTimeSpan,this.bufferCreationInterval=bufferCreationInterval,this.maxBufferSize=maxBufferSize,this.scheduler=scheduler}return BufferTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new BufferTimeSubscriber(subscriber,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},BufferTimeOperator}(),Context=function(){this.buffer=[]},BufferTimeSubscriber=function(_super){function BufferTimeSubscriber(destination,bufferTimeSpan,bufferCreationInterval,maxBufferSize,scheduler){_super.call(this,destination),this.bufferTimeSpan=bufferTimeSpan,this.bufferCreationInterval=bufferCreationInterval,this.maxBufferSize=maxBufferSize,this.scheduler=scheduler,this.contexts=[];var context=this.openContext();if(this.timespanOnly=null==bufferCreationInterval||bufferCreationInterval<0,this.timespanOnly){var timeSpanOnlyState={subscriber:this,context:context,bufferTimeSpan:bufferTimeSpan};this.add(context.closeAction=scheduler.schedule(dispatchBufferTimeSpanOnly,bufferTimeSpan,timeSpanOnlyState))}else{var closeState={subscriber:this,context:context},creationState={bufferTimeSpan:bufferTimeSpan,bufferCreationInterval:bufferCreationInterval,subscriber:this,scheduler:scheduler};this.add(context.closeAction=scheduler.schedule(dispatchBufferClose,bufferTimeSpan,closeState)),this.add(scheduler.schedule(dispatchBufferCreation,bufferCreationInterval,creationState))}}return __extends(BufferTimeSubscriber,_super),BufferTimeSubscriber.prototype._next=function(value){for(var filledBufferContext,contexts=this.contexts,len=contexts.length,i=0;i<len;i++){var context=contexts[i],buffer=context.buffer;buffer.push(value),buffer.length==this.maxBufferSize&&(filledBufferContext=context)}filledBufferContext&&this.onBufferFull(filledBufferContext)},BufferTimeSubscriber.prototype._error=function(err){this.contexts.length=0,_super.prototype._error.call(this,err)},BufferTimeSubscriber.prototype._complete=function(){for(var contexts=this.contexts,destination=this.destination;contexts.length>0;){var context=contexts.shift();destination.next(context.buffer)}_super.prototype._complete.call(this)},BufferTimeSubscriber.prototype._unsubscribe=function(){this.contexts=null},BufferTimeSubscriber.prototype.onBufferFull=function(context){this.closeContext(context);var closeAction=context.closeAction;if(closeAction.unsubscribe(),this.remove(closeAction),!this.closed&&this.timespanOnly){context=this.openContext();var bufferTimeSpan=this.bufferTimeSpan,timeSpanOnlyState={subscriber:this,context:context,bufferTimeSpan:bufferTimeSpan};this.add(context.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,bufferTimeSpan,timeSpanOnlyState))}},BufferTimeSubscriber.prototype.openContext=function(){var context=new Context;return this.contexts.push(context),context},BufferTimeSubscriber.prototype.closeContext=function(context){this.destination.next(context.buffer);var contexts=this.contexts;(contexts?contexts.indexOf(context):-1)>=0&&contexts.splice(contexts.indexOf(context),1)},BufferTimeSubscriber}(Subscriber_1.Subscriber);function dispatchBufferTimeSpanOnly(state){var subscriber=state.subscriber,prevContext=state.context;prevContext&&subscriber.closeContext(prevContext),subscriber.closed||(state.context=subscriber.openContext(),state.context.closeAction=this.schedule(state,state.bufferTimeSpan))}function dispatchBufferCreation(state){var bufferCreationInterval=state.bufferCreationInterval,bufferTimeSpan=state.bufferTimeSpan,subscriber=state.subscriber,scheduler=state.scheduler,context=subscriber.openContext();subscriber.closed||(subscriber.add(context.closeAction=scheduler.schedule(dispatchBufferClose,bufferTimeSpan,{subscriber:subscriber,context:context})),this.schedule(state,bufferCreationInterval))}function dispatchBufferClose(arg){var subscriber=arg.subscriber,context=arg.context;subscriber.closeContext(context)}},"/lPm":function(module,exports,__webpack_require__){"use strict";var zip_1=__webpack_require__("JmZ0");exports.zipProto=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return zip_1.zip.apply(void 0,observables)(this)}},"0/Wh":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),do_1=__webpack_require__("lfb1");Observable_1.Observable.prototype["do"]=do_1._do,Observable_1.Observable.prototype._do=do_1._do},"07DG":function(module,exports,__webpack_require__){"use strict";var QueueAction_1=__webpack_require__("hpFD"),QueueScheduler_1=__webpack_require__("FNPY");exports.queue=new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction)},"0FHk":function(module,exports,__webpack_require__){"use strict";var partition_1=__webpack_require__("YYlK");exports.partition=function(predicate,thisArg){return partition_1.partition(predicate,thisArg)(this)}},"0Pd5":function(module,exports,__webpack_require__){"use strict";var takeWhile_1=__webpack_require__("aiDq");exports.takeWhile=function(predicate){return takeWhile_1.takeWhile(predicate)(this)}},"0nRH":function(module,exports,__webpack_require__){"use strict";var takeUntil_1=__webpack_require__("cgsq");exports.takeUntil=function(notifier){return takeUntil_1.takeUntil(notifier)(this)}},"0re0":function(module,exports,__webpack_require__){"use strict";var SubscribeOnObservable_1=__webpack_require__("/+7g");exports.subscribeOn=function(scheduler,delay){return void 0===delay&&(delay=0),function(source){return source.lift(new SubscribeOnOperator(scheduler,delay))}};var SubscribeOnOperator=function(){function SubscribeOnOperator(scheduler,delay){this.scheduler=scheduler,this.delay=delay}return SubscribeOnOperator.prototype.call=function(subscriber,source){return new SubscribeOnObservable_1.SubscribeOnObservable(source,this.delay,this.scheduler).subscribe(subscriber)},SubscribeOnOperator}()},"1Hpt":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),materialize_1=__webpack_require__("Uk6t");Observable_1.Observable.prototype.materialize=materialize_1.materialize},"1Iwf":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.catchError=function(selector){return function(source){var operator=new CatchOperator(selector),caught=source.lift(operator);return operator.caught=caught}};var CatchOperator=function(){function CatchOperator(selector){this.selector=selector}return CatchOperator.prototype.call=function(subscriber,source){return source.subscribe(new CatchSubscriber(subscriber,this.selector,this.caught))},CatchOperator}(),CatchSubscriber=function(_super){function CatchSubscriber(destination,selector,caught){_super.call(this,destination),this.selector=selector,this.caught=caught}return __extends(CatchSubscriber,_super),CatchSubscriber.prototype.error=function(err){if(!this.isStopped){var result=void 0;try{result=this.selector(err,this.caught)}catch(err2){return void _super.prototype.error.call(this,err2)}this._unsubscribeAndRecycle(),this.add(subscribeToResult_1.subscribeToResult(this,result))}},CatchSubscriber}(OuterSubscriber_1.OuterSubscriber)},"1NOM":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),switch_1=__webpack_require__("A7e3");Observable_1.Observable.prototype["switch"]=switch_1._switch,Observable_1.Observable.prototype._switch=switch_1._switch},"1dU5":function(module,exports,__webpack_require__){"use strict";var BoundCallbackObservable_1=__webpack_require__("E5gT");exports.bindCallback=BoundCallbackObservable_1.BoundCallbackObservable.create},"1hZF":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)};function dispatch(state){var obj=state.obj,keys=state.keys,length=state.length,index=state.index,subscriber=state.subscriber;if(index!==length){var key=keys[index];subscriber.next([key,obj[key]]),state.index=index+1,this.schedule(state)}else subscriber.complete()}var PairsObservable=function(_super){function PairsObservable(obj,scheduler){_super.call(this),this.obj=obj,this.scheduler=scheduler,this.keys=Object.keys(obj)}return __extends(PairsObservable,_super),PairsObservable.create=function(obj,scheduler){return new PairsObservable(obj,scheduler)},PairsObservable.prototype._subscribe=function(subscriber){var keys=this.keys,scheduler=this.scheduler,length=keys.length;if(scheduler)return scheduler.schedule(dispatch,0,{obj:this.obj,keys:keys,length:length,index:0,subscriber:subscriber});for(var idx=0;idx<length;idx++){var key=keys[idx];subscriber.next([key,this.obj[key]])}subscriber.complete()},PairsObservable}(__webpack_require__("sI33").Observable);exports.PairsObservable=PairsObservable},"1st3":function(module,exports,__webpack_require__){"use strict";var merge_1=__webpack_require__("5PtB"),merge_2=__webpack_require__("5PtB");exports.mergeStatic=merge_2.merge,exports.merge=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return function(source){return source.lift.call(merge_1.merge.apply(void 0,[source].concat(observables)))}}},"2BMs":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),pairs_1=__webpack_require__("x7Yb");Observable_1.Observable.pairs=pairs_1.pairs},"2DG7":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),single_1=__webpack_require__("W5RZ");Observable_1.Observable.prototype.single=single_1.single},"2PzN":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),switchMapTo_1=__webpack_require__("6Z72");Observable_1.Observable.prototype.switchMapTo=switchMapTo_1.switchMapTo},"2R8W":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),async_1=__webpack_require__("gKc2");exports.debounceTime=function(dueTime,scheduler){return void 0===scheduler&&(scheduler=async_1.async),function(source){return source.lift(new DebounceTimeOperator(dueTime,scheduler))}};var DebounceTimeOperator=function(){function DebounceTimeOperator(dueTime,scheduler){this.dueTime=dueTime,this.scheduler=scheduler}return DebounceTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new DebounceTimeSubscriber(subscriber,this.dueTime,this.scheduler))},DebounceTimeOperator}(),DebounceTimeSubscriber=function(_super){function DebounceTimeSubscriber(destination,dueTime,scheduler){_super.call(this,destination),this.dueTime=dueTime,this.scheduler=scheduler,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return __extends(DebounceTimeSubscriber,_super),DebounceTimeSubscriber.prototype._next=function(value){this.clearDebounce(),this.lastValue=value,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))},DebounceTimeSubscriber.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},DebounceTimeSubscriber.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},DebounceTimeSubscriber.prototype.clearDebounce=function(){var debouncedSubscription=this.debouncedSubscription;null!==debouncedSubscription&&(this.remove(debouncedSubscription),debouncedSubscription.unsubscribe(),this.debouncedSubscription=null)},DebounceTimeSubscriber}(Subscriber_1.Subscriber);function dispatchNext(subscriber){subscriber.debouncedNext()}},"2Zar":function(module,exports,__webpack_require__){"use strict";var IntervalObservable_1=__webpack_require__("5omC");exports.interval=IntervalObservable_1.IntervalObservable.create},"2jSA":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),windowCount_1=__webpack_require__("gG68");Observable_1.Observable.prototype.windowCount=windowCount_1.windowCount},"2lcE":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),observeOn_1=__webpack_require__("q3Hg");Observable_1.Observable.prototype.observeOn=observeOn_1.observeOn},"2sqe":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.bufferCount=function(bufferSize,startBufferEvery){return void 0===startBufferEvery&&(startBufferEvery=null),function(source){return source.lift(new BufferCountOperator(bufferSize,startBufferEvery))}};var BufferCountOperator=function(){function BufferCountOperator(bufferSize,startBufferEvery){this.bufferSize=bufferSize,this.startBufferEvery=startBufferEvery,this.subscriberClass=startBufferEvery&&bufferSize!==startBufferEvery?BufferSkipCountSubscriber:BufferCountSubscriber}return BufferCountOperator.prototype.call=function(subscriber,source){return source.subscribe(new this.subscriberClass(subscriber,this.bufferSize,this.startBufferEvery))},BufferCountOperator}(),BufferCountSubscriber=function(_super){function BufferCountSubscriber(destination,bufferSize){_super.call(this,destination),this.bufferSize=bufferSize,this.buffer=[]}return __extends(BufferCountSubscriber,_super),BufferCountSubscriber.prototype._next=function(value){var buffer=this.buffer;buffer.push(value),buffer.length==this.bufferSize&&(this.destination.next(buffer),this.buffer=[])},BufferCountSubscriber.prototype._complete=function(){var buffer=this.buffer;buffer.length>0&&this.destination.next(buffer),_super.prototype._complete.call(this)},BufferCountSubscriber}(Subscriber_1.Subscriber),BufferSkipCountSubscriber=function(_super){function BufferSkipCountSubscriber(destination,bufferSize,startBufferEvery){_super.call(this,destination),this.bufferSize=bufferSize,this.startBufferEvery=startBufferEvery,this.buffers=[],this.count=0}return __extends(BufferSkipCountSubscriber,_super),BufferSkipCountSubscriber.prototype._next=function(value){var bufferSize=this.bufferSize,startBufferEvery=this.startBufferEvery,buffers=this.buffers,count=this.count;this.count++,count%startBufferEvery==0&&buffers.push([]);for(var i=buffers.length;i--;){var buffer=buffers[i];buffer.push(value),buffer.length===bufferSize&&(buffers.splice(i,1),this.destination.next(buffer))}},BufferSkipCountSubscriber.prototype._complete=function(){for(var buffers=this.buffers,destination=this.destination;buffers.length>0;){var buffer=buffers.shift();buffer.length>0&&destination.next(buffer)}_super.prototype._complete.call(this)},BufferSkipCountSubscriber}(Subscriber_1.Subscriber)},"2u5P":function(module,exports,__webpack_require__){"use strict";exports.letProto=function(func){return func(this)}},"35M+":function(module,exports,__webpack_require__){"use strict";var root_1=__webpack_require__("UbR+"),ImmediateDefinition=function(){function ImmediateDefinition(root){if(this.root=root,root.setImmediate&&"function"==typeof root.setImmediate)this.setImmediate=root.setImmediate.bind(root),this.clearImmediate=root.clearImmediate.bind(root);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var ci=function clearImmediate(handle){delete clearImmediate.instance.tasksByHandle[handle]};ci.instance=this,this.clearImmediate=ci}}return ImmediateDefinition.prototype.identify=function(o){return this.root.Object.prototype.toString.call(o)},ImmediateDefinition.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},ImmediateDefinition.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},ImmediateDefinition.prototype.canUseReadyStateChange=function(){var document=this.root.document;return Boolean(document&&"onreadystatechange"in document.createElement("script"))},ImmediateDefinition.prototype.canUsePostMessage=function(){var root=this.root;if(root.postMessage&&!root.importScripts){var postMessageIsAsynchronous_1=!0,oldOnMessage=root.onmessage;return root.onmessage=function(){postMessageIsAsynchronous_1=!1},root.postMessage("","*"),root.onmessage=oldOnMessage,postMessageIsAsynchronous_1}return!1},ImmediateDefinition.prototype.partiallyApplied=function(handler){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var fn=function result(){var handler=result.handler,args=result.args;"function"==typeof handler?handler.apply(undefined,args):new Function(""+handler)()};return fn.handler=handler,fn.args=args,fn},ImmediateDefinition.prototype.addFromSetImmediateArguments=function(args){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(undefined,args),this.nextHandle++},ImmediateDefinition.prototype.createProcessNextTickSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance,handle=instance.addFromSetImmediateArguments(arguments);return instance.root.process.nextTick(instance.partiallyApplied(instance.runIfPresent,handle)),handle};return fn.instance=this,fn},ImmediateDefinition.prototype.createPostMessageSetImmediate=function(){var root=this.root,messagePrefix="setImmediate$"+root.Math.random()+"$",onGlobalMessage=function globalMessageHandler(event){var instance=globalMessageHandler.instance;event.source===root&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&instance.runIfPresent(+event.data.slice(messagePrefix.length))};onGlobalMessage.instance=this,root.addEventListener("message",onGlobalMessage,!1);var fn=function setImmediate(){var _a=setImmediate,messagePrefix=_a.messagePrefix,instance=_a.instance,handle=instance.addFromSetImmediateArguments(arguments);return instance.root.postMessage(messagePrefix+handle,"*"),handle};return fn.instance=this,fn.messagePrefix=messagePrefix,fn},ImmediateDefinition.prototype.runIfPresent=function(handle){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,handle),0);else{var task=this.tasksByHandle[handle];if(task){this.currentlyRunningATask=!0;try{task()}finally{this.clearImmediate(handle),this.currentlyRunningATask=!1}}}},ImmediateDefinition.prototype.createMessageChannelSetImmediate=function(){var _this=this,channel=new this.root.MessageChannel;channel.port1.onmessage=function(event){var handle=event.data;_this.runIfPresent(handle)};var fn=function setImmediate(){var _a=setImmediate,channel=_a.channel,instance=_a.instance,handle=instance.addFromSetImmediateArguments(arguments);return channel.port2.postMessage(handle),handle};return fn.channel=channel,fn.instance=this,fn},ImmediateDefinition.prototype.createReadyStateChangeSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance,root=instance.root,doc=root.document,html=doc.documentElement,handle=instance.addFromSetImmediateArguments(arguments),script=doc.createElement("script");return script.onreadystatechange=function(){instance.runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script),handle};return fn.instance=this,fn},ImmediateDefinition.prototype.createSetTimeoutSetImmediate=function(){var fn=function setImmediate(){var instance=setImmediate.instance,handle=instance.addFromSetImmediateArguments(arguments);return instance.root.setTimeout(instance.partiallyApplied(instance.runIfPresent,handle),0),handle};return fn.instance=this,fn},ImmediateDefinition}();exports.ImmediateDefinition=ImmediateDefinition,exports.Immediate=new ImmediateDefinition(root_1.root)},"373Y":function(module,exports,__webpack_require__){"use strict";var windowToggle_1=__webpack_require__("UOAa");exports.windowToggle=function(openings,closingSelector){return windowToggle_1.windowToggle(openings,closingSelector)(this)}},"3RRF":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ArrayObservable_1=__webpack_require__("N+Z9"),isArray_1=__webpack_require__("aS1e"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB"),none={};exports.combineLatest=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var project=null;return"function"==typeof observables[observables.length-1]&&(project=observables.pop()),1===observables.length&&isArray_1.isArray(observables[0])&&(observables=observables[0].slice()),function(source){return source.lift.call(new ArrayObservable_1.ArrayObservable([source].concat(observables)),new CombineLatestOperator(project))}};var CombineLatestOperator=function(){function CombineLatestOperator(project){this.project=project}return CombineLatestOperator.prototype.call=function(subscriber,source){return source.subscribe(new CombineLatestSubscriber(subscriber,this.project))},CombineLatestOperator}();exports.CombineLatestOperator=CombineLatestOperator;var CombineLatestSubscriber=function(_super){function CombineLatestSubscriber(destination,project){_super.call(this,destination),this.project=project,this.active=0,this.values=[],this.observables=[]}return __extends(CombineLatestSubscriber,_super),CombineLatestSubscriber.prototype._next=function(observable){this.values.push(none),this.observables.push(observable)},CombineLatestSubscriber.prototype._complete=function(){var observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{this.active=len,this.toRespond=len;for(var i=0;i<len;i++){var observable=observables[i];this.add(subscribeToResult_1.subscribeToResult(this,observable,observable,i))}}},CombineLatestSubscriber.prototype.notifyComplete=function(unused){0==(this.active-=1)&&this.destination.complete()},CombineLatestSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var values=this.values,oldVal=values[outerIndex],toRespond=this.toRespond?oldVal===none?--this.toRespond:this.toRespond:0;values[outerIndex]=innerValue,0===toRespond&&(this.project?this._tryProject(values):this.destination.next(values.slice()))},CombineLatestSubscriber.prototype._tryProject=function(values){var result;try{result=this.project.apply(this,values)}catch(err){return void this.destination.error(err)}this.destination.next(result)},CombineLatestSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.CombineLatestSubscriber=CombineLatestSubscriber},"3V4h":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.debounce=function(durationSelector){return function(source){return source.lift(new DebounceOperator(durationSelector))}};var DebounceOperator=function(){function DebounceOperator(durationSelector){this.durationSelector=durationSelector}return DebounceOperator.prototype.call=function(subscriber,source){return source.subscribe(new DebounceSubscriber(subscriber,this.durationSelector))},DebounceOperator}(),DebounceSubscriber=function(_super){function DebounceSubscriber(destination,durationSelector){_super.call(this,destination),this.durationSelector=durationSelector,this.hasValue=!1,this.durationSubscription=null}return __extends(DebounceSubscriber,_super),DebounceSubscriber.prototype._next=function(value){try{var result=this.durationSelector.call(this,value);result&&this._tryNext(value,result)}catch(err){this.destination.error(err)}},DebounceSubscriber.prototype._complete=function(){this.emitValue(),this.destination.complete()},DebounceSubscriber.prototype._tryNext=function(value,duration){var subscription=this.durationSubscription;this.value=value,this.hasValue=!0,subscription&&(subscription.unsubscribe(),this.remove(subscription)),(subscription=subscribeToResult_1.subscribeToResult(this,duration)).closed||this.add(this.durationSubscription=subscription)},DebounceSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.emitValue()},DebounceSubscriber.prototype.notifyComplete=function(){this.emitValue()},DebounceSubscriber.prototype.emitValue=function(){if(this.hasValue){var value=this.value,subscription=this.durationSubscription;subscription&&(this.durationSubscription=null,subscription.unsubscribe(),this.remove(subscription)),this.value=null,this.hasValue=!1,_super.prototype._next.call(this,value)}},DebounceSubscriber}(OuterSubscriber_1.OuterSubscriber)},"3X6L":function(module,exports,__webpack_require__){"use strict";var Subject_1=__webpack_require__("mwCp");exports.Subject=Subject_1.Subject,exports.AnonymousSubject=Subject_1.AnonymousSubject;var Observable_1=__webpack_require__("sI33");exports.Observable=Observable_1.Observable,__webpack_require__("zZ69"),__webpack_require__("jf5t"),__webpack_require__("+yAB"),__webpack_require__("qWQQ"),__webpack_require__("rTLj"),__webpack_require__("81vY"),__webpack_require__("uxzV"),__webpack_require__("QuRd"),__webpack_require__("+0nW"),__webpack_require__("Bq1k"),__webpack_require__("U+Yh"),__webpack_require__("JrAp"),__webpack_require__("8jOP"),__webpack_require__("Vui3"),__webpack_require__("t1pz"),__webpack_require__("KUq9"),__webpack_require__("9waw"),__webpack_require__("aPva"),__webpack_require__("yr4A"),__webpack_require__("2BMs"),__webpack_require__("K15C"),__webpack_require__("vCj6"),__webpack_require__("tdYg"),__webpack_require__("HRkM"),__webpack_require__("xESR"),__webpack_require__("z/FI"),__webpack_require__("+2Gd"),__webpack_require__("MJOm"),__webpack_require__("f19c"),__webpack_require__("McTT"),__webpack_require__("f27U"),__webpack_require__("AaFB"),__webpack_require__("xGIr"),__webpack_require__("jjG0"),__webpack_require__("dncd"),__webpack_require__("c8hK"),__webpack_require__("uAtR"),__webpack_require__("b/A/"),__webpack_require__("fEyj"),__webpack_require__("6NEU"),__webpack_require__("wW40"),__webpack_require__("S2Z/"),__webpack_require__("ex1c"),__webpack_require__("FPqm"),__webpack_require__("ifwo"),__webpack_require__("IT71"),__webpack_require__("8Yvj"),__webpack_require__("bUBz"),__webpack_require__("yJ8I"),__webpack_require__("0/Wh"),__webpack_require__("RCUi"),__webpack_require__("CzJS"),__webpack_require__("YoEO"),__webpack_require__("VJ6T"),__webpack_require__("NkPX"),__webpack_require__("Bg/d"),__webpack_require__("C+ky"),__webpack_require__("fzcI"),__webpack_require__("Kcnz"),__webpack_require__("Ow0M"),__webpack_require__("8Bgt"),__webpack_require__("fuCZ"),__webpack_require__("zG4Q"),__webpack_require__("rDdd"),__webpack_require__("8J9V"),__webpack_require__("MAlN"),__webpack_require__("63kj"),__webpack_require__("bAyp"),__webpack_require__("D+x0"),__webpack_require__("1Hpt"),__webpack_require__("uYcJ"),__webpack_require__("Y3Wp"),__webpack_require__("9VY1"),__webpack_require__("DIDL"),__webpack_require__("W8nP"),__webpack_require__("RXIN"),__webpack_require__("sGpy"),__webpack_require__("I/56"),__webpack_require__("2lcE"),__webpack_require__("Ezm4"),__webpack_require__("FwyC"),__webpack_require__("jwwl"),__webpack_require__("5IAh"),__webpack_require__("S++a"),__webpack_require__("xEF6"),__webpack_require__("N5l7"),__webpack_require__("qxD2"),__webpack_require__("COEe"),__webpack_require__("DmFl"),__webpack_require__("8Y7X"),__webpack_require__("icAL"),__webpack_require__("5/WH"),__webpack_require__("3hiR"),__webpack_require__("jw/J"),__webpack_require__("4kIP"),__webpack_require__("NjX3"),__webpack_require__("n3uJ"),__webpack_require__("Xgp1"),__webpack_require__("WiUb"),__webpack_require__("2DG7"),__webpack_require__("Z97H"),__webpack_require__("SzEw"),__webpack_require__("OtkM"),__webpack_require__("qKER"),__webpack_require__("La/W"),__webpack_require__("4PN/"),__webpack_require__("1NOM"),__webpack_require__("QTvk"),__webpack_require__("2PzN"),__webpack_require__("KjC4"),__webpack_require__("G8+V"),__webpack_require__("Lghw"),__webpack_require__("NIJo"),__webpack_require__("c/nj"),__webpack_require__("G/E9"),__webpack_require__("y5cW"),__webpack_require__("Zfzi"),__webpack_require__("QjM8"),__webpack_require__("MiIK"),__webpack_require__("q2vt"),__webpack_require__("wjQ8"),__webpack_require__("v1pZ"),__webpack_require__("2jSA"),__webpack_require__("Wr2u"),__webpack_require__("RqTh"),__webpack_require__("Weuy"),__webpack_require__("Cz3F"),__webpack_require__("VaAN"),__webpack_require__("T/NX");var Subscription_1=__webpack_require__("CauQ");exports.Subscription=Subscription_1.Subscription;var Subscriber_1=__webpack_require__("Ro5u");exports.Subscriber=Subscriber_1.Subscriber;var AsyncSubject_1=__webpack_require__("ysw+");exports.AsyncSubject=AsyncSubject_1.AsyncSubject;var ReplaySubject_1=__webpack_require__("NpG6");exports.ReplaySubject=ReplaySubject_1.ReplaySubject;var BehaviorSubject_1=__webpack_require__("ivCa");exports.BehaviorSubject=BehaviorSubject_1.BehaviorSubject;var ConnectableObservable_1=__webpack_require__("By2a");exports.ConnectableObservable=ConnectableObservable_1.ConnectableObservable;var Notification_1=__webpack_require__("uGw4");exports.Notification=Notification_1.Notification;var EmptyError_1=__webpack_require__("jcSU");exports.EmptyError=EmptyError_1.EmptyError;var ArgumentOutOfRangeError_1=__webpack_require__("y85y");exports.ArgumentOutOfRangeError=ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;var ObjectUnsubscribedError_1=__webpack_require__("gISr");exports.ObjectUnsubscribedError=ObjectUnsubscribedError_1.ObjectUnsubscribedError;var TimeoutError_1=__webpack_require__("7p7a");exports.TimeoutError=TimeoutError_1.TimeoutError;var UnsubscriptionError_1=__webpack_require__("as8n");exports.UnsubscriptionError=UnsubscriptionError_1.UnsubscriptionError;var timeInterval_1=__webpack_require__("oSns");exports.TimeInterval=timeInterval_1.TimeInterval;var timestamp_1=__webpack_require__("r8CI");exports.Timestamp=timestamp_1.Timestamp;var TestScheduler_1=__webpack_require__("SQoA");exports.TestScheduler=TestScheduler_1.TestScheduler;var VirtualTimeScheduler_1=__webpack_require__("VPM4");exports.VirtualTimeScheduler=VirtualTimeScheduler_1.VirtualTimeScheduler;var AjaxObservable_1=__webpack_require__("Y3SC");exports.AjaxResponse=AjaxObservable_1.AjaxResponse,exports.AjaxError=AjaxObservable_1.AjaxError,exports.AjaxTimeoutError=AjaxObservable_1.AjaxTimeoutError;var pipe_1=__webpack_require__("49sm");exports.pipe=pipe_1.pipe;var asap_1=__webpack_require__("C4ez"),async_1=__webpack_require__("gKc2"),queue_1=__webpack_require__("07DG"),animationFrame_1=__webpack_require__("l94k"),rxSubscriber_1=__webpack_require__("qUV8"),iterator_1=__webpack_require__("K96C"),observable_1=__webpack_require__("pyP5"),_operators=__webpack_require__("FrKq");exports.operators=_operators;var Scheduler={asap:asap_1.asap,queue:queue_1.queue,animationFrame:animationFrame_1.animationFrame,async:async_1.async};exports.Scheduler=Scheduler;var Symbol={rxSubscriber:rxSubscriber_1.rxSubscriber,observable:observable_1.observable,iterator:iterator_1.iterator};exports.Symbol=Symbol},"3hiR":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),retryWhen_1=__webpack_require__("b2cM");Observable_1.Observable.prototype.retryWhen=retryWhen_1.retryWhen},"477y":function(module,exports,__webpack_require__){"use strict";var mergeMap_1=__webpack_require__("Dbms");exports.mergeMap=function(project,resultSelector,concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),mergeMap_1.mergeMap(project,resultSelector,concurrent)(this)}},"49sm":function(module,exports,__webpack_require__){"use strict";var noop_1=__webpack_require__("jm2w");function pipeFromArray(fns){return fns?1===fns.length?fns[0]:function(input){return fns.reduce((function(prev,fn){return fn(prev)}),input)}:noop_1.noop}exports.pipe=function(){for(var fns=[],_i=0;_i<arguments.length;_i++)fns[_i-0]=arguments[_i];return pipeFromArray(fns)},exports.pipeFromArray=pipeFromArray},"4PN/":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),subscribeOn_1=__webpack_require__("MafF");Observable_1.Observable.prototype.subscribeOn=subscribeOn_1.subscribeOn},"4TLk":function(module,exports,__webpack_require__){"use strict";var takeLast_1=__webpack_require__("BUkL");exports.takeLast=function(count){return takeLast_1.takeLast(count)(this)}},"4Tri":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),noop_1=__webpack_require__("jm2w"),NeverObservable=function(_super){function NeverObservable(){_super.call(this)}return __extends(NeverObservable,_super),NeverObservable.create=function(){return new NeverObservable},NeverObservable.prototype._subscribe=function(subscriber){noop_1.noop()},NeverObservable}(Observable_1.Observable);exports.NeverObservable=NeverObservable},"4VVS":function(module,exports,__webpack_require__){"use strict";exports.identity=function(x){return x}},"4ZV1":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.withLatestFrom=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return function(source){var project;"function"==typeof args[args.length-1]&&(project=args.pop());var observables=args;return source.lift(new WithLatestFromOperator(observables,project))}};var WithLatestFromOperator=function(){function WithLatestFromOperator(observables,project){this.observables=observables,this.project=project}return WithLatestFromOperator.prototype.call=function(subscriber,source){return source.subscribe(new WithLatestFromSubscriber(subscriber,this.observables,this.project))},WithLatestFromOperator}(),WithLatestFromSubscriber=function(_super){function WithLatestFromSubscriber(destination,observables,project){_super.call(this,destination),this.observables=observables,this.project=project,this.toRespond=[];var len=observables.length;this.values=new Array(len);for(var i=0;i<len;i++)this.toRespond.push(i);for(i=0;i<len;i++){var observable=observables[i];this.add(subscribeToResult_1.subscribeToResult(this,observable,observable,i))}}return __extends(WithLatestFromSubscriber,_super),WithLatestFromSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values[outerIndex]=innerValue;var toRespond=this.toRespond;if(toRespond.length>0){var found=toRespond.indexOf(outerIndex);-1!==found&&toRespond.splice(found,1)}},WithLatestFromSubscriber.prototype.notifyComplete=function(){},WithLatestFromSubscriber.prototype._next=function(value){if(0===this.toRespond.length){var args=[value].concat(this.values);this.project?this._tryProject(args):this.destination.next(args)}},WithLatestFromSubscriber.prototype._tryProject=function(args){var result;try{result=this.project.apply(this,args)}catch(err){return void this.destination.error(err)}this.destination.next(result)},WithLatestFromSubscriber}(OuterSubscriber_1.OuterSubscriber)},"4g/g":function(module,exports,__webpack_require__){"use strict";var Subscriber_1=__webpack_require__("Ro5u"),rxSubscriber_1=__webpack_require__("qUV8"),Observer_1=__webpack_require__("cLWh");exports.toSubscriber=function(nextOrObserver,error,complete){if(nextOrObserver){if(nextOrObserver instanceof Subscriber_1.Subscriber)return nextOrObserver;if(nextOrObserver[rxSubscriber_1.rxSubscriber])return nextOrObserver[rxSubscriber_1.rxSubscriber]()}return nextOrObserver||error||complete?new Subscriber_1.Subscriber(nextOrObserver,error,complete):new Subscriber_1.Subscriber(Observer_1.empty)}},"4kIP":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),sampleTime_1=__webpack_require__("QHPw");Observable_1.Observable.prototype.sampleTime=sampleTime_1.sampleTime},"4pXO":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.skipWhile=function(predicate){return function(source){return source.lift(new SkipWhileOperator(predicate))}};var SkipWhileOperator=function(){function SkipWhileOperator(predicate){this.predicate=predicate}return SkipWhileOperator.prototype.call=function(subscriber,source){return source.subscribe(new SkipWhileSubscriber(subscriber,this.predicate))},SkipWhileOperator}(),SkipWhileSubscriber=function(_super){function SkipWhileSubscriber(destination,predicate){_super.call(this,destination),this.predicate=predicate,this.skipping=!0,this.index=0}return __extends(SkipWhileSubscriber,_super),SkipWhileSubscriber.prototype._next=function(value){var destination=this.destination;this.skipping&&this.tryCallPredicate(value),this.skipping||destination.next(value)},SkipWhileSubscriber.prototype.tryCallPredicate=function(value){try{var result=this.predicate(value,this.index++);this.skipping=Boolean(result)}catch(err){this.destination.error(err)}},SkipWhileSubscriber}(Subscriber_1.Subscriber)},"5/WH":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),retry_1=__webpack_require__("wpKS");Observable_1.Observable.prototype.retry=retry_1.retry},"5IAh":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),pluck_1=__webpack_require__("N2cM");Observable_1.Observable.prototype.pluck=pluck_1.pluck},"5PtB":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),ArrayObservable_1=__webpack_require__("N+Z9"),isScheduler_1=__webpack_require__("VtyV"),mergeAll_1=__webpack_require__("hnjD");exports.merge=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var concurrent=Number.POSITIVE_INFINITY,scheduler=null,last=observables[observables.length-1];return isScheduler_1.isScheduler(last)?(scheduler=observables.pop(),observables.length>1&&"number"==typeof observables[observables.length-1]&&(concurrent=observables.pop())):"number"==typeof last&&(concurrent=observables.pop()),null===scheduler&&1===observables.length&&observables[0]instanceof Observable_1.Observable?observables[0]:mergeAll_1.mergeAll(concurrent)(new ArrayObservable_1.ArrayObservable(observables,scheduler))}},"5Yht":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Action=function(_super){function Action(scheduler,work){_super.call(this)}return __extends(Action,_super),Action.prototype.schedule=function(state,delay){return void 0===delay&&(delay=0),this},Action}(__webpack_require__("CauQ").Subscription);exports.Action=Action},"5omC":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isNumeric_1=__webpack_require__("xftq"),Observable_1=__webpack_require__("sI33"),async_1=__webpack_require__("gKc2"),IntervalObservable=function(_super){function IntervalObservable(period,scheduler){void 0===period&&(period=0),void 0===scheduler&&(scheduler=async_1.async),_super.call(this),this.period=period,this.scheduler=scheduler,(!isNumeric_1.isNumeric(period)||period<0)&&(this.period=0),scheduler&&"function"==typeof scheduler.schedule||(this.scheduler=async_1.async)}return __extends(IntervalObservable,_super),IntervalObservable.create=function(period,scheduler){return void 0===period&&(period=0),void 0===scheduler&&(scheduler=async_1.async),new IntervalObservable(period,scheduler)},IntervalObservable.dispatch=function(state){var index=state.index,subscriber=state.subscriber,period=state.period;subscriber.next(index),subscriber.closed||(state.index+=1,this.schedule(state,period))},IntervalObservable.prototype._subscribe=function(subscriber){var period=this.period,scheduler=this.scheduler;subscriber.add(scheduler.schedule(IntervalObservable.dispatch,period,{index:0,subscriber:subscriber,period:period}))},IntervalObservable}(Observable_1.Observable);exports.IntervalObservable=IntervalObservable},"5zbs":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=__webpack_require__("gKc2"),isDate_1=__webpack_require__("Pz9i"),Subscriber_1=__webpack_require__("Ro5u"),Notification_1=__webpack_require__("uGw4");exports.delay=function(delay,scheduler){void 0===scheduler&&(scheduler=async_1.async);var delayFor=isDate_1.isDate(delay)?+delay-scheduler.now():Math.abs(delay);return function(source){return source.lift(new DelayOperator(delayFor,scheduler))}};var DelayOperator=function(){function DelayOperator(delay,scheduler){this.delay=delay,this.scheduler=scheduler}return DelayOperator.prototype.call=function(subscriber,source){return source.subscribe(new DelaySubscriber(subscriber,this.delay,this.scheduler))},DelayOperator}(),DelaySubscriber=function(_super){function DelaySubscriber(destination,delay,scheduler){_super.call(this,destination),this.delay=delay,this.scheduler=scheduler,this.queue=[],this.active=!1,this.errored=!1}return __extends(DelaySubscriber,_super),DelaySubscriber.dispatch=function(state){for(var source=state.source,queue=source.queue,scheduler=state.scheduler,destination=state.destination;queue.length>0&&queue[0].time-scheduler.now()<=0;)queue.shift().notification.observe(destination);if(queue.length>0){var delay_1=Math.max(0,queue[0].time-scheduler.now());this.schedule(state,delay_1)}else this.unsubscribe(),source.active=!1},DelaySubscriber.prototype._schedule=function(scheduler){this.active=!0,this.add(scheduler.schedule(DelaySubscriber.dispatch,this.delay,{source:this,destination:this.destination,scheduler:scheduler}))},DelaySubscriber.prototype.scheduleNotification=function(notification){if(!0!==this.errored){var scheduler=this.scheduler,message=new DelayMessage(scheduler.now()+this.delay,notification);this.queue.push(message),!1===this.active&&this._schedule(scheduler)}},DelaySubscriber.prototype._next=function(value){this.scheduleNotification(Notification_1.Notification.createNext(value))},DelaySubscriber.prototype._error=function(err){this.errored=!0,this.queue=[],this.destination.error(err)},DelaySubscriber.prototype._complete=function(){this.scheduleNotification(Notification_1.Notification.createComplete())},DelaySubscriber}(Subscriber_1.Subscriber),DelayMessage=function(time,notification){this.time=time,this.notification=notification}},"6/1A":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},RangeObservable=function(_super){function RangeObservable(start,count,scheduler){_super.call(this),this.start=start,this._count=count,this.scheduler=scheduler}return __extends(RangeObservable,_super),RangeObservable.create=function(start,count,scheduler){return void 0===start&&(start=0),void 0===count&&(count=0),new RangeObservable(start,count,scheduler)},RangeObservable.dispatch=function(state){var start=state.start,index=state.index,count=state.count,subscriber=state.subscriber;index>=count?subscriber.complete():(subscriber.next(start),subscriber.closed||(state.index=index+1,state.start=start+1,this.schedule(state)))},RangeObservable.prototype._subscribe=function(subscriber){var index=0,start=this.start,count=this._count,scheduler=this.scheduler;if(scheduler)return scheduler.schedule(RangeObservable.dispatch,0,{index:index,count:count,start:start,subscriber:subscriber});for(;;){if(index++>=count){subscriber.complete();break}if(subscriber.next(start++),subscriber.closed)break}},RangeObservable}(__webpack_require__("sI33").Observable);exports.RangeObservable=RangeObservable},"63kj":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),every_1=__webpack_require__("k3wk");Observable_1.Observable.prototype.every=every_1.every},"69pS":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),Subscription_1=__webpack_require__("CauQ"),Observable_1=__webpack_require__("sI33"),Subject_1=__webpack_require__("mwCp"),Map_1=__webpack_require__("ky1t"),FastMap_1=__webpack_require__("FYfu");exports.groupBy=function(keySelector,elementSelector,durationSelector,subjectSelector){return function(source){return source.lift(new GroupByOperator(keySelector,elementSelector,durationSelector,subjectSelector))}};var GroupByOperator=function(){function GroupByOperator(keySelector,elementSelector,durationSelector,subjectSelector){this.keySelector=keySelector,this.elementSelector=elementSelector,this.durationSelector=durationSelector,this.subjectSelector=subjectSelector}return GroupByOperator.prototype.call=function(subscriber,source){return source.subscribe(new GroupBySubscriber(subscriber,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},GroupByOperator}(),GroupBySubscriber=function(_super){function GroupBySubscriber(destination,keySelector,elementSelector,durationSelector,subjectSelector){_super.call(this,destination),this.keySelector=keySelector,this.elementSelector=elementSelector,this.durationSelector=durationSelector,this.subjectSelector=subjectSelector,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return __extends(GroupBySubscriber,_super),GroupBySubscriber.prototype._next=function(value){var key;try{key=this.keySelector(value)}catch(err){return void this.error(err)}this._group(value,key)},GroupBySubscriber.prototype._group=function(value,key){var groups=this.groups;groups||(groups=this.groups="string"==typeof key?new FastMap_1.FastMap:new Map_1.Map);var element,group=groups.get(key);if(this.elementSelector)try{element=this.elementSelector(value)}catch(err){this.error(err)}else element=value;if(!group){group=this.subjectSelector?this.subjectSelector():new Subject_1.Subject,groups.set(key,group);var groupedObservable=new GroupedObservable(key,group,this);if(this.destination.next(groupedObservable),this.durationSelector){var duration=void 0;try{duration=this.durationSelector(new GroupedObservable(key,group))}catch(err){return void this.error(err)}this.add(duration.subscribe(new GroupDurationSubscriber(key,group,this)))}}group.closed||group.next(element)},GroupBySubscriber.prototype._error=function(err){var groups=this.groups;groups&&(groups.forEach((function(group,key){group.error(err)})),groups.clear()),this.destination.error(err)},GroupBySubscriber.prototype._complete=function(){var groups=this.groups;groups&&(groups.forEach((function(group,key){group.complete()})),groups.clear()),this.destination.complete()},GroupBySubscriber.prototype.removeGroup=function(key){this.groups["delete"](key)},GroupBySubscriber.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&_super.prototype.unsubscribe.call(this))},GroupBySubscriber}(Subscriber_1.Subscriber),GroupDurationSubscriber=function(_super){function GroupDurationSubscriber(key,group,parent){_super.call(this,group),this.key=key,this.group=group,this.parent=parent}return __extends(GroupDurationSubscriber,_super),GroupDurationSubscriber.prototype._next=function(value){this.complete()},GroupDurationSubscriber.prototype._unsubscribe=function(){var parent=this.parent,key=this.key;this.key=this.parent=null,parent&&parent.removeGroup(key)},GroupDurationSubscriber}(Subscriber_1.Subscriber),GroupedObservable=function(_super){function GroupedObservable(key,groupSubject,refCountSubscription){_super.call(this),this.key=key,this.groupSubject=groupSubject,this.refCountSubscription=refCountSubscription}return __extends(GroupedObservable,_super),GroupedObservable.prototype._subscribe=function(subscriber){var subscription=new Subscription_1.Subscription,refCountSubscription=this.refCountSubscription,groupSubject=this.groupSubject;return refCountSubscription&&!refCountSubscription.closed&&subscription.add(new InnerRefCountSubscription(refCountSubscription)),subscription.add(groupSubject.subscribe(subscriber)),subscription},GroupedObservable}(Observable_1.Observable);exports.GroupedObservable=GroupedObservable;var InnerRefCountSubscription=function(_super){function InnerRefCountSubscription(parent){_super.call(this),this.parent=parent,parent.count++}return __extends(InnerRefCountSubscription,_super),InnerRefCountSubscription.prototype.unsubscribe=function(){var parent=this.parent;parent.closed||this.closed||(_super.prototype.unsubscribe.call(this),parent.count-=1,0===parent.count&&parent.attemptedToUnsubscribe&&parent.unsubscribe())},InnerRefCountSubscription}(Subscription_1.Subscription)},"6NEU":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),count_1=__webpack_require__("n5JV");Observable_1.Observable.prototype.count=count_1.count},"6StA":function(module,exports,__webpack_require__){"use strict";var debounce_1=__webpack_require__("3V4h");exports.debounce=function(durationSelector){return debounce_1.debounce(durationSelector)(this)}},"6Z72":function(module,exports,__webpack_require__){"use strict";var switchMapTo_1=__webpack_require__("cEiL");exports.switchMapTo=function(innerObservable,resultSelector){return switchMapTo_1.switchMapTo(innerObservable,resultSelector)(this)}},"7/JB":function(module,exports,__webpack_require__){"use strict";var root_1=__webpack_require__("UbR+"),isArrayLike_1=__webpack_require__("H81V"),isPromise_1=__webpack_require__("LWGg"),isObject_1=__webpack_require__("qkQy"),Observable_1=__webpack_require__("sI33"),iterator_1=__webpack_require__("K96C"),InnerSubscriber_1=__webpack_require__("I9+c"),observable_1=__webpack_require__("pyP5");exports.subscribeToResult=function(outerSubscriber,result,outerValue,outerIndex){var destination=new InnerSubscriber_1.InnerSubscriber(outerSubscriber,outerValue,outerIndex);if(destination.closed)return null;if(result instanceof Observable_1.Observable)return result._isScalar?(destination.next(result.value),destination.complete(),null):(destination.syncErrorThrowable=!0,result.subscribe(destination));if(isArrayLike_1.isArrayLike(result)){for(var i=0,len=result.length;i<len&&!destination.closed;i++)destination.next(result[i]);destination.closed||destination.complete()}else{if(isPromise_1.isPromise(result))return result.then((function(value){destination.closed||(destination.next(value),destination.complete())}),(function(err){return destination.error(err)})).then(null,(function(err){root_1.root.setTimeout((function(){throw err}))})),destination;if(result&&"function"==typeof result[iterator_1.iterator])for(var iterator=result[iterator_1.iterator]();;){var item=iterator.next();if(item.done){destination.complete();break}if(destination.next(item.value),destination.closed)break}else if(result&&"function"==typeof result[observable_1.observable]){var obs=result[observable_1.observable]();if("function"==typeof obs.subscribe)return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber,outerValue,outerIndex));destination.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var msg="You provided "+(isObject_1.isObject(result)?"an invalid object":"'"+result+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";destination.error(new TypeError(msg))}}return null}},"7Ts6":function(module,exports,__webpack_require__){"use strict";var sequenceEqual_1=__webpack_require__("BkuG");exports.sequenceEqual=function(compareTo,comparor){return sequenceEqual_1.sequenceEqual(compareTo,comparor)(this)}},"7Vdv":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__("mwCp"),tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.repeatWhen=function(notifier){return function(source){return source.lift(new RepeatWhenOperator(notifier))}};var RepeatWhenOperator=function(){function RepeatWhenOperator(notifier){this.notifier=notifier}return RepeatWhenOperator.prototype.call=function(subscriber,source){return source.subscribe(new RepeatWhenSubscriber(subscriber,this.notifier,source))},RepeatWhenOperator}(),RepeatWhenSubscriber=function(_super){function RepeatWhenSubscriber(destination,notifier,source){_super.call(this,destination),this.notifier=notifier,this.source=source,this.sourceIsBeingSubscribedTo=!0}return __extends(RepeatWhenSubscriber,_super),RepeatWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},RepeatWhenSubscriber.prototype.notifyComplete=function(innerSub){if(!1===this.sourceIsBeingSubscribedTo)return _super.prototype.complete.call(this)},RepeatWhenSubscriber.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return _super.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},RepeatWhenSubscriber.prototype._unsubscribe=function(){var notifications=this.notifications,retriesSubscription=this.retriesSubscription;notifications&&(notifications.unsubscribe(),this.notifications=null),retriesSubscription&&(retriesSubscription.unsubscribe(),this.retriesSubscription=null),this.retries=null},RepeatWhenSubscriber.prototype._unsubscribeAndRecycle=function(){var notifications=this.notifications,retries=this.retries,retriesSubscription=this.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,_super.prototype._unsubscribeAndRecycle.call(this),this.notifications=notifications,this.retries=retries,this.retriesSubscription=retriesSubscription,this},RepeatWhenSubscriber.prototype.subscribeToRetries=function(){this.notifications=new Subject_1.Subject;var retries=tryCatch_1.tryCatch(this.notifier)(this.notifications);if(retries===errorObject_1.errorObject)return _super.prototype.complete.call(this);this.retries=retries,this.retriesSubscription=subscribeToResult_1.subscribeToResult(this,retries)},RepeatWhenSubscriber}(OuterSubscriber_1.OuterSubscriber)},"7XK+":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.skipUntil=function(notifier){return function(source){return source.lift(new SkipUntilOperator(notifier))}};var SkipUntilOperator=function(){function SkipUntilOperator(notifier){this.notifier=notifier}return SkipUntilOperator.prototype.call=function(subscriber,source){return source.subscribe(new SkipUntilSubscriber(subscriber,this.notifier))},SkipUntilOperator}(),SkipUntilSubscriber=function(_super){function SkipUntilSubscriber(destination,notifier){_super.call(this,destination),this.hasValue=!1,this.isInnerStopped=!1,this.add(subscribeToResult_1.subscribeToResult(this,notifier))}return __extends(SkipUntilSubscriber,_super),SkipUntilSubscriber.prototype._next=function(value){this.hasValue&&_super.prototype._next.call(this,value)},SkipUntilSubscriber.prototype._complete=function(){this.isInnerStopped?_super.prototype._complete.call(this):this.unsubscribe()},SkipUntilSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.hasValue=!0},SkipUntilSubscriber.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&_super.prototype._complete.call(this)},SkipUntilSubscriber}(OuterSubscriber_1.OuterSubscriber)},"7c2v":function(module,exports,__webpack_require__){"use strict";var GenerateObservable_1=__webpack_require__("PNPS");exports.generate=GenerateObservable_1.GenerateObservable.create},"7mDs":function(module,exports,__webpack_require__){"use strict";var isScheduler_1=__webpack_require__("VtyV"),isArray_1=__webpack_require__("aS1e"),ArrayObservable_1=__webpack_require__("N+Z9"),combineLatest_1=__webpack_require__("3RRF");exports.combineLatest=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var project=null,scheduler=null;return isScheduler_1.isScheduler(observables[observables.length-1])&&(scheduler=observables.pop()),"function"==typeof observables[observables.length-1]&&(project=observables.pop()),1===observables.length&&isArray_1.isArray(observables[0])&&(observables=observables[0]),new ArrayObservable_1.ArrayObservable(observables,scheduler).lift(new combineLatest_1.CombineLatestOperator(project))}},"7p7a":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},TimeoutError=function(_super){function TimeoutError(){var err=_super.call(this,"Timeout has occurred");this.name=err.name="TimeoutError",this.stack=err.stack,this.message=err.message}return __extends(TimeoutError,_super),TimeoutError}(Error);exports.TimeoutError=TimeoutError},"81vY":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),empty_1=__webpack_require__("oZZJ");Observable_1.Observable.empty=empty_1.empty},"86Au":function(module,exports,__webpack_require__){"use strict";var combineAll_1=__webpack_require__("Z4Qc");exports.combineAll=function(project){return combineAll_1.combineAll(project)(this)}},"8Bgt":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),ignoreElements_1=__webpack_require__("t9e5");Observable_1.Observable.prototype.ignoreElements=ignoreElements_1.ignoreElements},"8Dp3":function(module,exports){!function(window,document){"use strict";angular.module("toaster",[]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"close-html":'<button class="toast-close-button" type="button">&times;</button>',"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}).run(["$templateCache",function($templateCache){$templateCache.put("angularjs-toaster/toast.html",'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click($event, toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><div ng-if="toaster.showCloseButton" ng-click="click($event, toaster, true)" ng-bind-html="toaster.closeHtml"></div><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="html" ng-bind-html="toaster.body"></div><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="directive"><div directive-template directive-name="{{toaster.html}}" directive-data="toaster.directiveData"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>')}]).service("toaster",["$rootScope","toasterConfig",function($rootScope,toasterConfig){var Guid=function(){var Guid={newGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"==c?r:3&r|8).toString(16)}))}};return Guid}();for(var type in this.pop=function(type,title,body,timeout,bodyOutputType,clickHandler,toasterId,showCloseButton,toastId,onHideCallback){if(angular.isObject(type)){var params=type;this.toast={type:params.type,title:params.title,body:params.body,timeout:params.timeout,bodyOutputType:params.bodyOutputType,clickHandler:params.clickHandler,showCloseButton:params.showCloseButton,closeHtml:params.closeHtml,toastId:params.toastId,onShowCallback:params.onShowCallback,onHideCallback:params.onHideCallback,directiveData:params.directiveData,tapToDismiss:params.tapToDismiss},toasterId=params.toasterId}else this.toast={type:type,title:title,body:body,timeout:timeout,bodyOutputType:bodyOutputType,clickHandler:clickHandler,showCloseButton:showCloseButton,toastId:toastId,onHideCallback:onHideCallback};return this.toast.toastId&&this.toast.toastId.length||(this.toast.toastId=Guid.newGuid()),$rootScope.$emit("toaster-newToast",toasterId,this.toast.toastId),{toasterId:toasterId,toastId:this.toast.toastId}},this.clear=function(toasterId,toastId){angular.isObject(toasterId)?$rootScope.$emit("toaster-clearToasts",toasterId.toasterId,toasterId.toastId):$rootScope.$emit("toaster-clearToasts",toasterId,toastId)},toasterConfig["icon-classes"])this[type]=createTypeMethod(type);function createTypeMethod(toasterType){return function(title,body,timeout,bodyOutputType,clickHandler,toasterId,showCloseButton,toastId,onHideCallback){return angular.isString(title)?this.pop(toasterType,title,body,timeout,bodyOutputType,clickHandler,toasterId,showCloseButton,toastId,onHideCallback):this.pop(angular.extend(title,{type:toasterType}))}}}]).factory("toasterEventRegistry",["$rootScope",function($rootScope){var toasterFactory,deregisterNewToast=null,deregisterClearToasts=null,newToastEventSubscribers=[],clearToastsEventSubscribers=[];return{setup:(toasterFactory={setup:function(){deregisterNewToast||(deregisterNewToast=$rootScope.$on("toaster-newToast",(function(event,toasterId,toastId){for(var i=0,len=newToastEventSubscribers.length;i<len;i++)newToastEventSubscribers[i](event,toasterId,toastId)}))),deregisterClearToasts||(deregisterClearToasts=$rootScope.$on("toaster-clearToasts",(function(event,toasterId,toastId){for(var i=0,len=clearToastsEventSubscribers.length;i<len;i++)clearToastsEventSubscribers[i](event,toasterId,toastId)})))},subscribeToNewToastEvent:function(onNewToast){newToastEventSubscribers.push(onNewToast)},subscribeToClearToastsEvent:function(onClearToasts){clearToastsEventSubscribers.push(onClearToasts)},unsubscribeToNewToastEvent:function(onNewToast){var index=newToastEventSubscribers.indexOf(onNewToast);index>=0&&newToastEventSubscribers.splice(index,1),0===newToastEventSubscribers.length&&(deregisterNewToast(),deregisterNewToast=null)},unsubscribeToClearToastsEvent:function(onClearToasts){var index=clearToastsEventSubscribers.indexOf(onClearToasts);index>=0&&clearToastsEventSubscribers.splice(index,1),0===clearToastsEventSubscribers.length&&(deregisterClearToasts(),deregisterClearToasts=null)}}).setup,subscribeToNewToastEvent:toasterFactory.subscribeToNewToastEvent,subscribeToClearToastsEvent:toasterFactory.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:toasterFactory.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:toasterFactory.unsubscribeToClearToastsEvent}}]).directive("directiveTemplate",["$compile","$injector",function($compile,$injector){return{restrict:"A",scope:{directiveName:"@directiveName",directiveData:"=directiveData"},replace:!0,link:function(scope,elm,attrs){scope.$watch("directiveName",(function(directiveName){if(angular.isUndefined(directiveName)||directiveName.length<=0)throw new Error("A valid directive name must be provided via the toast body argument when using bodyOutputType: directive");var directive;try{directive=$injector.get(attrs.$normalize(directiveName)+"Directive")}catch(e){throw new Error(directiveName+" could not be found. The name should appear as it exists in the markup, not camelCased as it would appear in the directive declaration, e.g. directive-name not directiveName.")}var directiveDetails=directive[0];if(!0!==directiveDetails.scope&&directiveDetails.scope)throw new Error("Cannot use a directive with an isolated scope. The scope must be either true or falsy (e.g. false/null/undefined). Occurred for directive "+directiveName+".");if(directiveDetails.restrict.indexOf("A")<0)throw new Error('Directives must be usable as attributes. Add "A" to the restrict option (or remove the option entirely). Occurred for directive '+directiveName+".");scope.directiveData&&(scope.directiveData=angular.fromJson(scope.directiveData));var template=$compile("<div "+directiveName+"></div>")(scope);elm.append(template)}))}}}]).directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function($parse,$rootScope,$interval,$sce,toasterConfig,toaster,toasterEventRegistry){return{replace:!0,restrict:"EA",scope:!0,link:function(scope,elm,attrs){var mergedConfig;function removeToast(toastIndex){var toast=scope.toasters[toastIndex];toast.timeoutPromise&&$interval.cancel(toast.timeoutPromise),scope.toasters.splice(toastIndex,1),angular.isFunction(toast.onHideCallback)&&toast.onHideCallback(toast)}function isUndefinedOrNull(val){return angular.isUndefined(val)||null===val}mergedConfig=angular.extend({},toasterConfig,scope.$eval(attrs.toasterOptions)),scope.config={toasterId:mergedConfig["toaster-id"],position:mergedConfig["position-class"],title:mergedConfig["title-class"],message:mergedConfig["message-class"],tap:mergedConfig["tap-to-dismiss"],closeButton:mergedConfig["close-button"],closeHtml:mergedConfig["close-html"],animation:mergedConfig["animation-class"],mouseoverTimer:mergedConfig["mouseover-timer-stop"]},scope.$on("$destroy",(function(){toasterEventRegistry.unsubscribeToNewToastEvent(scope._onNewToast),toasterEventRegistry.unsubscribeToClearToastsEvent(scope._onClearToasts)})),scope.configureTimer=function(toast){var timeout=angular.isNumber(toast.timeout)?toast.timeout:mergedConfig["time-out"];"object"==typeof timeout&&(timeout=timeout[toast.type]),timeout>0&&function(toast,time){toast.timeoutPromise=$interval((function(){scope.removeToast(toast.toastId)}),time,1)}(toast,timeout)},scope.removeToast=function(toastId){var i,len;for(i=0,len=scope.toasters.length;i<len;i++)if(scope.toasters[i].toastId===toastId){removeToast(i);break}},scope.toasters=[],scope._onNewToast=function(event,toasterId,toastId){(isUndefinedOrNull(scope.config.toasterId)&&isUndefinedOrNull(toasterId)||!isUndefinedOrNull(scope.config.toasterId)&&!isUndefinedOrNull(toasterId)&&scope.config.toasterId==toasterId)&&function(toast,toastId){if(toast.type=mergedConfig["icon-classes"][toast.type],toast.type||(toast.type=mergedConfig["icon-class"]),!0===mergedConfig["prevent-duplicates"]&&scope.toasters.length){if(scope.toasters[scope.toasters.length-1].body===toast.body)return;var i,len,dupFound=!1;for(i=0,len=scope.toasters.length;i<len;i++)if(scope.toasters[i].toastId===toastId){dupFound=!0;break}if(dupFound)return}var closeButton=mergedConfig["close-button"];if("boolean"==typeof toast.showCloseButton);else if("boolean"==typeof closeButton)toast.showCloseButton=closeButton;else if("object"==typeof closeButton){var closeButtonForType=closeButton[toast.type];null!=closeButtonForType&&(toast.showCloseButton=closeButtonForType)}else toast.showCloseButton=!1;switch(toast.showCloseButton&&(toast.closeHtml=$sce.trustAsHtml(toast.closeHtml||scope.config.closeHtml)),toast.bodyOutputType=toast.bodyOutputType||mergedConfig["body-output-type"],toast.bodyOutputType){case"trustedHtml":toast.html=$sce.trustAsHtml(toast.body);break;case"template":toast.bodyTemplate=toast.body||mergedConfig["body-template"];break;case"templateWithData":var templateWithData=$parse(toast.body||mergedConfig["body-template"])(scope);toast.bodyTemplate=templateWithData.template,toast.data=templateWithData.data;break;case"directive":toast.html=toast.body}scope.configureTimer(toast),!0===mergedConfig["newest-on-top"]?(scope.toasters.unshift(toast),mergedConfig.limit>0&&scope.toasters.length>mergedConfig.limit&&removeToast(scope.toasters.length-1)):(scope.toasters.push(toast),mergedConfig.limit>0&&scope.toasters.length>mergedConfig.limit&&removeToast(0)),angular.isFunction(toast.onShowCallback)&&toast.onShowCallback(toast)}(toaster.toast,toastId)},scope._onClearToasts=function(event,toasterId,toastId){("*"==toasterId||isUndefinedOrNull(scope.config.toasterId)&&isUndefinedOrNull(toasterId)||!isUndefinedOrNull(scope.config.toasterId)&&!isUndefinedOrNull(toasterId)&&scope.config.toasterId==toasterId)&&function(toastId){for(var i=scope.toasters.length-1;i>=0;i--)(isUndefinedOrNull(toastId)||scope.toasters[i].toastId==toastId)&&removeToast(i)}(toastId)},toasterEventRegistry.setup(),toasterEventRegistry.subscribeToNewToastEvent(scope._onNewToast),toasterEventRegistry.subscribeToClearToastsEvent(scope._onClearToasts)},controller:["$scope","$element","$attrs",function($scope,$element,$attrs){$scope.stopTimer=function(toast){!0===$scope.config.mouseoverTimer&&toast.timeoutPromise&&($interval.cancel(toast.timeoutPromise),toast.timeoutPromise=null)},$scope.restartTimer=function(toast){!0===$scope.config.mouseoverTimer?toast.timeoutPromise||$scope.configureTimer(toast):null===toast.timeoutPromise&&$scope.removeToast(toast.toastId)},$scope.click=function(event,toast,isCloseButton){if(event.stopPropagation(),!0===("boolean"==typeof toast.tapToDismiss?toast.tapToDismiss:$scope.config.tap)||!0===toast.showCloseButton&&!0===isCloseButton){var removeToast=!0;toast.clickHandler&&(angular.isFunction(toast.clickHandler)?removeToast=toast.clickHandler(toast,isCloseButton):angular.isFunction($scope.$parent.$eval(toast.clickHandler))&&(removeToast=$scope.$parent.$eval(toast.clickHandler)(toast,isCloseButton))),removeToast&&$scope.removeToast(toast.toastId)}}}],templateUrl:"angularjs-toaster/toast.html"}}])}(window,document)},"8J9V":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),last_1=__webpack_require__("seNE");Observable_1.Observable.prototype.last=last_1.last},"8KSp":function(module,exports,__webpack_require__){"use strict";var UsingObservable_1=__webpack_require__("BoL9");exports.using=UsingObservable_1.UsingObservable.create},"8Y7X":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),repeat_1=__webpack_require__("xQJm");Observable_1.Observable.prototype.repeat=repeat_1.repeat},"8Yvj":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),distinct_1=__webpack_require__("ww0b");Observable_1.Observable.prototype.distinct=distinct_1.distinct},"8agR":function(module,exports,__webpack_require__){"use strict";var skip_1=__webpack_require__("ldoh");exports.skip=function(count){return skip_1.skip(count)(this)}},"8jOP":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),if_1=__webpack_require__("tvAe");Observable_1.Observable["if"]=if_1._if},"8xdM":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.retry=function(count){return void 0===count&&(count=-1),function(source){return source.lift(new RetryOperator(count,source))}};var RetryOperator=function(){function RetryOperator(count,source){this.count=count,this.source=source}return RetryOperator.prototype.call=function(subscriber,source){return source.subscribe(new RetrySubscriber(subscriber,this.count,this.source))},RetryOperator}(),RetrySubscriber=function(_super){function RetrySubscriber(destination,count,source){_super.call(this,destination),this.count=count,this.source=source}return __extends(RetrySubscriber,_super),RetrySubscriber.prototype.error=function(err){if(!this.isStopped){var source=this.source,count=this.count;if(0===count)return _super.prototype.error.call(this,err);count>-1&&(this.count=count-1),source.subscribe(this._unsubscribeAndRecycle())}},RetrySubscriber}(Subscriber_1.Subscriber)},"91o8":function(module,exports,__webpack_require__){"use strict";var share_1=__webpack_require__("LskP");exports.share=function(){return share_1.share()(this)}},"9RDM":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.exhaust=function(){return function(source){return source.lift(new SwitchFirstOperator)}};var SwitchFirstOperator=function(){function SwitchFirstOperator(){}return SwitchFirstOperator.prototype.call=function(subscriber,source){return source.subscribe(new SwitchFirstSubscriber(subscriber))},SwitchFirstOperator}(),SwitchFirstSubscriber=function(_super){function SwitchFirstSubscriber(destination){_super.call(this,destination),this.hasCompleted=!1,this.hasSubscription=!1}return __extends(SwitchFirstSubscriber,_super),SwitchFirstSubscriber.prototype._next=function(value){this.hasSubscription||(this.hasSubscription=!0,this.add(subscribeToResult_1.subscribeToResult(this,value)))},SwitchFirstSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},SwitchFirstSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},SwitchFirstSubscriber}(OuterSubscriber_1.OuterSubscriber)},"9VY1":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),mergeAll_1=__webpack_require__("rJr5");Observable_1.Observable.prototype.mergeAll=mergeAll_1.mergeAll},"9dF8":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6");exports.distinctUntilChanged=function(compare,keySelector){return function(source){return source.lift(new DistinctUntilChangedOperator(compare,keySelector))}};var DistinctUntilChangedOperator=function(){function DistinctUntilChangedOperator(compare,keySelector){this.compare=compare,this.keySelector=keySelector}return DistinctUntilChangedOperator.prototype.call=function(subscriber,source){return source.subscribe(new DistinctUntilChangedSubscriber(subscriber,this.compare,this.keySelector))},DistinctUntilChangedOperator}(),DistinctUntilChangedSubscriber=function(_super){function DistinctUntilChangedSubscriber(destination,compare,keySelector){_super.call(this,destination),this.keySelector=keySelector,this.hasKey=!1,"function"==typeof compare&&(this.compare=compare)}return __extends(DistinctUntilChangedSubscriber,_super),DistinctUntilChangedSubscriber.prototype.compare=function(x,y){return x===y},DistinctUntilChangedSubscriber.prototype._next=function(value){var key=value;if(this.keySelector&&(key=tryCatch_1.tryCatch(this.keySelector)(value))===errorObject_1.errorObject)return this.destination.error(errorObject_1.errorObject.e);var result=!1;if(this.hasKey){if((result=tryCatch_1.tryCatch(this.compare)(this.key,key))===errorObject_1.errorObject)return this.destination.error(errorObject_1.errorObject.e)}else this.hasKey=!0;!1===Boolean(result)&&(this.key=key,this.destination.next(value))},DistinctUntilChangedSubscriber}(Subscriber_1.Subscriber)},"9waw":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),never_1=__webpack_require__("Jloc");Observable_1.Observable.never=never_1.never},A7e3:function(module,exports,__webpack_require__){"use strict";var switchAll_1=__webpack_require__("doOu");exports._switch=function(){return switchAll_1.switchAll()(this)}},AKzL:function(module,exports,__webpack_require__){"use strict";var async_1=__webpack_require__("gKc2"),throttle_1=__webpack_require__("pktH"),throttleTime_1=__webpack_require__("qF2+");exports.throttleTime=function(duration,scheduler,config){return void 0===scheduler&&(scheduler=async_1.async),void 0===config&&(config=throttle_1.defaultThrottleConfig),throttleTime_1.throttleTime(duration,scheduler,config)(this)}},AaFB:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),bufferWhen_1=__webpack_require__("jSi4");Observable_1.Observable.prototype.bufferWhen=bufferWhen_1.bufferWhen},Ae56:function(module,exports,__webpack_require__){"use strict";var mergeMapTo_1=__webpack_require__("de4H");exports.mergeMapTo=function(innerObservable,resultSelector,concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),mergeMapTo_1.mergeMapTo(innerObservable,resultSelector,concurrent)(this)}},BEOV:function(module,exports,__webpack_require__){"use strict";var Subject_1=__webpack_require__("mwCp"),multicast_1=__webpack_require__("G8Kb");exports.publish=function(selector){return selector?multicast_1.multicast((function(){return new Subject_1.Subject}),selector):multicast_1.multicast(new Subject_1.Subject)}},BUkL:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),ArgumentOutOfRangeError_1=__webpack_require__("y85y"),EmptyObservable_1=__webpack_require__("QUkR");exports.takeLast=function(count){return function(source){return 0===count?new EmptyObservable_1.EmptyObservable:source.lift(new TakeLastOperator(count))}};var TakeLastOperator=function(){function TakeLastOperator(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return TakeLastOperator.prototype.call=function(subscriber,source){return source.subscribe(new TakeLastSubscriber(subscriber,this.total))},TakeLastOperator}(),TakeLastSubscriber=function(_super){function TakeLastSubscriber(destination,total){_super.call(this,destination),this.total=total,this.ring=new Array,this.count=0}return __extends(TakeLastSubscriber,_super),TakeLastSubscriber.prototype._next=function(value){var ring=this.ring,total=this.total,count=this.count++;ring.length<total?ring.push(value):ring[count%total]=value},TakeLastSubscriber.prototype._complete=function(){var destination=this.destination,count=this.count;if(count>0)for(var total=this.count>=this.total?this.total:this.count,ring=this.ring,i=0;i<total;i++){var idx=count++%total;destination.next(ring[idx])}destination.complete()},TakeLastSubscriber}(Subscriber_1.Subscriber)},BZXN:function(module,exports,__webpack_require__){"use strict";var TimerObservable_1=__webpack_require__("SXxM");exports.timer=TimerObservable_1.TimerObservable.create},Bfcd:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isArray_1=__webpack_require__("aS1e"),isArrayLike_1=__webpack_require__("H81V"),isPromise_1=__webpack_require__("LWGg"),PromiseObservable_1=__webpack_require__("+DLm"),IteratorObservable_1=__webpack_require__("EpZI"),ArrayObservable_1=__webpack_require__("N+Z9"),ArrayLikeObservable_1=__webpack_require__("y0Y/"),iterator_1=__webpack_require__("K96C"),Observable_1=__webpack_require__("sI33"),observeOn_1=__webpack_require__("XehH"),observable_1=__webpack_require__("pyP5"),FromObservable=function(_super){function FromObservable(ish,scheduler){_super.call(this,null),this.ish=ish,this.scheduler=scheduler}return __extends(FromObservable,_super),FromObservable.create=function(ish,scheduler){if(null!=ish){if("function"==typeof ish[observable_1.observable])return ish instanceof Observable_1.Observable&&!scheduler?ish:new FromObservable(ish,scheduler);if(isArray_1.isArray(ish))return new ArrayObservable_1.ArrayObservable(ish,scheduler);if(isPromise_1.isPromise(ish))return new PromiseObservable_1.PromiseObservable(ish,scheduler);if("function"==typeof ish[iterator_1.iterator]||"string"==typeof ish)return new IteratorObservable_1.IteratorObservable(ish,scheduler);if(isArrayLike_1.isArrayLike(ish))return new ArrayLikeObservable_1.ArrayLikeObservable(ish,scheduler)}throw new TypeError((null!==ish&&typeof ish||ish)+" is not observable")},FromObservable.prototype._subscribe=function(subscriber){var ish=this.ish,scheduler=this.scheduler;return null==scheduler?ish[observable_1.observable]().subscribe(subscriber):ish[observable_1.observable]().subscribe(new observeOn_1.ObserveOnSubscriber(subscriber,scheduler,0))},FromObservable}(Observable_1.Observable);exports.FromObservable=FromObservable},"Bg/d":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),finally_1=__webpack_require__("tXLV");Observable_1.Observable.prototype["finally"]=finally_1._finally,Observable_1.Observable.prototype._finally=finally_1._finally},BkuG:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6");exports.sequenceEqual=function(compareTo,comparor){return function(source){return source.lift(new SequenceEqualOperator(compareTo,comparor))}};var SequenceEqualOperator=function(){function SequenceEqualOperator(compareTo,comparor){this.compareTo=compareTo,this.comparor=comparor}return SequenceEqualOperator.prototype.call=function(subscriber,source){return source.subscribe(new SequenceEqualSubscriber(subscriber,this.compareTo,this.comparor))},SequenceEqualOperator}();exports.SequenceEqualOperator=SequenceEqualOperator;var SequenceEqualSubscriber=function(_super){function SequenceEqualSubscriber(destination,compareTo,comparor){_super.call(this,destination),this.compareTo=compareTo,this.comparor=comparor,this._a=[],this._b=[],this._oneComplete=!1,this.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination,this)))}return __extends(SequenceEqualSubscriber,_super),SequenceEqualSubscriber.prototype._next=function(value){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(value),this.checkValues())},SequenceEqualSubscriber.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},SequenceEqualSubscriber.prototype.checkValues=function(){for(var _a=this._a,_b=this._b,comparor=this.comparor;_a.length>0&&_b.length>0;){var a=_a.shift(),b=_b.shift(),areEqual=!1;comparor?(areEqual=tryCatch_1.tryCatch(comparor)(a,b))===errorObject_1.errorObject&&this.destination.error(errorObject_1.errorObject.e):areEqual=a===b,areEqual||this.emit(!1)}},SequenceEqualSubscriber.prototype.emit=function(value){var destination=this.destination;destination.next(value),destination.complete()},SequenceEqualSubscriber.prototype.nextB=function(value){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(value),this.checkValues())},SequenceEqualSubscriber}(Subscriber_1.Subscriber);exports.SequenceEqualSubscriber=SequenceEqualSubscriber;var SequenceEqualCompareToSubscriber=function(_super){function SequenceEqualCompareToSubscriber(destination,parent){_super.call(this,destination),this.parent=parent}return __extends(SequenceEqualCompareToSubscriber,_super),SequenceEqualCompareToSubscriber.prototype._next=function(value){this.parent.nextB(value)},SequenceEqualCompareToSubscriber.prototype._error=function(err){this.parent.error(err)},SequenceEqualCompareToSubscriber.prototype._complete=function(){this.parent._complete()},SequenceEqualCompareToSubscriber}(Subscriber_1.Subscriber)},BoL9:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),subscribeToResult_1=__webpack_require__("7/JB"),OuterSubscriber_1=__webpack_require__("Zyg3"),UsingObservable=function(_super){function UsingObservable(resourceFactory,observableFactory){_super.call(this),this.resourceFactory=resourceFactory,this.observableFactory=observableFactory}return __extends(UsingObservable,_super),UsingObservable.create=function(resourceFactory,observableFactory){return new UsingObservable(resourceFactory,observableFactory)},UsingObservable.prototype._subscribe=function(subscriber){var resource,resourceFactory=this.resourceFactory,observableFactory=this.observableFactory;try{return resource=resourceFactory(),new UsingSubscriber(subscriber,resource,observableFactory)}catch(err){subscriber.error(err)}},UsingObservable}(Observable_1.Observable);exports.UsingObservable=UsingObservable;var UsingSubscriber=function(_super){function UsingSubscriber(destination,resource,observableFactory){_super.call(this,destination),this.resource=resource,this.observableFactory=observableFactory,destination.add(resource),this.tryUse()}return __extends(UsingSubscriber,_super),UsingSubscriber.prototype.tryUse=function(){try{var source=this.observableFactory.call(this,this.resource);source&&this.add(subscribeToResult_1.subscribeToResult(this,source))}catch(err){this._error(err)}},UsingSubscriber}(OuterSubscriber_1.OuterSubscriber)},Bq1k:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),fromEventPattern_1=__webpack_require__("WEWy");Observable_1.Observable.fromEventPattern=fromEventPattern_1.fromEventPattern},Bq8y:function(module,exports,__webpack_require__){"use strict";var exhaustMap_1=__webpack_require__("vaX0");exports.exhaustMap=function(project,resultSelector){return exhaustMap_1.exhaustMap(project,resultSelector)(this)}},By2a:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__("mwCp"),Observable_1=__webpack_require__("sI33"),Subscriber_1=__webpack_require__("Ro5u"),Subscription_1=__webpack_require__("CauQ"),refCount_1=__webpack_require__("Oy1a"),ConnectableObservable=function(_super){function ConnectableObservable(source,subjectFactory){_super.call(this),this.source=source,this.subjectFactory=subjectFactory,this._refCount=0,this._isComplete=!1}return __extends(ConnectableObservable,_super),ConnectableObservable.prototype._subscribe=function(subscriber){return this.getSubject().subscribe(subscriber)},ConnectableObservable.prototype.getSubject=function(){var subject=this._subject;return subject&&!subject.isStopped||(this._subject=this.subjectFactory()),this._subject},ConnectableObservable.prototype.connect=function(){var connection=this._connection;return connection||(this._isComplete=!1,(connection=this._connection=new Subscription_1.Subscription).add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),connection.closed?(this._connection=null,connection=Subscription_1.Subscription.EMPTY):this._connection=connection),connection},ConnectableObservable.prototype.refCount=function(){return refCount_1.refCount()(this)},ConnectableObservable}(Observable_1.Observable);exports.ConnectableObservable=ConnectableObservable;var connectableProto=ConnectableObservable.prototype;exports.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:connectableProto._subscribe},_isComplete:{value:connectableProto._isComplete,writable:!0},getSubject:{value:connectableProto.getSubject},connect:{value:connectableProto.connect},refCount:{value:connectableProto.refCount}};var ConnectableSubscriber=function(_super){function ConnectableSubscriber(destination,connectable){_super.call(this,destination),this.connectable=connectable}return __extends(ConnectableSubscriber,_super),ConnectableSubscriber.prototype._error=function(err){this._unsubscribe(),_super.prototype._error.call(this,err)},ConnectableSubscriber.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),_super.prototype._complete.call(this)},ConnectableSubscriber.prototype._unsubscribe=function(){var connectable=this.connectable;if(connectable){this.connectable=null;var connection=connectable._connection;connectable._refCount=0,connectable._subject=null,connectable._connection=null,connection&&connection.unsubscribe()}},ConnectableSubscriber}(Subject_1.SubjectSubscriber),RefCountSubscriber=(function(){function RefCountOperator(connectable){this.connectable=connectable}RefCountOperator.prototype.call=function(subscriber,source){var connectable=this.connectable;connectable._refCount++;var refCounter=new RefCountSubscriber(subscriber,connectable),subscription=source.subscribe(refCounter);return refCounter.closed||(refCounter.connection=connectable.connect()),subscription}}(),function(_super){function RefCountSubscriber(destination,connectable){_super.call(this,destination),this.connectable=connectable}return __extends(RefCountSubscriber,_super),RefCountSubscriber.prototype._unsubscribe=function(){var connectable=this.connectable;if(connectable){this.connectable=null;var refCount=connectable._refCount;if(refCount<=0)this.connection=null;else if(connectable._refCount=refCount-1,refCount>1)this.connection=null;else{var connection=this.connection,sharedConnection=connectable._connection;this.connection=null,!sharedConnection||connection&&sharedConnection!==connection||sharedConnection.unsubscribe()}}else this.connection=null},RefCountSubscriber}(Subscriber_1.Subscriber))},"C+ky":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),find_1=__webpack_require__("Fhvl");Observable_1.Observable.prototype.find=find_1.find},C4ez:function(module,exports,__webpack_require__){"use strict";var AsapAction_1=__webpack_require__("K2G7"),AsapScheduler_1=__webpack_require__("pTlI");exports.asap=new AsapScheduler_1.AsapScheduler(AsapAction_1.AsapAction)},CBwT:function(module,exports,__webpack_require__){"use strict";var MapPolyfill=function(){function MapPolyfill(){this.size=0,this._values=[],this._keys=[]}return MapPolyfill.prototype.get=function(key){var i=this._keys.indexOf(key);return-1===i?undefined:this._values[i]},MapPolyfill.prototype.set=function(key,value){var i=this._keys.indexOf(key);return-1===i?(this._keys.push(key),this._values.push(value),this.size++):this._values[i]=value,this},MapPolyfill.prototype["delete"]=function(key){var i=this._keys.indexOf(key);return-1!==i&&(this._values.splice(i,1),this._keys.splice(i,1),this.size--,!0)},MapPolyfill.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},MapPolyfill.prototype.forEach=function(cb,thisArg){for(var i=0;i<this.size;i++)cb.call(thisArg,this._values[i],this._keys[i])},MapPolyfill}();exports.MapPolyfill=MapPolyfill},COEe:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),race_1=__webpack_require__("iQQu");Observable_1.Observable.prototype.race=race_1.race},CQc8:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__("mwCp"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.window=function(windowBoundaries){return function(source){return source.lift(new WindowOperator(windowBoundaries))}};var WindowOperator=function(){function WindowOperator(windowBoundaries){this.windowBoundaries=windowBoundaries}return WindowOperator.prototype.call=function(subscriber,source){var windowSubscriber=new WindowSubscriber(subscriber),sourceSubscription=source.subscribe(windowSubscriber);return sourceSubscription.closed||windowSubscriber.add(subscribeToResult_1.subscribeToResult(windowSubscriber,this.windowBoundaries)),sourceSubscription},WindowOperator}(),WindowSubscriber=function(_super){function WindowSubscriber(destination){_super.call(this,destination),this.window=new Subject_1.Subject,destination.next(this.window)}return __extends(WindowSubscriber,_super),WindowSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openWindow()},WindowSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},WindowSubscriber.prototype.notifyComplete=function(innerSub){this._complete()},WindowSubscriber.prototype._next=function(value){this.window.next(value)},WindowSubscriber.prototype._error=function(err){this.window.error(err),this.destination.error(err)},WindowSubscriber.prototype._complete=function(){this.window.complete(),this.destination.complete()},WindowSubscriber.prototype._unsubscribe=function(){this.window=null},WindowSubscriber.prototype.openWindow=function(){var prevWindow=this.window;prevWindow&&prevWindow.complete();var destination=this.destination,newWindow=this.window=new Subject_1.Subject;destination.next(newWindow)},WindowSubscriber}(OuterSubscriber_1.OuterSubscriber)},CauQ:function(module,exports,__webpack_require__){"use strict";var isArray_1=__webpack_require__("aS1e"),isObject_1=__webpack_require__("qkQy"),isFunction_1=__webpack_require__("WQRc"),tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6"),UnsubscriptionError_1=__webpack_require__("as8n"),Subscription=function(){function Subscription(unsubscribe){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,unsubscribe&&(this._unsubscribe=unsubscribe)}var empty;return Subscription.prototype.unsubscribe=function(){var errors,hasErrors=!1;if(!this.closed){var _parent=this._parent,_parents=this._parents,_unsubscribe=this._unsubscribe,_subscriptions=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var index=-1,len=_parents?_parents.length:0;_parent;)_parent.remove(this),_parent=++index<len&&_parents[index]||null;if(isFunction_1.isFunction(_unsubscribe))tryCatch_1.tryCatch(_unsubscribe).call(this)===errorObject_1.errorObject&&(hasErrors=!0,errors=errors||(errorObject_1.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError?flattenUnsubscriptionErrors(errorObject_1.errorObject.e.errors):[errorObject_1.errorObject.e]));if(isArray_1.isArray(_subscriptions))for(index=-1,len=_subscriptions.length;++index<len;){var sub=_subscriptions[index];if(isObject_1.isObject(sub))if(tryCatch_1.tryCatch(sub.unsubscribe).call(sub)===errorObject_1.errorObject){hasErrors=!0,errors=errors||[];var err=errorObject_1.errorObject.e;err instanceof UnsubscriptionError_1.UnsubscriptionError?errors=errors.concat(flattenUnsubscriptionErrors(err.errors)):errors.push(err)}}if(hasErrors)throw new UnsubscriptionError_1.UnsubscriptionError(errors)}},Subscription.prototype.add=function(teardown){if(!teardown||teardown===Subscription.EMPTY)return Subscription.EMPTY;if(teardown===this)return this;var subscription=teardown;switch(typeof teardown){case"function":subscription=new Subscription(teardown);case"object":if(subscription.closed||"function"!=typeof subscription.unsubscribe)return subscription;if(this.closed)return subscription.unsubscribe(),subscription;if("function"!=typeof subscription._addParent){var tmp=subscription;(subscription=new Subscription)._subscriptions=[tmp]}break;default:throw new Error("unrecognized teardown "+teardown+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(subscription),subscription._addParent(this),subscription},Subscription.prototype.remove=function(subscription){var subscriptions=this._subscriptions;if(subscriptions){var subscriptionIndex=subscriptions.indexOf(subscription);-1!==subscriptionIndex&&subscriptions.splice(subscriptionIndex,1)}},Subscription.prototype._addParent=function(parent){var _parent=this._parent,_parents=this._parents;_parent&&_parent!==parent?_parents?-1===_parents.indexOf(parent)&&_parents.push(parent):this._parents=[parent]:this._parent=parent},Subscription.EMPTY=((empty=new Subscription).closed=!0,empty),Subscription}();function flattenUnsubscriptionErrors(errors){return errors.reduce((function(errs,err){return errs.concat(err instanceof UnsubscriptionError_1.UnsubscriptionError?err.errors:err)}),[])}exports.Subscription=Subscription},Ch3i:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.dematerialize=function(){return function(source){return source.lift(new DeMaterializeOperator)}};var DeMaterializeOperator=function(){function DeMaterializeOperator(){}return DeMaterializeOperator.prototype.call=function(subscriber,source){return source.subscribe(new DeMaterializeSubscriber(subscriber))},DeMaterializeOperator}(),DeMaterializeSubscriber=function(_super){function DeMaterializeSubscriber(destination){_super.call(this,destination)}return __extends(DeMaterializeSubscriber,_super),DeMaterializeSubscriber.prototype._next=function(value){value.observe(this.destination)},DeMaterializeSubscriber}(Subscriber_1.Subscriber)},Cz3F:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),withLatestFrom_1=__webpack_require__("Nuuh");Observable_1.Observable.prototype.withLatestFrom=withLatestFrom_1.withLatestFrom},CzJS:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),exhaustMap_1=__webpack_require__("Bq8y");Observable_1.Observable.prototype.exhaustMap=exhaustMap_1.exhaustMap},"D+x0":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),mapTo_1=__webpack_require__("KW1g");Observable_1.Observable.prototype.mapTo=mapTo_1.mapTo},D6wt:function(module,exports,__webpack_require__){"use strict";var concatMapTo_1=__webpack_require__("u5Yc");exports.concatMapTo=function(innerObservable,resultSelector){return concatMapTo_1.concatMapTo(innerObservable,resultSelector)(this)}},DIDL:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),mergeMap_1=__webpack_require__("477y");Observable_1.Observable.prototype.mergeMap=mergeMap_1.mergeMap,Observable_1.Observable.prototype.flatMap=mergeMap_1.mergeMap},DJm4:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6"),subscribeToResult_1=__webpack_require__("7/JB"),OuterSubscriber_1=__webpack_require__("Zyg3");exports.mergeScan=function(accumulator,seed,concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),function(source){return source.lift(new MergeScanOperator(accumulator,seed,concurrent))}};var MergeScanOperator=function(){function MergeScanOperator(accumulator,seed,concurrent){this.accumulator=accumulator,this.seed=seed,this.concurrent=concurrent}return MergeScanOperator.prototype.call=function(subscriber,source){return source.subscribe(new MergeScanSubscriber(subscriber,this.accumulator,this.seed,this.concurrent))},MergeScanOperator}();exports.MergeScanOperator=MergeScanOperator;var MergeScanSubscriber=function(_super){function MergeScanSubscriber(destination,accumulator,acc,concurrent){_super.call(this,destination),this.accumulator=accumulator,this.acc=acc,this.concurrent=concurrent,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(MergeScanSubscriber,_super),MergeScanSubscriber.prototype._next=function(value){if(this.active<this.concurrent){var index=this.index++,ish=tryCatch_1.tryCatch(this.accumulator)(this.acc,value),destination=this.destination;ish===errorObject_1.errorObject?destination.error(errorObject_1.errorObject.e):(this.active++,this._innerSub(ish,value,index))}else this.buffer.push(value)},MergeScanSubscriber.prototype._innerSub=function(ish,value,index){this.add(subscribeToResult_1.subscribeToResult(this,ish,value,index))},MergeScanSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},MergeScanSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var destination=this.destination;this.acc=innerValue,this.hasValue=!0,destination.next(innerValue)},MergeScanSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},MergeScanSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.MergeScanSubscriber=MergeScanSubscriber},DOP2:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__("mwCp"),tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.retryWhen=function(notifier){return function(source){return source.lift(new RetryWhenOperator(notifier,source))}};var RetryWhenOperator=function(){function RetryWhenOperator(notifier,source){this.notifier=notifier,this.source=source}return RetryWhenOperator.prototype.call=function(subscriber,source){return source.subscribe(new RetryWhenSubscriber(subscriber,this.notifier,this.source))},RetryWhenOperator}(),RetryWhenSubscriber=function(_super){function RetryWhenSubscriber(destination,notifier,source){_super.call(this,destination),this.notifier=notifier,this.source=source}return __extends(RetryWhenSubscriber,_super),RetryWhenSubscriber.prototype.error=function(err){if(!this.isStopped){var errors=this.errors,retries=this.retries,retriesSubscription=this.retriesSubscription;if(retries)this.errors=null,this.retriesSubscription=null;else{if(errors=new Subject_1.Subject,(retries=tryCatch_1.tryCatch(this.notifier)(errors))===errorObject_1.errorObject)return _super.prototype.error.call(this,errorObject_1.errorObject.e);retriesSubscription=subscribeToResult_1.subscribeToResult(this,retries)}this._unsubscribeAndRecycle(),this.errors=errors,this.retries=retries,this.retriesSubscription=retriesSubscription,errors.next(err)}},RetryWhenSubscriber.prototype._unsubscribe=function(){var errors=this.errors,retriesSubscription=this.retriesSubscription;errors&&(errors.unsubscribe(),this.errors=null),retriesSubscription&&(retriesSubscription.unsubscribe(),this.retriesSubscription=null),this.retries=null},RetryWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var errors=this.errors,retries=this.retries,retriesSubscription=this.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=errors,this.retries=retries,this.retriesSubscription=retriesSubscription,this.source.subscribe(this)},RetryWhenSubscriber}(OuterSubscriber_1.OuterSubscriber)},Dbms:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},subscribeToResult_1=__webpack_require__("7/JB"),OuterSubscriber_1=__webpack_require__("Zyg3");exports.mergeMap=function(project,resultSelector,concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),function(source){return"number"==typeof resultSelector&&(concurrent=resultSelector,resultSelector=null),source.lift(new MergeMapOperator(project,resultSelector,concurrent))}};var MergeMapOperator=function(){function MergeMapOperator(project,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),this.project=project,this.resultSelector=resultSelector,this.concurrent=concurrent}return MergeMapOperator.prototype.call=function(observer,source){return source.subscribe(new MergeMapSubscriber(observer,this.project,this.resultSelector,this.concurrent))},MergeMapOperator}();exports.MergeMapOperator=MergeMapOperator;var MergeMapSubscriber=function(_super){function MergeMapSubscriber(destination,project,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),_super.call(this,destination),this.project=project,this.resultSelector=resultSelector,this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(MergeMapSubscriber,_super),MergeMapSubscriber.prototype._next=function(value){this.active<this.concurrent?this._tryNext(value):this.buffer.push(value)},MergeMapSubscriber.prototype._tryNext=function(value){var result,index=this.index++;try{result=this.project(value,index)}catch(err){return void this.destination.error(err)}this.active++,this._innerSub(result,value,index)},MergeMapSubscriber.prototype._innerSub=function(ish,value,index){this.add(subscribeToResult_1.subscribeToResult(this,ish,value,index))},MergeMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},MergeMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.resultSelector?this._notifyResultSelector(outerValue,innerValue,outerIndex,innerIndex):this.destination.next(innerValue)},MergeMapSubscriber.prototype._notifyResultSelector=function(outerValue,innerValue,outerIndex,innerIndex){var result;try{result=this.resultSelector(outerValue,innerValue,outerIndex,innerIndex)}catch(err){return void this.destination.error(err)}this.destination.next(result)},MergeMapSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeMapSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.MergeMapSubscriber=MergeMapSubscriber},DfPI:function(module,exports,__webpack_require__){"use strict";var mergeMap_1=__webpack_require__("Dbms");exports.concatMap=function(project,resultSelector){return mergeMap_1.mergeMap(project,resultSelector,1)}},DmFl:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),reduce_1=__webpack_require__("TOeH");Observable_1.Observable.prototype.reduce=reduce_1.reduce},E5gT:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6"),AsyncSubject_1=__webpack_require__("ysw+"),BoundCallbackObservable=function(_super){function BoundCallbackObservable(callbackFunc,selector,args,context,scheduler){_super.call(this),this.callbackFunc=callbackFunc,this.selector=selector,this.args=args,this.context=context,this.scheduler=scheduler}return __extends(BoundCallbackObservable,_super),BoundCallbackObservable.create=function(func,selector,scheduler){return void 0===selector&&(selector=undefined),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return new BoundCallbackObservable(func,selector,args,this,scheduler)}},BoundCallbackObservable.prototype._subscribe=function(subscriber){var callbackFunc=this.callbackFunc,args=this.args,scheduler=this.scheduler,subject=this.subject;if(scheduler)return scheduler.schedule(BoundCallbackObservable.dispatch,0,{source:this,subscriber:subscriber,context:this.context});if(!subject){subject=this.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i-0]=arguments[_i];var source=handlerFn.source,selector=source.selector,subject=source.subject;if(selector){var result_1=tryCatch_1.tryCatch(selector).apply(this,innerArgs);result_1===errorObject_1.errorObject?subject.error(errorObject_1.errorObject.e):(subject.next(result_1),subject.complete())}else subject.next(innerArgs.length<=1?innerArgs[0]:innerArgs),subject.complete()};handler.source=this,tryCatch_1.tryCatch(callbackFunc).apply(this.context,args.concat(handler))===errorObject_1.errorObject&&subject.error(errorObject_1.errorObject.e)}return subject.subscribe(subscriber)},BoundCallbackObservable.dispatch=function(state){var self=this,source=state.source,subscriber=state.subscriber,context=state.context,callbackFunc=source.callbackFunc,args=source.args,scheduler=source.scheduler,subject=source.subject;if(!subject){subject=source.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i-0]=arguments[_i];var source=handlerFn.source,selector=source.selector,subject=source.subject;if(selector){var result_2=tryCatch_1.tryCatch(selector).apply(this,innerArgs);result_2===errorObject_1.errorObject?self.add(scheduler.schedule(dispatchError,0,{err:errorObject_1.errorObject.e,subject:subject})):self.add(scheduler.schedule(dispatchNext,0,{value:result_2,subject:subject}))}else{var value=innerArgs.length<=1?innerArgs[0]:innerArgs;self.add(scheduler.schedule(dispatchNext,0,{value:value,subject:subject}))}};handler.source=source,tryCatch_1.tryCatch(callbackFunc).apply(context,args.concat(handler))===errorObject_1.errorObject&&subject.error(errorObject_1.errorObject.e)}self.add(subject.subscribe(subscriber))},BoundCallbackObservable}(Observable_1.Observable);function dispatchNext(arg){var value=arg.value,subject=arg.subject;subject.next(value),subject.complete()}function dispatchError(arg){var err=arg.err;arg.subject.error(err)}exports.BoundCallbackObservable=BoundCallbackObservable},EVv1:function(module,exports,__webpack_require__){"use strict";var toArray_1=__webpack_require__("/Mvt");exports.toArray=function(){return toArray_1.toArray()(this)}},EpZI:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},root_1=__webpack_require__("UbR+"),Observable_1=__webpack_require__("sI33"),iterator_1=__webpack_require__("K96C"),IteratorObservable=function(_super){function IteratorObservable(iterator,scheduler){if(_super.call(this),this.scheduler=scheduler,null==iterator)throw new Error("iterator cannot be null.");this.iterator=function(obj){var i=obj[iterator_1.iterator];if(!i&&"string"==typeof obj)return new StringIterator(obj);if(!i&&obj.length!==undefined)return new ArrayIterator(obj);if(!i)throw new TypeError("object is not iterable");return obj[iterator_1.iterator]()}(iterator)}return __extends(IteratorObservable,_super),IteratorObservable.create=function(iterator,scheduler){return new IteratorObservable(iterator,scheduler)},IteratorObservable.dispatch=function(state){var index=state.index,hasError=state.hasError,iterator=state.iterator,subscriber=state.subscriber;if(hasError)subscriber.error(state.error);else{var result=iterator.next();result.done?subscriber.complete():(subscriber.next(result.value),state.index=index+1,subscriber.closed?"function"==typeof iterator["return"]&&iterator["return"]():this.schedule(state))}},IteratorObservable.prototype._subscribe=function(subscriber){var iterator=this.iterator,scheduler=this.scheduler;if(scheduler)return scheduler.schedule(IteratorObservable.dispatch,0,{index:0,iterator:iterator,subscriber:subscriber});for(;;){var result=iterator.next();if(result.done){subscriber.complete();break}if(subscriber.next(result.value),subscriber.closed){"function"==typeof iterator["return"]&&iterator["return"]();break}}},IteratorObservable}(Observable_1.Observable);exports.IteratorObservable=IteratorObservable;var StringIterator=function(){function StringIterator(str,idx,len){void 0===idx&&(idx=0),void 0===len&&(len=str.length),this.str=str,this.idx=idx,this.len=len}return StringIterator.prototype[iterator_1.iterator]=function(){return this},StringIterator.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:undefined}},StringIterator}(),ArrayIterator=function(){function ArrayIterator(arr,idx,len){void 0===idx&&(idx=0),void 0===len&&(len=function(o){var len=+o.length;if(isNaN(len))return 0;if(0===len||(value=len,"number"!=typeof value||!root_1.root.isFinite(value)))return len;var value;if((len=function(value){var valueAsNumber=+value;if(0===valueAsNumber)return valueAsNumber;if(isNaN(valueAsNumber))return valueAsNumber;return valueAsNumber<0?-1:1}(len)*Math.floor(Math.abs(len)))<=0)return 0;if(len>maxSafeInteger)return maxSafeInteger;return len}(arr)),this.arr=arr,this.idx=idx,this.len=len}return ArrayIterator.prototype[iterator_1.iterator]=function(){return this},ArrayIterator.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:undefined}},ArrayIterator}();var maxSafeInteger=Math.pow(2,53)-1},Ezm4:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),onErrorResumeNext_1=__webpack_require__("QH3e");Observable_1.Observable.prototype.onErrorResumeNext=onErrorResumeNext_1.onErrorResumeNext},F4Jn:function(module,exports,__webpack_require__){"use strict";var map_1=__webpack_require__("MWq+");function plucker(props,length){return function(x){for(var currentProp=x,i=0;i<length;i++){var p=currentProp[props[i]];if(void 0===p)return undefined;currentProp=p}return currentProp}}exports.pluck=function(){for(var properties=[],_i=0;_i<arguments.length;_i++)properties[_i-0]=arguments[_i];var length=properties.length;if(0===length)throw new Error("list of properties cannot be empty.");return function(source){return map_1.map(plucker(properties,length))(source)}}},FAwv:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.count=function(predicate){return function(source){return source.lift(new CountOperator(predicate,source))}};var CountOperator=function(){function CountOperator(predicate,source){this.predicate=predicate,this.source=source}return CountOperator.prototype.call=function(subscriber,source){return source.subscribe(new CountSubscriber(subscriber,this.predicate,this.source))},CountOperator}(),CountSubscriber=function(_super){function CountSubscriber(destination,predicate,source){_super.call(this,destination),this.predicate=predicate,this.source=source,this.count=0,this.index=0}return __extends(CountSubscriber,_super),CountSubscriber.prototype._next=function(value){this.predicate?this._tryPredicate(value):this.count++},CountSubscriber.prototype._tryPredicate=function(value){var result;try{result=this.predicate(value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result&&this.count++},CountSubscriber.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},CountSubscriber}(Subscriber_1.Subscriber)},FMsR:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),ArgumentOutOfRangeError_1=__webpack_require__("y85y"),EmptyObservable_1=__webpack_require__("QUkR");exports.take=function(count){return function(source){return 0===count?new EmptyObservable_1.EmptyObservable:source.lift(new TakeOperator(count))}};var TakeOperator=function(){function TakeOperator(total){if(this.total=total,this.total<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return TakeOperator.prototype.call=function(subscriber,source){return source.subscribe(new TakeSubscriber(subscriber,this.total))},TakeOperator}(),TakeSubscriber=function(_super){function TakeSubscriber(destination,total){_super.call(this,destination),this.total=total,this.count=0}return __extends(TakeSubscriber,_super),TakeSubscriber.prototype._next=function(value){var total=this.total,count=++this.count;count<=total&&(this.destination.next(value),count===total&&(this.destination.complete(),this.unsubscribe()))},TakeSubscriber}(Subscriber_1.Subscriber)},FNPY:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},QueueScheduler=function(_super){function QueueScheduler(){_super.apply(this,arguments)}return __extends(QueueScheduler,_super),QueueScheduler}(__webpack_require__("jC1i").AsyncScheduler);exports.QueueScheduler=QueueScheduler},FPqm:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),defaultIfEmpty_1=__webpack_require__("LpK2");Observable_1.Observable.prototype.defaultIfEmpty=defaultIfEmpty_1.defaultIfEmpty},FYfu:function(module,exports,__webpack_require__){"use strict";var FastMap=function(){function FastMap(){this.values={}}return FastMap.prototype["delete"]=function(key){return this.values[key]=null,!0},FastMap.prototype.set=function(key,value){return this.values[key]=value,this},FastMap.prototype.get=function(key){return this.values[key]},FastMap.prototype.forEach=function(cb,thisArg){var values=this.values;for(var key in values)values.hasOwnProperty(key)&&null!==values[key]&&cb.call(thisArg,values[key],key)},FastMap.prototype.clear=function(){this.values={}},FastMap}();exports.FastMap=FastMap},Fhvl:function(module,exports,__webpack_require__){"use strict";var find_1=__webpack_require__("Nj3c");exports.find=function(predicate,thisArg){return find_1.find(predicate,thisArg)(this)}},FrKq:function(module,exports,__webpack_require__){"use strict";var audit_1=__webpack_require__("XGav");exports.audit=audit_1.audit;var auditTime_1=__webpack_require__("Yb46");exports.auditTime=auditTime_1.auditTime;var buffer_1=__webpack_require__("l+eR");exports.buffer=buffer_1.buffer;var bufferCount_1=__webpack_require__("2sqe");exports.bufferCount=bufferCount_1.bufferCount;var bufferTime_1=__webpack_require__("/j9X");exports.bufferTime=bufferTime_1.bufferTime;var bufferToggle_1=__webpack_require__("r/92");exports.bufferToggle=bufferToggle_1.bufferToggle;var bufferWhen_1=__webpack_require__("lvP7");exports.bufferWhen=bufferWhen_1.bufferWhen;var catchError_1=__webpack_require__("1Iwf");exports.catchError=catchError_1.catchError;var combineAll_1=__webpack_require__("Z4Qc");exports.combineAll=combineAll_1.combineAll;var combineLatest_1=__webpack_require__("3RRF");exports.combineLatest=combineLatest_1.combineLatest;var concat_1=__webpack_require__("oCCF");exports.concat=concat_1.concat;var concatAll_1=__webpack_require__("gg3e");exports.concatAll=concatAll_1.concatAll;var concatMap_1=__webpack_require__("DfPI");exports.concatMap=concatMap_1.concatMap;var concatMapTo_1=__webpack_require__("u5Yc");exports.concatMapTo=concatMapTo_1.concatMapTo;var count_1=__webpack_require__("FAwv");exports.count=count_1.count;var debounce_1=__webpack_require__("3V4h");exports.debounce=debounce_1.debounce;var debounceTime_1=__webpack_require__("2R8W");exports.debounceTime=debounceTime_1.debounceTime;var defaultIfEmpty_1=__webpack_require__("uYQO");exports.defaultIfEmpty=defaultIfEmpty_1.defaultIfEmpty;var delay_1=__webpack_require__("5zbs");exports.delay=delay_1.delay;var delayWhen_1=__webpack_require__("lmxm");exports.delayWhen=delayWhen_1.delayWhen;var dematerialize_1=__webpack_require__("Ch3i");exports.dematerialize=dematerialize_1.dematerialize;var distinct_1=__webpack_require__("yvfv");exports.distinct=distinct_1.distinct;var distinctUntilChanged_1=__webpack_require__("9dF8");exports.distinctUntilChanged=distinctUntilChanged_1.distinctUntilChanged;var distinctUntilKeyChanged_1=__webpack_require__("XNsz");exports.distinctUntilKeyChanged=distinctUntilKeyChanged_1.distinctUntilKeyChanged;var elementAt_1=__webpack_require__("in6I");exports.elementAt=elementAt_1.elementAt;var every_1=__webpack_require__("g8a7");exports.every=every_1.every;var exhaust_1=__webpack_require__("9RDM");exports.exhaust=exhaust_1.exhaust;var exhaustMap_1=__webpack_require__("vaX0");exports.exhaustMap=exhaustMap_1.exhaustMap;var expand_1=__webpack_require__("ox66");exports.expand=expand_1.expand;var filter_1=__webpack_require__("MezQ");exports.filter=filter_1.filter;var finalize_1=__webpack_require__("b43D");exports.finalize=finalize_1.finalize;var find_1=__webpack_require__("Nj3c");exports.find=find_1.find;var findIndex_1=__webpack_require__("rzmO");exports.findIndex=findIndex_1.findIndex;var first_1=__webpack_require__("uwmc");exports.first=first_1.first;var groupBy_1=__webpack_require__("69pS");exports.groupBy=groupBy_1.groupBy;var ignoreElements_1=__webpack_require__("tHYN");exports.ignoreElements=ignoreElements_1.ignoreElements;var isEmpty_1=__webpack_require__("V+UX");exports.isEmpty=isEmpty_1.isEmpty;var last_1=__webpack_require__("xPnl");exports.last=last_1.last;var map_1=__webpack_require__("MWq+");exports.map=map_1.map;var mapTo_1=__webpack_require__("kUUI");exports.mapTo=mapTo_1.mapTo;var materialize_1=__webpack_require__("gwBV");exports.materialize=materialize_1.materialize;var max_1=__webpack_require__("uMKd");exports.max=max_1.max;var merge_1=__webpack_require__("1st3");exports.merge=merge_1.merge;var mergeAll_1=__webpack_require__("hnjD");exports.mergeAll=mergeAll_1.mergeAll;var mergeMap_1=__webpack_require__("Dbms");exports.mergeMap=mergeMap_1.mergeMap;var mergeMap_2=__webpack_require__("Dbms");exports.flatMap=mergeMap_2.mergeMap;var mergeMapTo_1=__webpack_require__("de4H");exports.mergeMapTo=mergeMapTo_1.mergeMapTo;var mergeScan_1=__webpack_require__("DJm4");exports.mergeScan=mergeScan_1.mergeScan;var min_1=__webpack_require__("SCPP");exports.min=min_1.min;var multicast_1=__webpack_require__("G8Kb");exports.multicast=multicast_1.multicast;var observeOn_1=__webpack_require__("XehH");exports.observeOn=observeOn_1.observeOn;var onErrorResumeNext_1=__webpack_require__("RtaT");exports.onErrorResumeNext=onErrorResumeNext_1.onErrorResumeNext;var pairwise_1=__webpack_require__("cgWY");exports.pairwise=pairwise_1.pairwise;var partition_1=__webpack_require__("YYlK");exports.partition=partition_1.partition;var pluck_1=__webpack_require__("F4Jn");exports.pluck=pluck_1.pluck;var publish_1=__webpack_require__("BEOV");exports.publish=publish_1.publish;var publishBehavior_1=__webpack_require__("tUAj");exports.publishBehavior=publishBehavior_1.publishBehavior;var publishLast_1=__webpack_require__("YrCx");exports.publishLast=publishLast_1.publishLast;var publishReplay_1=__webpack_require__("fnom");exports.publishReplay=publishReplay_1.publishReplay;var race_1=__webpack_require__("HET0");exports.race=race_1.race;var reduce_1=__webpack_require__("P3wL");exports.reduce=reduce_1.reduce;var repeat_1=__webpack_require__("g0kP");exports.repeat=repeat_1.repeat;var repeatWhen_1=__webpack_require__("7Vdv");exports.repeatWhen=repeatWhen_1.repeatWhen;var retry_1=__webpack_require__("8xdM");exports.retry=retry_1.retry;var retryWhen_1=__webpack_require__("DOP2");exports.retryWhen=retryWhen_1.retryWhen;var refCount_1=__webpack_require__("Oy1a");exports.refCount=refCount_1.refCount;var sample_1=__webpack_require__("pVu0");exports.sample=sample_1.sample;var sampleTime_1=__webpack_require__("Gxmd");exports.sampleTime=sampleTime_1.sampleTime;var scan_1=__webpack_require__("sCcm");exports.scan=scan_1.scan;var sequenceEqual_1=__webpack_require__("BkuG");exports.sequenceEqual=sequenceEqual_1.sequenceEqual;var share_1=__webpack_require__("LskP");exports.share=share_1.share;var shareReplay_1=__webpack_require__("dDLQ");exports.shareReplay=shareReplay_1.shareReplay;var single_1=__webpack_require__("oTak");exports.single=single_1.single;var skip_1=__webpack_require__("ldoh");exports.skip=skip_1.skip;var skipLast_1=__webpack_require__("Rkz6");exports.skipLast=skipLast_1.skipLast;var skipUntil_1=__webpack_require__("7XK+");exports.skipUntil=skipUntil_1.skipUntil;var skipWhile_1=__webpack_require__("4pXO");exports.skipWhile=skipWhile_1.skipWhile;var startWith_1=__webpack_require__("jWGe");exports.startWith=startWith_1.startWith;var switchAll_1=__webpack_require__("doOu");exports.switchAll=switchAll_1.switchAll;var switchMap_1=__webpack_require__("UGhx");exports.switchMap=switchMap_1.switchMap;var switchMapTo_1=__webpack_require__("cEiL");exports.switchMapTo=switchMapTo_1.switchMapTo;var take_1=__webpack_require__("FMsR");exports.take=take_1.take;var takeLast_1=__webpack_require__("BUkL");exports.takeLast=takeLast_1.takeLast;var takeUntil_1=__webpack_require__("cgsq");exports.takeUntil=takeUntil_1.takeUntil;var takeWhile_1=__webpack_require__("aiDq");exports.takeWhile=takeWhile_1.takeWhile;var tap_1=__webpack_require__("bOWM");exports.tap=tap_1.tap;var throttle_1=__webpack_require__("pktH");exports.throttle=throttle_1.throttle;var throttleTime_1=__webpack_require__("qF2+");exports.throttleTime=throttleTime_1.throttleTime;var timeInterval_1=__webpack_require__("zy0A");exports.timeInterval=timeInterval_1.timeInterval;var timeout_1=__webpack_require__("vI3z");exports.timeout=timeout_1.timeout;var timeoutWith_1=__webpack_require__("owEk");exports.timeoutWith=timeoutWith_1.timeoutWith;var timestamp_1=__webpack_require__("r8CI");exports.timestamp=timestamp_1.timestamp;var toArray_1=__webpack_require__("/Mvt");exports.toArray=toArray_1.toArray;var window_1=__webpack_require__("CQc8");exports.window=window_1.window;var windowCount_1=__webpack_require__("/64D");exports.windowCount=windowCount_1.windowCount;var windowTime_1=__webpack_require__("Oz06");exports.windowTime=windowTime_1.windowTime;var windowToggle_1=__webpack_require__("UOAa");exports.windowToggle=windowToggle_1.windowToggle;var windowWhen_1=__webpack_require__("SVAK");exports.windowWhen=windowWhen_1.windowWhen;var withLatestFrom_1=__webpack_require__("4ZV1");exports.withLatestFrom=withLatestFrom_1.withLatestFrom;var zip_1=__webpack_require__("JmZ0");exports.zip=zip_1.zip;var zipAll_1=__webpack_require__("tiP0");exports.zipAll=zipAll_1.zipAll},FsyH:function(module,exports,__webpack_require__){"use strict";var publish_1=__webpack_require__("BEOV");exports.publish=function(selector){return publish_1.publish(selector)(this)}},FwyC:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),pairwise_1=__webpack_require__("nd1r");Observable_1.Observable.prototype.pairwise=pairwise_1.pairwise},"G/E9":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),throttleTime_1=__webpack_require__("AKzL");Observable_1.Observable.prototype.throttleTime=throttleTime_1.throttleTime},"G8+V":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),takeLast_1=__webpack_require__("4TLk");Observable_1.Observable.prototype.takeLast=takeLast_1.takeLast},G8Kb:function(module,exports,__webpack_require__){"use strict";var ConnectableObservable_1=__webpack_require__("By2a");exports.multicast=function(subjectOrSubjectFactory,selector){return function(source){var subjectFactory;if(subjectFactory="function"==typeof subjectOrSubjectFactory?subjectOrSubjectFactory:function(){return subjectOrSubjectFactory},"function"==typeof selector)return source.lift(new MulticastOperator(subjectFactory,selector));var connectable=Object.create(source,ConnectableObservable_1.connectableObservableDescriptor);return connectable.source=source,connectable.subjectFactory=subjectFactory,connectable}};var MulticastOperator=function(){function MulticastOperator(subjectFactory,selector){this.subjectFactory=subjectFactory,this.selector=selector}return MulticastOperator.prototype.call=function(subscriber,source){var selector=this.selector,subject=this.subjectFactory(),subscription=selector(subject).subscribe(subscriber);return subscription.add(source.subscribe(subject)),subscription},MulticastOperator}();exports.MulticastOperator=MulticastOperator},GLbu:function(module,exports){var base64map,crypt;base64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",crypt={rotl:function(n,b){return n<<b|n>>>32-b},rotr:function(n,b){return n<<32-b|n>>>b},endian:function(n){if(n.constructor==Number)return 16711935&crypt.rotl(n,8)|4278255360&crypt.rotl(n,24);for(var i=0;i<n.length;i++)n[i]=crypt.endian(n[i]);return n},randomBytes:function(n){for(var bytes=[];n>0;n--)bytes.push(Math.floor(256*Math.random()));return bytes},bytesToWords:function(bytes){for(var words=[],i=0,b=0;i<bytes.length;i++,b+=8)words[b>>>5]|=bytes[i]<<24-b%32;return words},wordsToBytes:function(words){for(var bytes=[],b=0;b<32*words.length;b+=8)bytes.push(words[b>>>5]>>>24-b%32&255);return bytes},bytesToHex:function(bytes){for(var hex=[],i=0;i<bytes.length;i++)hex.push((bytes[i]>>>4).toString(16)),hex.push((15&bytes[i]).toString(16));return hex.join("")},hexToBytes:function(hex){for(var bytes=[],c=0;c<hex.length;c+=2)bytes.push(parseInt(hex.substr(c,2),16));return bytes},bytesToBase64:function(bytes){for(var base64=[],i=0;i<bytes.length;i+=3)for(var triplet=bytes[i]<<16|bytes[i+1]<<8|bytes[i+2],j=0;j<4;j++)8*i+6*j<=8*bytes.length?base64.push(base64map.charAt(triplet>>>6*(3-j)&63)):base64.push("=");return base64.join("")},base64ToBytes:function(base64){base64=base64.replace(/[^A-Z0-9+\/]/gi,"");for(var bytes=[],i=0,imod4=0;i<base64.length;imod4=++i%4)0!=imod4&&bytes.push((base64map.indexOf(base64.charAt(i-1))&Math.pow(2,-2*imod4+8)-1)<<2*imod4|base64map.indexOf(base64.charAt(i))>>>6-2*imod4);return bytes}},module.exports=crypt},GpS1:function(module,exports,__webpack_require__){"use strict";var RangeObservable_1=__webpack_require__("6/1A");exports.range=RangeObservable_1.RangeObservable.create},Gxmd:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),async_1=__webpack_require__("gKc2");exports.sampleTime=function(period,scheduler){return void 0===scheduler&&(scheduler=async_1.async),function(source){return source.lift(new SampleTimeOperator(period,scheduler))}};var SampleTimeOperator=function(){function SampleTimeOperator(period,scheduler){this.period=period,this.scheduler=scheduler}return SampleTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new SampleTimeSubscriber(subscriber,this.period,this.scheduler))},SampleTimeOperator}(),SampleTimeSubscriber=function(_super){function SampleTimeSubscriber(destination,period,scheduler){_super.call(this,destination),this.period=period,this.scheduler=scheduler,this.hasValue=!1,this.add(scheduler.schedule(dispatchNotification,period,{subscriber:this,period:period}))}return __extends(SampleTimeSubscriber,_super),SampleTimeSubscriber.prototype._next=function(value){this.lastValue=value,this.hasValue=!0},SampleTimeSubscriber.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},SampleTimeSubscriber}(Subscriber_1.Subscriber);function dispatchNotification(state){var subscriber=state.subscriber,period=state.period;subscriber.notifyNext(),this.schedule(state,period)}},H81V:function(module,exports,__webpack_require__){"use strict";exports.isArrayLike=function(x){return x&&"number"==typeof x.length}},HET0:function(module,exports,__webpack_require__){"use strict";var isArray_1=__webpack_require__("aS1e"),race_1=__webpack_require__("Kh0r");exports.race=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return function(source){return 1===observables.length&&isArray_1.isArray(observables[0])&&(observables=observables[0]),source.lift.call(race_1.race.apply(void 0,[source].concat(observables)))}}},HRkM:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),timer_1=__webpack_require__("BZXN");Observable_1.Observable.timer=timer_1.timer},"I/56":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),multicast_1=__webpack_require__("jOOS");Observable_1.Observable.prototype.multicast=multicast_1.multicast},I5ER:function(module,exports,__webpack_require__){"use strict";var bufferToggle_1=__webpack_require__("r/92");exports.bufferToggle=function(openings,closingSelector){return bufferToggle_1.bufferToggle(openings,closingSelector)(this)}},"I9+c":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},InnerSubscriber=function(_super){function InnerSubscriber(parent,outerValue,outerIndex){_super.call(this),this.parent=parent,this.outerValue=outerValue,this.outerIndex=outerIndex,this.index=0}return __extends(InnerSubscriber,_super),InnerSubscriber.prototype._next=function(value){this.parent.notifyNext(this.outerValue,value,this.outerIndex,this.index++,this)},InnerSubscriber.prototype._error=function(error){this.parent.notifyError(error,this),this.unsubscribe()},InnerSubscriber.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},InnerSubscriber}(__webpack_require__("Ro5u").Subscriber);exports.InnerSubscriber=InnerSubscriber},"ISQ+":function(module,exports,__webpack_require__){"use strict";var WebSocketSubject_1=__webpack_require__("b0vB");exports.webSocket=WebSocketSubject_1.WebSocketSubject.create},IT71:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),delayWhen_1=__webpack_require__("Q8cc");Observable_1.Observable.prototype.delayWhen=delayWhen_1.delayWhen},J2Th:function(module,exports){function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}module.exports=function(obj){return null!=obj&&(isBuffer(obj)||function(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}(obj)||!!obj._isBuffer)}},JT7O:function(module,exports,__webpack_require__){(function(global){var scope=void 0!==global&&global||"undefined"!=typeof self&&self||window,apply=Function.prototype.apply;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout((function(){item._onTimeout&&item._onTimeout()}),msecs))},__webpack_require__("Y0tw"),exports.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(this,__webpack_require__("uKge"))},Jloc:function(module,exports,__webpack_require__){"use strict";var NeverObservable_1=__webpack_require__("4Tri");exports.never=NeverObservable_1.NeverObservable.create},JmZ0:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ArrayObservable_1=__webpack_require__("N+Z9"),isArray_1=__webpack_require__("aS1e"),Subscriber_1=__webpack_require__("Ro5u"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB"),iterator_1=__webpack_require__("K96C");function zipStatic(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];var project=observables[observables.length-1];return"function"==typeof project&&observables.pop(),new ArrayObservable_1.ArrayObservable(observables).lift(new ZipOperator(project))}exports.zip=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return function(source){return source.lift.call(zipStatic.apply(void 0,[source].concat(observables)))}},exports.zipStatic=zipStatic;var ZipOperator=function(){function ZipOperator(project){this.project=project}return ZipOperator.prototype.call=function(subscriber,source){return source.subscribe(new ZipSubscriber(subscriber,this.project))},ZipOperator}();exports.ZipOperator=ZipOperator;var ZipSubscriber=function(_super){function ZipSubscriber(destination,project,values){void 0===values&&(values=Object.create(null)),_super.call(this,destination),this.iterators=[],this.active=0,this.project="function"==typeof project?project:null,this.values=values}return __extends(ZipSubscriber,_super),ZipSubscriber.prototype._next=function(value){var iterators=this.iterators;isArray_1.isArray(value)?iterators.push(new StaticArrayIterator(value)):"function"==typeof value[iterator_1.iterator]?iterators.push(new StaticIterator(value[iterator_1.iterator]())):iterators.push(new ZipBufferIterator(this.destination,this,value))},ZipSubscriber.prototype._complete=function(){var iterators=this.iterators,len=iterators.length;if(0!==len){this.active=len;for(var i=0;i<len;i++){var iterator=iterators[i];iterator.stillUnsubscribed?this.add(iterator.subscribe(iterator,i)):this.active--}}else this.destination.complete()},ZipSubscriber.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},ZipSubscriber.prototype.checkIterators=function(){for(var iterators=this.iterators,len=iterators.length,destination=this.destination,i=0;i<len;i++){if("function"==typeof(iterator=iterators[i]).hasValue&&!iterator.hasValue())return}var shouldComplete=!1,args=[];for(i=0;i<len;i++){var iterator,result=(iterator=iterators[i]).next();if(iterator.hasCompleted()&&(shouldComplete=!0),result.done)return void destination.complete();args.push(result.value)}this.project?this._tryProject(args):destination.next(args),shouldComplete&&destination.complete()},ZipSubscriber.prototype._tryProject=function(args){var result;try{result=this.project.apply(this,args)}catch(err){return void this.destination.error(err)}this.destination.next(result)},ZipSubscriber}(Subscriber_1.Subscriber);exports.ZipSubscriber=ZipSubscriber;var StaticIterator=function(){function StaticIterator(iterator){this.iterator=iterator,this.nextResult=iterator.next()}return StaticIterator.prototype.hasValue=function(){return!0},StaticIterator.prototype.next=function(){var result=this.nextResult;return this.nextResult=this.iterator.next(),result},StaticIterator.prototype.hasCompleted=function(){var nextResult=this.nextResult;return nextResult&&nextResult.done},StaticIterator}(),StaticArrayIterator=function(){function StaticArrayIterator(array){this.array=array,this.index=0,this.length=0,this.length=array.length}return StaticArrayIterator.prototype[iterator_1.iterator]=function(){return this},StaticArrayIterator.prototype.next=function(value){var i=this.index++,array=this.array;return i<this.length?{value:array[i],done:!1}:{value:null,done:!0}},StaticArrayIterator.prototype.hasValue=function(){return this.array.length>this.index},StaticArrayIterator.prototype.hasCompleted=function(){return this.array.length===this.index},StaticArrayIterator}(),ZipBufferIterator=function(_super){function ZipBufferIterator(destination,parent,observable){_super.call(this,destination),this.parent=parent,this.observable=observable,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return __extends(ZipBufferIterator,_super),ZipBufferIterator.prototype[iterator_1.iterator]=function(){return this},ZipBufferIterator.prototype.next=function(){var buffer=this.buffer;return 0===buffer.length&&this.isComplete?{value:null,done:!0}:{value:buffer.shift(),done:!1}},ZipBufferIterator.prototype.hasValue=function(){return this.buffer.length>0},ZipBufferIterator.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},ZipBufferIterator.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},ZipBufferIterator.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.buffer.push(innerValue),this.parent.checkIterators()},ZipBufferIterator.prototype.subscribe=function(value,index){return subscribeToResult_1.subscribeToResult(this,this.observable,this,index)},ZipBufferIterator}(OuterSubscriber_1.OuterSubscriber)},JrAp:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),generate_1=__webpack_require__("7c2v");Observable_1.Observable.generate=generate_1.generate},JvUs:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),tryCatch_1=__webpack_require__("N4mU"),isFunction_1=__webpack_require__("WQRc"),errorObject_1=__webpack_require__("RPO6"),Subscription_1=__webpack_require__("CauQ"),toString=Object.prototype.toString;var FromEventObservable=function(_super){function FromEventObservable(sourceObj,eventName,selector,options){_super.call(this),this.sourceObj=sourceObj,this.eventName=eventName,this.selector=selector,this.options=options}return __extends(FromEventObservable,_super),FromEventObservable.create=function(target,eventName,options,selector){return isFunction_1.isFunction(options)&&(selector=options,options=undefined),new FromEventObservable(target,eventName,selector,options)},FromEventObservable.setupSubscription=function(sourceObj,eventName,handler,subscriber,options){var unsubscribe;if(function(sourceObj){return!!sourceObj&&"[object NodeList]"===toString.call(sourceObj)}(sourceObj)||function(sourceObj){return!!sourceObj&&"[object HTMLCollection]"===toString.call(sourceObj)}(sourceObj))for(var i=0,len=sourceObj.length;i<len;i++)FromEventObservable.setupSubscription(sourceObj[i],eventName,handler,subscriber,options);else if(function(sourceObj){return!!sourceObj&&"function"==typeof sourceObj.addEventListener&&"function"==typeof sourceObj.removeEventListener}(sourceObj)){var source_1=sourceObj;sourceObj.addEventListener(eventName,handler,options),unsubscribe=function(){return source_1.removeEventListener(eventName,handler,options)}}else if(function(sourceObj){return!!sourceObj&&"function"==typeof sourceObj.on&&"function"==typeof sourceObj.off}(sourceObj)){var source_2=sourceObj;sourceObj.on(eventName,handler),unsubscribe=function(){return source_2.off(eventName,handler)}}else{if(!function(sourceObj){return!!sourceObj&&"function"==typeof sourceObj.addListener&&"function"==typeof sourceObj.removeListener}(sourceObj))throw new TypeError("Invalid event target");var source_3=sourceObj;sourceObj.addListener(eventName,handler),unsubscribe=function(){return source_3.removeListener(eventName,handler)}}subscriber.add(new Subscription_1.Subscription(unsubscribe))},FromEventObservable.prototype._subscribe=function(subscriber){var sourceObj=this.sourceObj,eventName=this.eventName,options=this.options,selector=this.selector,handler=selector?function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];var result=tryCatch_1.tryCatch(selector).apply(void 0,args);result===errorObject_1.errorObject?subscriber.error(errorObject_1.errorObject.e):subscriber.next(result)}:function(e){return subscriber.next(e)};FromEventObservable.setupSubscription(sourceObj,eventName,handler,subscriber,options)},FromEventObservable}(Observable_1.Observable);exports.FromEventObservable=FromEventObservable},K15C:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),range_1=__webpack_require__("GpS1");Observable_1.Observable.range=range_1.range},K2G7:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Immediate_1=__webpack_require__("35M+"),AsapAction=function(_super){function AsapAction(scheduler,work){_super.call(this,scheduler,work),this.scheduler=scheduler,this.work=work}return __extends(AsapAction,_super),AsapAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0?_super.prototype.requestAsyncId.call(this,scheduler,id,delay):(scheduler.actions.push(this),scheduler.scheduled||(scheduler.scheduled=Immediate_1.Immediate.setImmediate(scheduler.flush.bind(scheduler,null))))},AsapAction.prototype.recycleAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0||null===delay&&this.delay>0?_super.prototype.recycleAsyncId.call(this,scheduler,id,delay):(0===scheduler.actions.length&&(Immediate_1.Immediate.clearImmediate(id),scheduler.scheduled=undefined),undefined)},AsapAction}(__webpack_require__("LP9p").AsyncAction);exports.AsapAction=AsapAction},K96C:function(module,exports,__webpack_require__){"use strict";var root_1=__webpack_require__("UbR+");function symbolIteratorPonyfill(root){var Symbol=root.Symbol;if("function"==typeof Symbol)return Symbol.iterator||(Symbol.iterator=Symbol("iterator polyfill")),Symbol.iterator;var Set_1=root.Set;if(Set_1&&"function"==typeof(new Set_1)["@@iterator"])return"@@iterator";var Map_1=root.Map;if(Map_1)for(var keys=Object.getOwnPropertyNames(Map_1.prototype),i=0;i<keys.length;++i){var key=keys[i];if("entries"!==key&&"size"!==key&&Map_1.prototype[key]===Map_1.prototype.entries)return key}return"@@iterator"}exports.symbolIteratorPonyfill=symbolIteratorPonyfill,exports.iterator=symbolIteratorPonyfill(root_1.root),exports.$$iterator=exports.iterator},KUq9:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),race_1=__webpack_require__("Kh0r");Observable_1.Observable.race=race_1.race},KW1g:function(module,exports,__webpack_require__){"use strict";var mapTo_1=__webpack_require__("kUUI");exports.mapTo=function(value){return mapTo_1.mapTo(value)(this)}},Kcnz:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),first_1=__webpack_require__("Txlp");Observable_1.Observable.prototype.first=first_1.first},Kh0r:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isArray_1=__webpack_require__("aS1e"),ArrayObservable_1=__webpack_require__("N+Z9"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.race=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];if(1===observables.length){if(!isArray_1.isArray(observables[0]))return observables[0];observables=observables[0]}return new ArrayObservable_1.ArrayObservable(observables).lift(new RaceOperator)};var RaceOperator=function(){function RaceOperator(){}return RaceOperator.prototype.call=function(subscriber,source){return source.subscribe(new RaceSubscriber(subscriber))},RaceOperator}();exports.RaceOperator=RaceOperator;var RaceSubscriber=function(_super){function RaceSubscriber(destination){_super.call(this,destination),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return __extends(RaceSubscriber,_super),RaceSubscriber.prototype._next=function(observable){this.observables.push(observable)},RaceSubscriber.prototype._complete=function(){var observables=this.observables,len=observables.length;if(0===len)this.destination.complete();else{for(var i=0;i<len&&!this.hasFirst;i++){var observable=observables[i],subscription=subscribeToResult_1.subscribeToResult(this,observable,observable,i);this.subscriptions&&this.subscriptions.push(subscription),this.add(subscription)}this.observables=null}},RaceSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==outerIndex){var subscription=this.subscriptions[i];subscription.unsubscribe(),this.remove(subscription)}this.subscriptions=null}this.destination.next(innerValue)},RaceSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.RaceSubscriber=RaceSubscriber},KjC4:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),take_1=__webpack_require__("whlG");Observable_1.Observable.prototype.take=take_1.take},L2Bm:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AnimationFrameScheduler=function(_super){function AnimationFrameScheduler(){_super.apply(this,arguments)}return __extends(AnimationFrameScheduler,_super),AnimationFrameScheduler.prototype.flush=function(action){this.active=!0,this.scheduled=undefined;var error,actions=this.actions,index=-1,count=actions.length;action=action||actions.shift();do{if(error=action.execute(action.state,action.delay))break}while(++index<count&&(action=actions.shift()));if(this.active=!1,error){for(;++index<count&&(action=actions.shift());)action.unsubscribe();throw error}},AnimationFrameScheduler}(__webpack_require__("jC1i").AsyncScheduler);exports.AnimationFrameScheduler=AnimationFrameScheduler},L40Y:function(module,exports,__webpack_require__){__webpack_require__("8Dp3"),module.exports="toaster"},LP9p:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},root_1=__webpack_require__("UbR+"),AsyncAction=function(_super){function AsyncAction(scheduler,work){_super.call(this,scheduler,work),this.scheduler=scheduler,this.pending=!1,this.work=work}return __extends(AsyncAction,_super),AsyncAction.prototype.schedule=function(state,delay){if(void 0===delay&&(delay=0),this.closed)return this;this.state=state,this.pending=!0;var id=this.id,scheduler=this.scheduler;return null!=id&&(this.id=this.recycleAsyncId(scheduler,id,delay)),this.delay=delay,this.id=this.id||this.requestAsyncId(scheduler,this.id,delay),this},AsyncAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),root_1.root.setInterval(scheduler.flush.bind(scheduler,this),delay)},AsyncAction.prototype.recycleAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&this.delay===delay&&!1===this.pending?id:root_1.root.clearInterval(id)&&undefined||undefined},AsyncAction.prototype.execute=function(state,delay){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var error=this._execute(state,delay);if(error)return error;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},AsyncAction.prototype._execute=function(state,delay){var errored=!1,errorValue=undefined;try{this.work(state)}catch(e){errored=!0,errorValue=!!e&&e||new Error(e)}if(errored)return this.unsubscribe(),errorValue},AsyncAction.prototype._unsubscribe=function(){var id=this.id,scheduler=this.scheduler,actions=scheduler.actions,index=actions.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==index&&actions.splice(index,1),null!=id&&(this.id=this.recycleAsyncId(scheduler,id,null)),this.delay=null},AsyncAction}(__webpack_require__("5Yht").Action);exports.AsyncAction=AsyncAction},LWGg:function(module,exports,__webpack_require__){"use strict";exports.isPromise=function(value){return value&&"function"!=typeof value.subscribe&&"function"==typeof value.then}},"La/W":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),startWith_1=__webpack_require__("gQB6");Observable_1.Observable.prototype.startWith=startWith_1.startWith},Lghw:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),takeUntil_1=__webpack_require__("0nRH");Observable_1.Observable.prototype.takeUntil=takeUntil_1.takeUntil},LljR:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ErrorObservable=function(_super){function ErrorObservable(error,scheduler){_super.call(this),this.error=error,this.scheduler=scheduler}return __extends(ErrorObservable,_super),ErrorObservable.create=function(error,scheduler){return new ErrorObservable(error,scheduler)},ErrorObservable.dispatch=function(arg){var error=arg.error;arg.subscriber.error(error)},ErrorObservable.prototype._subscribe=function(subscriber){var error=this.error,scheduler=this.scheduler;if(subscriber.syncErrorThrowable=!0,scheduler)return scheduler.schedule(ErrorObservable.dispatch,0,{error:error,subscriber:subscriber});subscriber.error(error)},ErrorObservable}(__webpack_require__("sI33").Observable);exports.ErrorObservable=ErrorObservable},LpK2:function(module,exports,__webpack_require__){"use strict";var defaultIfEmpty_1=__webpack_require__("uYQO");exports.defaultIfEmpty=function(defaultValue){return void 0===defaultValue&&(defaultValue=null),defaultIfEmpty_1.defaultIfEmpty(defaultValue)(this)}},LskP:function(module,exports,__webpack_require__){"use strict";var multicast_1=__webpack_require__("G8Kb"),refCount_1=__webpack_require__("Oy1a"),Subject_1=__webpack_require__("mwCp");function shareSubjectFactory(){return new Subject_1.Subject}exports.share=function(){return function(source){return refCount_1.refCount()(multicast_1.multicast(shareSubjectFactory)(source))}}},MAlN:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),let_1=__webpack_require__("2u5P");Observable_1.Observable.prototype["let"]=let_1.letProto,Observable_1.Observable.prototype.letBind=let_1.letProto},MJOm:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),buffer_1=__webpack_require__("ShWp");Observable_1.Observable.prototype.buffer=buffer_1.buffer},MNg5:function(module,exports,__webpack_require__){"use strict";var zip_1=__webpack_require__("JmZ0");exports.zip=zip_1.zipStatic},"MWq+":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.map=function(project,thisArg){return function(source){if("function"!=typeof project)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return source.lift(new MapOperator(project,thisArg))}};var MapOperator=function(){function MapOperator(project,thisArg){this.project=project,this.thisArg=thisArg}return MapOperator.prototype.call=function(subscriber,source){return source.subscribe(new MapSubscriber(subscriber,this.project,this.thisArg))},MapOperator}();exports.MapOperator=MapOperator;var MapSubscriber=function(_super){function MapSubscriber(destination,project,thisArg){_super.call(this,destination),this.project=project,this.count=0,this.thisArg=thisArg||this}return __extends(MapSubscriber,_super),MapSubscriber.prototype._next=function(value){var result;try{result=this.project.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}this.destination.next(result)},MapSubscriber}(Subscriber_1.Subscriber)},MaBX:function(module,exports,__webpack_require__){"use strict";var BoundNodeCallbackObservable_1=__webpack_require__("pWL4");exports.bindNodeCallback=BoundNodeCallbackObservable_1.BoundNodeCallbackObservable.create},MafF:function(module,exports,__webpack_require__){"use strict";var subscribeOn_1=__webpack_require__("0re0");exports.subscribeOn=function(scheduler,delay){return void 0===delay&&(delay=0),subscribeOn_1.subscribeOn(scheduler,delay)(this)}},McTT:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),bufferTime_1=__webpack_require__("gi1Y");Observable_1.Observable.prototype.bufferTime=bufferTime_1.bufferTime},MezQ:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.filter=function(predicate,thisArg){return function(source){return source.lift(new FilterOperator(predicate,thisArg))}};var FilterOperator=function(){function FilterOperator(predicate,thisArg){this.predicate=predicate,this.thisArg=thisArg}return FilterOperator.prototype.call=function(subscriber,source){return source.subscribe(new FilterSubscriber(subscriber,this.predicate,this.thisArg))},FilterOperator}(),FilterSubscriber=function(_super){function FilterSubscriber(destination,predicate,thisArg){_super.call(this,destination),this.predicate=predicate,this.thisArg=thisArg,this.count=0}return __extends(FilterSubscriber,_super),FilterSubscriber.prototype._next=function(value){var result;try{result=this.predicate.call(this.thisArg,value,this.count++)}catch(err){return void this.destination.error(err)}result&&this.destination.next(value)},FilterSubscriber}(Subscriber_1.Subscriber)},MiIK:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),timestamp_1=__webpack_require__("WuCd");Observable_1.Observable.prototype.timestamp=timestamp_1.timestamp},MiZ4:function(module,exports,__webpack_require__){"use strict";var throttle_1=__webpack_require__("pktH");exports.throttle=function(durationSelector,config){return void 0===config&&(config=throttle_1.defaultThrottleConfig),throttle_1.throttle(durationSelector,config)(this)}},MvhZ:function(module,exports,__webpack_require__){"use strict";var SubscriptionLog=function(subscribedFrame,unsubscribedFrame){void 0===unsubscribedFrame&&(unsubscribedFrame=Number.POSITIVE_INFINITY),this.subscribedFrame=subscribedFrame,this.unsubscribedFrame=unsubscribedFrame};exports.SubscriptionLog=SubscriptionLog},"N+Z9":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),ScalarObservable_1=__webpack_require__("lLGg"),EmptyObservable_1=__webpack_require__("QUkR"),isScheduler_1=__webpack_require__("VtyV"),ArrayObservable=function(_super){function ArrayObservable(array,scheduler){_super.call(this),this.array=array,this.scheduler=scheduler,scheduler||1!==array.length||(this._isScalar=!0,this.value=array[0])}return __extends(ArrayObservable,_super),ArrayObservable.create=function(array,scheduler){return new ArrayObservable(array,scheduler)},ArrayObservable.of=function(){for(var array=[],_i=0;_i<arguments.length;_i++)array[_i-0]=arguments[_i];var scheduler=array[array.length-1];isScheduler_1.isScheduler(scheduler)?array.pop():scheduler=null;var len=array.length;return len>1?new ArrayObservable(array,scheduler):1===len?new ScalarObservable_1.ScalarObservable(array[0],scheduler):new EmptyObservable_1.EmptyObservable(scheduler)},ArrayObservable.dispatch=function(state){var array=state.array,index=state.index,count=state.count,subscriber=state.subscriber;index>=count?subscriber.complete():(subscriber.next(array[index]),subscriber.closed||(state.index=index+1,this.schedule(state)))},ArrayObservable.prototype._subscribe=function(subscriber){var array=this.array,count=array.length,scheduler=this.scheduler;if(scheduler)return scheduler.schedule(ArrayObservable.dispatch,0,{array:array,index:0,count:count,subscriber:subscriber});for(var i=0;i<count&&!subscriber.closed;i++)subscriber.next(array[i]);subscriber.complete()},ArrayObservable}(Observable_1.Observable);exports.ArrayObservable=ArrayObservable},N2cM:function(module,exports,__webpack_require__){"use strict";var pluck_1=__webpack_require__("F4Jn");exports.pluck=function(){for(var properties=[],_i=0;_i<arguments.length;_i++)properties[_i-0]=arguments[_i];return pluck_1.pluck.apply(void 0,properties)(this)}},N4mU:function(module,exports,__webpack_require__){"use strict";var tryCatchTarget,errorObject_1=__webpack_require__("RPO6");function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(e){return errorObject_1.errorObject.e=e,errorObject_1.errorObject}}exports.tryCatch=function(fn){return tryCatchTarget=fn,tryCatcher}},N5du:function(module,exports,__webpack_require__){"use strict";var async_1=__webpack_require__("gKc2"),delay_1=__webpack_require__("5zbs");exports.delay=function(delay,scheduler){return void 0===scheduler&&(scheduler=async_1.async),delay_1.delay(delay,scheduler)(this)}},N5l7:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),publishReplay_1=__webpack_require__("S/LY");Observable_1.Observable.prototype.publishReplay=publishReplay_1.publishReplay},NIJo:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),takeWhile_1=__webpack_require__("0Pd5");Observable_1.Observable.prototype.takeWhile=takeWhile_1.takeWhile},Niog:function(module,exports,__webpack_require__){"use strict";var skipWhile_1=__webpack_require__("4pXO");exports.skipWhile=function(predicate){return skipWhile_1.skipWhile(predicate)(this)}},Nj3c:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.find=function(predicate,thisArg){if("function"!=typeof predicate)throw new TypeError("predicate is not a function");return function(source){return source.lift(new FindValueOperator(predicate,source,!1,thisArg))}};var FindValueOperator=function(){function FindValueOperator(predicate,source,yieldIndex,thisArg){this.predicate=predicate,this.source=source,this.yieldIndex=yieldIndex,this.thisArg=thisArg}return FindValueOperator.prototype.call=function(observer,source){return source.subscribe(new FindValueSubscriber(observer,this.predicate,this.source,this.yieldIndex,this.thisArg))},FindValueOperator}();exports.FindValueOperator=FindValueOperator;var FindValueSubscriber=function(_super){function FindValueSubscriber(destination,predicate,source,yieldIndex,thisArg){_super.call(this,destination),this.predicate=predicate,this.source=source,this.yieldIndex=yieldIndex,this.thisArg=thisArg,this.index=0}return __extends(FindValueSubscriber,_super),FindValueSubscriber.prototype.notifyComplete=function(value){var destination=this.destination;destination.next(value),destination.complete()},FindValueSubscriber.prototype._next=function(value){var predicate=this.predicate,thisArg=this.thisArg,index=this.index++;try{predicate.call(thisArg||this,value,index,this.source)&&this.notifyComplete(this.yieldIndex?index:value)}catch(err){this.destination.error(err)}},FindValueSubscriber.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:undefined)},FindValueSubscriber}(Subscriber_1.Subscriber);exports.FindValueSubscriber=FindValueSubscriber},NjX3:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),scan_1=__webpack_require__("bRN3");Observable_1.Observable.prototype.scan=scan_1.scan},NkPX:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),filter_1=__webpack_require__("R2hF");Observable_1.Observable.prototype.filter=filter_1.filter},NpG6:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__("mwCp"),queue_1=__webpack_require__("07DG"),Subscription_1=__webpack_require__("CauQ"),observeOn_1=__webpack_require__("XehH"),ObjectUnsubscribedError_1=__webpack_require__("gISr"),SubjectSubscription_1=__webpack_require__("mTkF"),ReplaySubject=function(_super){function ReplaySubject(bufferSize,windowTime,scheduler){void 0===bufferSize&&(bufferSize=Number.POSITIVE_INFINITY),void 0===windowTime&&(windowTime=Number.POSITIVE_INFINITY),_super.call(this),this.scheduler=scheduler,this._events=[],this._bufferSize=bufferSize<1?1:bufferSize,this._windowTime=windowTime<1?1:windowTime}return __extends(ReplaySubject,_super),ReplaySubject.prototype.next=function(value){var now=this._getNow();this._events.push(new ReplayEvent(now,value)),this._trimBufferThenGetEvents(),_super.prototype.next.call(this,value)},ReplaySubject.prototype._subscribe=function(subscriber){var subscription,_events=this._trimBufferThenGetEvents(),scheduler=this.scheduler;if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.hasError||this.isStopped?subscription=Subscription_1.Subscription.EMPTY:(this.observers.push(subscriber),subscription=new SubjectSubscription_1.SubjectSubscription(this,subscriber)),scheduler&&subscriber.add(subscriber=new observeOn_1.ObserveOnSubscriber(subscriber,scheduler));for(var len=_events.length,i=0;i<len&&!subscriber.closed;i++)subscriber.next(_events[i].value);return this.hasError?subscriber.error(this.thrownError):this.isStopped&&subscriber.complete(),subscription},ReplaySubject.prototype._getNow=function(){return(this.scheduler||queue_1.queue).now()},ReplaySubject.prototype._trimBufferThenGetEvents=function(){for(var now=this._getNow(),_bufferSize=this._bufferSize,_windowTime=this._windowTime,_events=this._events,eventsCount=_events.length,spliceCount=0;spliceCount<eventsCount&&!(now-_events[spliceCount].time<_windowTime);)spliceCount++;return eventsCount>_bufferSize&&(spliceCount=Math.max(spliceCount,eventsCount-_bufferSize)),spliceCount>0&&_events.splice(0,spliceCount),_events},ReplaySubject}(Subject_1.Subject);exports.ReplaySubject=ReplaySubject;var ReplayEvent=function(time,value){this.time=time,this.value=value}},Nuuh:function(module,exports,__webpack_require__){"use strict";var withLatestFrom_1=__webpack_require__("4ZV1");exports.withLatestFrom=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return withLatestFrom_1.withLatestFrom.apply(void 0,args)(this)}},OtkM:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),skipUntil_1=__webpack_require__("RDcS");Observable_1.Observable.prototype.skipUntil=skipUntil_1.skipUntil},Ow0M:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),groupBy_1=__webpack_require__("fY0M");Observable_1.Observable.prototype.groupBy=groupBy_1.groupBy},Oy1a:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.refCount=function(){return function(source){return source.lift(new RefCountOperator(source))}};var RefCountOperator=function(){function RefCountOperator(connectable){this.connectable=connectable}return RefCountOperator.prototype.call=function(subscriber,source){var connectable=this.connectable;connectable._refCount++;var refCounter=new RefCountSubscriber(subscriber,connectable),subscription=source.subscribe(refCounter);return refCounter.closed||(refCounter.connection=connectable.connect()),subscription},RefCountOperator}(),RefCountSubscriber=function(_super){function RefCountSubscriber(destination,connectable){_super.call(this,destination),this.connectable=connectable}return __extends(RefCountSubscriber,_super),RefCountSubscriber.prototype._unsubscribe=function(){var connectable=this.connectable;if(connectable){this.connectable=null;var refCount=connectable._refCount;if(refCount<=0)this.connection=null;else if(connectable._refCount=refCount-1,refCount>1)this.connection=null;else{var connection=this.connection,sharedConnection=connectable._connection;this.connection=null,!sharedConnection||connection&&sharedConnection!==connection||sharedConnection.unsubscribe()}}else this.connection=null},RefCountSubscriber}(Subscriber_1.Subscriber)},Oz06:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__("mwCp"),async_1=__webpack_require__("gKc2"),Subscriber_1=__webpack_require__("Ro5u"),isNumeric_1=__webpack_require__("xftq"),isScheduler_1=__webpack_require__("VtyV");exports.windowTime=function(windowTimeSpan){var scheduler=async_1.async,windowCreationInterval=null,maxWindowSize=Number.POSITIVE_INFINITY;return isScheduler_1.isScheduler(arguments[3])&&(scheduler=arguments[3]),isScheduler_1.isScheduler(arguments[2])?scheduler=arguments[2]:isNumeric_1.isNumeric(arguments[2])&&(maxWindowSize=arguments[2]),isScheduler_1.isScheduler(arguments[1])?scheduler=arguments[1]:isNumeric_1.isNumeric(arguments[1])&&(windowCreationInterval=arguments[1]),function(source){return source.lift(new WindowTimeOperator(windowTimeSpan,windowCreationInterval,maxWindowSize,scheduler))}};var WindowTimeOperator=function(){function WindowTimeOperator(windowTimeSpan,windowCreationInterval,maxWindowSize,scheduler){this.windowTimeSpan=windowTimeSpan,this.windowCreationInterval=windowCreationInterval,this.maxWindowSize=maxWindowSize,this.scheduler=scheduler}return WindowTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new WindowTimeSubscriber(subscriber,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},WindowTimeOperator}(),CountedSubject=function(_super){function CountedSubject(){_super.apply(this,arguments),this._numberOfNextedValues=0}return __extends(CountedSubject,_super),CountedSubject.prototype.next=function(value){this._numberOfNextedValues++,_super.prototype.next.call(this,value)},Object.defineProperty(CountedSubject.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),CountedSubject}(Subject_1.Subject),WindowTimeSubscriber=function(_super){function WindowTimeSubscriber(destination,windowTimeSpan,windowCreationInterval,maxWindowSize,scheduler){_super.call(this,destination),this.destination=destination,this.windowTimeSpan=windowTimeSpan,this.windowCreationInterval=windowCreationInterval,this.maxWindowSize=maxWindowSize,this.scheduler=scheduler,this.windows=[];var window=this.openWindow();if(null!==windowCreationInterval&&windowCreationInterval>=0){var closeState={subscriber:this,window:window,context:null},creationState={windowTimeSpan:windowTimeSpan,windowCreationInterval:windowCreationInterval,subscriber:this,scheduler:scheduler};this.add(scheduler.schedule(dispatchWindowClose,windowTimeSpan,closeState)),this.add(scheduler.schedule(dispatchWindowCreation,windowCreationInterval,creationState))}else{var timeSpanOnlyState={subscriber:this,window:window,windowTimeSpan:windowTimeSpan};this.add(scheduler.schedule(dispatchWindowTimeSpanOnly,windowTimeSpan,timeSpanOnlyState))}}return __extends(WindowTimeSubscriber,_super),WindowTimeSubscriber.prototype._next=function(value){for(var windows=this.windows,len=windows.length,i=0;i<len;i++){var window_1=windows[i];window_1.closed||(window_1.next(value),window_1.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(window_1))}},WindowTimeSubscriber.prototype._error=function(err){for(var windows=this.windows;windows.length>0;)windows.shift().error(err);this.destination.error(err)},WindowTimeSubscriber.prototype._complete=function(){for(var windows=this.windows;windows.length>0;){var window_2=windows.shift();window_2.closed||window_2.complete()}this.destination.complete()},WindowTimeSubscriber.prototype.openWindow=function(){var window=new CountedSubject;return this.windows.push(window),this.destination.next(window),window},WindowTimeSubscriber.prototype.closeWindow=function(window){window.complete();var windows=this.windows;windows.splice(windows.indexOf(window),1)},WindowTimeSubscriber}(Subscriber_1.Subscriber);function dispatchWindowTimeSpanOnly(state){var subscriber=state.subscriber,windowTimeSpan=state.windowTimeSpan,window=state.window;window&&subscriber.closeWindow(window),state.window=subscriber.openWindow(),this.schedule(state,windowTimeSpan)}function dispatchWindowCreation(state){var windowTimeSpan=state.windowTimeSpan,subscriber=state.subscriber,scheduler=state.scheduler,windowCreationInterval=state.windowCreationInterval,window=subscriber.openWindow(),context={action:this,subscription:null},timeSpanState={subscriber:subscriber,window:window,context:context};context.subscription=scheduler.schedule(dispatchWindowClose,windowTimeSpan,timeSpanState),this.add(context.subscription),this.schedule(state,windowCreationInterval)}function dispatchWindowClose(state){var subscriber=state.subscriber,window=state.window,context=state.context;context&&context.action&&context.subscription&&context.action.remove(context.subscription),subscriber.closeWindow(window)}},P3wL:function(module,exports,__webpack_require__){"use strict";var scan_1=__webpack_require__("sCcm"),takeLast_1=__webpack_require__("BUkL"),defaultIfEmpty_1=__webpack_require__("uYQO"),pipe_1=__webpack_require__("49sm");exports.reduce=function(accumulator,seed){return arguments.length>=2?function(source){return pipe_1.pipe(scan_1.scan(accumulator,seed),takeLast_1.takeLast(1),defaultIfEmpty_1.defaultIfEmpty(seed))(source)}:function(source){return pipe_1.pipe(scan_1.scan((function(acc,value,index){return accumulator(acc,value,index+1)})),takeLast_1.takeLast(1))(source)}}},PNPS:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),isScheduler_1=__webpack_require__("VtyV"),selfSelector=function(value){return value},GenerateObservable=function(_super){function GenerateObservable(initialState,condition,iterate,resultSelector,scheduler){_super.call(this),this.initialState=initialState,this.condition=condition,this.iterate=iterate,this.resultSelector=resultSelector,this.scheduler=scheduler}return __extends(GenerateObservable,_super),GenerateObservable.create=function(initialStateOrOptions,condition,iterate,resultSelectorOrObservable,scheduler){return 1==arguments.length?new GenerateObservable(initialStateOrOptions.initialState,initialStateOrOptions.condition,initialStateOrOptions.iterate,initialStateOrOptions.resultSelector||selfSelector,initialStateOrOptions.scheduler):resultSelectorOrObservable===undefined||isScheduler_1.isScheduler(resultSelectorOrObservable)?new GenerateObservable(initialStateOrOptions,condition,iterate,selfSelector,resultSelectorOrObservable):new GenerateObservable(initialStateOrOptions,condition,iterate,resultSelectorOrObservable,scheduler)},GenerateObservable.prototype._subscribe=function(subscriber){var state=this.initialState;if(this.scheduler)return this.scheduler.schedule(GenerateObservable.dispatch,0,{subscriber:subscriber,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:state});for(var condition=this.condition,resultSelector=this.resultSelector,iterate=this.iterate;;){if(condition){var conditionResult=void 0;try{conditionResult=condition(state)}catch(err){return void subscriber.error(err)}if(!conditionResult){subscriber.complete();break}}var value=void 0;try{value=resultSelector(state)}catch(err){return void subscriber.error(err)}if(subscriber.next(value),subscriber.closed)break;try{state=iterate(state)}catch(err){return void subscriber.error(err)}}},GenerateObservable.dispatch=function(state){var subscriber=state.subscriber,condition=state.condition;if(!subscriber.closed){if(state.needIterate)try{state.state=state.iterate(state.state)}catch(err){return void subscriber.error(err)}else state.needIterate=!0;if(condition){var conditionResult=void 0;try{conditionResult=condition(state.state)}catch(err){return void subscriber.error(err)}if(!conditionResult)return void subscriber.complete();if(subscriber.closed)return}var value;try{value=state.resultSelector(state.state)}catch(err){return void subscriber.error(err)}if(!subscriber.closed&&(subscriber.next(value),!subscriber.closed))return this.schedule(state)}},GenerateObservable}(Observable_1.Observable);exports.GenerateObservable=GenerateObservable},PR6z:function(module,exports,__webpack_require__){(function(global,setImmediate){module.exports=function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,(function(r){return o(e[i][1][r]||r)}),p,p.exports,r,e,n,t)}return n[i].exports}for(var u=!1,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(_dereq_,module,exports){(function(global){"use strict";var PromisePolyfill=_dereq_("promise-polyfill");module.exports=global.Promise||PromisePolyfill}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":39}],2:[function(_dereq_,module,exports){"use strict";var Promise=_dereq_("./lib/promise"),scriptPromiseCache={};function loadScript(options){var attrs,container,script,scriptLoadPromise,stringifiedOptions=JSON.stringify(options);return!options.forceScriptReload&&(scriptLoadPromise=scriptPromiseCache[stringifiedOptions])||(script=document.createElement("script"),attrs=options.dataAttributes||{},container=options.container||document.head,script.src=options.src,script.id=options.id,script.async=!0,options.crossorigin&&script.setAttribute("crossorigin",options.crossorigin),Object.keys(attrs).forEach((function(key){script.setAttribute("data-"+key,attrs[key])})),scriptLoadPromise=new Promise((function(resolve,reject){script.addEventListener("load",(function(){resolve(script)})),script.addEventListener("error",(function(){reject(new Error(options.src+" failed to load."))})),script.addEventListener("abort",(function(){reject(new Error(options.src+" has aborted."))})),container.appendChild(script)})),scriptPromiseCache[stringifiedOptions]=scriptLoadPromise),scriptLoadPromise}loadScript.clearCache=function(){scriptPromiseCache={}},module.exports=loadScript},{"./lib/promise":1}],3:[function(_dereq_,module,exports){(function(global){"use strict";module.exports=function(ua){return ua=ua||global.navigator.userAgent,/Android/.test(ua)}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(_dereq_,module,exports){(function(global){"use strict";module.exports=function(ua){return ua=ua||global.navigator.userAgent,/CrOS/i.test(ua)}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(_dereq_,module,exports){"use strict";var isEdge=_dereq_("./is-edge"),isSamsung=_dereq_("./is-samsung");module.exports=function(ua){return!(-1===(ua=ua||navigator.userAgent).indexOf("Chrome")&&-1===ua.indexOf("CriOS")||isEdge(ua)||isSamsung(ua))}},{"./is-edge":6,"./is-samsung":18}],6:[function(_dereq_,module,exports){"use strict";module.exports=function(ua){return-1!==(ua=ua||navigator.userAgent).indexOf("Edge/")}},{}],7:[function(_dereq_,module,exports){(function(global){"use strict";module.exports=function(ua){return ua=ua||global.navigator.userAgent,/Firefox/i.test(ua)}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(_dereq_,module,exports){(function(global){"use strict";var isIE11=_dereq_("./is-ie11");module.exports=function(ua){return-1!==(ua=ua||global.navigator.userAgent).indexOf("MSIE")||isIE11(ua)}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ie11":10}],9:[function(_dereq_,module,exports){"use strict";module.exports=function(ua){return-1!==(ua=ua||navigator.userAgent).indexOf("MSIE 10")}},{}],10:[function(_dereq_,module,exports){"use strict";module.exports=function(ua){return-1!==(ua=ua||navigator.userAgent).indexOf("Trident/7")}},{}],11:[function(_dereq_,module,exports){"use strict";module.exports=function(ua){return-1!==(ua=ua||navigator.userAgent).indexOf("MSIE 9")}},{}],12:[function(_dereq_,module,exports){(function(global){"use strict";module.exports=function(ua){return ua=ua||global.navigator.userAgent,/FxiOS/i.test(ua)}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(_dereq_,module,exports){"use strict";var isIos=_dereq_("./is-ios"),webkitRegexp=/webkit/i;module.exports=function(ua){return ua=ua||navigator.userAgent,isIos(ua)&&function(ua){return ua.match(webkitRegexp)}(ua)&&-1===ua.indexOf("CriOS")}},{"./is-ios":16}],14:[function(_dereq_,module,exports){(function(global){"use strict";var isIos=_dereq_("./is-ios");module.exports=function(ua){return ua=ua||global.navigator.userAgent,!!isIos(ua)&&(!!function(ua){return/\bGSA\b/.test(ua)}(ua)||/.+AppleWebKit(?!.*Safari)/.test(ua))}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ios":16}],15:[function(_dereq_,module,exports){(function(global){"use strict";var isIosWebview=_dereq_("./is-ios-webview");module.exports=function(ua,statusBarVisible){return statusBarVisible=void 0!==statusBarVisible?statusBarVisible:global.statusbar.visible,isIosWebview(ua)&&statusBarVisible}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ios-webview":14}],16:[function(_dereq_,module,exports){(function(global){"use strict";module.exports=function(ua){return ua=ua||global.navigator.userAgent,/iPhone|iPod|iPad/i.test(ua)}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(_dereq_,module,exports){(function(global){"use strict";var isIosFirefox=_dereq_("./is-ios-firefox"),isFirefox=_dereq_("./is-firefox");module.exports=function(ua){return ua=ua||global.navigator.userAgent,isIosFirefox(ua)||/iPhone|iPod|iPad|Mobile|Tablet/i.test(ua)&&isFirefox(ua)}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-firefox":7,"./is-ios-firefox":12}],18:[function(_dereq_,module,exports){(function(global){"use strict";module.exports=function(ua){return ua=ua||global.navigator.userAgent,/SamsungBrowser/i.test(ua)}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(_dereq_,module,exports){(function(global){"use strict";var isAndroid=_dereq_("./is-android"),isIosFirefox=_dereq_("./is-ios-firefox"),isIosWebview=_dereq_("./is-ios-webview"),isChrome=_dereq_("./is-chrome"),isSamsungBrowser=_dereq_("./is-samsung");function isOperaMini(ua){return(ua=ua||global.navigator.userAgent).indexOf("Opera Mini")>-1}module.exports=function(ua){return ua=ua||global.navigator.userAgent,!(isIosWebview(ua)||isIosFirefox(ua)||function(ua){return ua=ua||global.navigator.userAgent,!!isAndroid(ua)&&/Version\/[\d\.]+/.test(ua)&&!isOperaMini(ua)}(ua)||isOperaMini(ua)||function(ua){var match;return!!(match=(ua=ua||global.navigator.userAgent).match(/CriOS\/(\d+)\./))&&parseInt(match[1],10)<48}(ua)||function(ua){return!isChrome(ua)&&!isSamsungBrowser(ua)&&/samsung/i.test(ua)}(ua))}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-android":3,"./is-chrome":5,"./is-ios-firefox":12,"./is-ios-webview":14,"./is-samsung":18}],20:[function(_dereq_,module,exports){"use strict";function _classesOf(element){return element.className.trim().split(/\s+/)}function add(element){var toAdd=Array.prototype.slice.call(arguments,1),className=_classesOf(element).filter((function(classname){return-1===toAdd.indexOf(classname)})).concat(toAdd).join(" ");element.className=className}function remove(element){var toRemove=Array.prototype.slice.call(arguments,1),className=_classesOf(element).filter((function(classname){return-1===toRemove.indexOf(classname)})).join(" ");element.className=className}module.exports={add:add,remove:remove,toggle:function(element,classname,adding){adding?add(element,classname):remove(element,classname)}}},{}],21:[function(_dereq_,module,exports){"use strict";function EventEmitter(){this._events={}}EventEmitter.prototype.on=function(event,callback){this._events[event]?this._events[event].push(callback):this._events[event]=[callback]},EventEmitter.prototype.off=function(event,callback){var indexOfCallback,eventCallbacks=this._events[event];eventCallbacks&&(indexOfCallback=eventCallbacks.indexOf(callback),eventCallbacks.splice(indexOfCallback,1))},EventEmitter.prototype._emit=function(event){var args,eventCallbacks=this._events[event];eventCallbacks&&(args=Array.prototype.slice.call(arguments,1),eventCallbacks.forEach((function(callback){callback.apply(null,args)})))},EventEmitter.prototype.hasListener=function(event){var eventCallbacks=this._events[event];return!!eventCallbacks&&eventCallbacks.length>0},EventEmitter.createChild=function(ChildObject){ChildObject.prototype=Object.create(EventEmitter.prototype,{constructor:ChildObject})},module.exports=EventEmitter},{}],22:[function(_dereq_,module,exports){(function(global){"use strict";function ExtendedPromise(options){var self=this;return"function"==typeof options?new ExtendedPromise.Promise(options):(this._promise=new ExtendedPromise.Promise((function(resolve,reject){self._resolveFunction=resolve,self._rejectFunction=reject})),options=options||{},this._onResolve=options.onResolve||ExtendedPromise.defaultOnResolve,this._onReject=options.onReject||ExtendedPromise.defaultOnReject,function(options){return options.hasOwnProperty("suppressUnhandledPromiseMessage")?Boolean(options.suppressUnhandledPromiseMessage):Boolean(ExtendedPromise.suppressUnhandledPromiseMessage)}(options)&&this._promise["catch"]((function(){})),this._resetState(),this._promise.resolve=this.resolve.bind(this),this._promise.reject=this.reject.bind(this),this._promise)}["all","allSettled","race","reject","resolve"].forEach((function(method){ExtendedPromise[method]=function(){var args=Array.prototype.slice.call(arguments);return ExtendedPromise.Promise[method].apply(ExtendedPromise.Promise,args)}})),ExtendedPromise.setPromise=function(PromiseClass){ExtendedPromise.Promise=PromiseClass},ExtendedPromise.setPromise(global.Promise),ExtendedPromise.defaultOnResolve=function(result){return ExtendedPromise.Promise.resolve(result)},ExtendedPromise.defaultOnReject=function(err){return ExtendedPromise.Promise.reject(err)},ExtendedPromise.prototype.resolve=function(arg){var self=this;return this._promise.isFulfilled||(this._setResolved(),ExtendedPromise.Promise.resolve().then((function(){return self._onResolve(arg)})).then(this._resolveFunction)["catch"]((function(err){self._resetState(),self._promise.reject(err)}))),this._promise},ExtendedPromise.prototype.reject=function(arg){var self=this;return this._promise.isFulfilled||(this._setRejected(),ExtendedPromise.Promise.resolve().then((function(){return self._onReject(arg)})).then((function(result){self._setResolved(),self._resolveFunction(result)}))["catch"](this._rejectFunction)),this._promise},ExtendedPromise.prototype._resetState=function(){this._promise.isFulfilled=!1,this._promise.isResolved=!1,this._promise.isRejected=!1},ExtendedPromise.prototype._setResolved=function(){this._promise.isFulfilled=!0,this._promise.isResolved=!0,this._promise.isRejected=!1},ExtendedPromise.prototype._setRejected=function(){this._promise.isFulfilled=!0,this._promise.isResolved=!1,this._promise.isRejected=!0},module.exports=ExtendedPromise}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(_dereq_,module,exports){"use strict";var setAttributes=_dereq_("./lib/set-attributes"),defaultAttributes=_dereq_("./lib/default-attributes"),assign=_dereq_("./lib/assign");module.exports=function(options){var iframe=document.createElement("iframe"),config=assign({},defaultAttributes,options);return config.style&&"string"!=typeof config.style&&(assign(iframe.style,config.style),delete config.style),setAttributes(iframe,config),iframe.getAttribute("id")||(iframe.id=iframe.name),iframe}},{"./lib/assign":24,"./lib/default-attributes":25,"./lib/set-attributes":26}],24:[function(_dereq_,module,exports){"use strict";module.exports=function(target){var objs=Array.prototype.slice.call(arguments,1);return objs.forEach((function(obj){"object"==typeof obj&&Object.keys(obj).forEach((function(key){target[key]=obj[key]}))})),target}},{}],25:[function(_dereq_,module,exports){"use strict";module.exports={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],26:[function(_dereq_,module,exports){"use strict";module.exports=function(element,attributes){var value;for(var key in attributes)attributes.hasOwnProperty(key)&&(null==(value=attributes[key])?element.removeAttribute(key):element.setAttribute(key,value))}},{}],27:[function(_dereq_,module,exports){"use strict";module.exports=function(fn){return function(){var args=arguments;setTimeout((function(){try{fn.apply(null,args)}catch(err){}}),1)}}},{}],28:[function(_dereq_,module,exports){"use strict";module.exports=function(fn){var called=!1;return function(){called||(called=!0,fn.apply(null,arguments))}}},{}],29:[function(_dereq_,module,exports){"use strict";module.exports=function(promise,callback){if(!callback)return promise;promise.then((function(data){callback(null,data)}))["catch"]((function(err){callback(err)}))}},{}],30:[function(_dereq_,module,exports){"use strict";var deferred=_dereq_("./lib/deferred"),once=_dereq_("./lib/once"),promiseOrCallback=_dereq_("./lib/promise-or-callback");function wrapPromise(fn){return function(){var callback,args=Array.prototype.slice.call(arguments),lastArg=args[args.length-1];return"function"==typeof lastArg&&(callback=args.pop(),callback=once(deferred(callback))),promiseOrCallback(fn.apply(this,args),callback)}}wrapPromise.wrapPrototype=function(target,options){var ignoreMethods,includePrivateMethods;return ignoreMethods=(options=options||{}).ignoreMethods||[],includePrivateMethods=!0===options.transformPrivateMethods,Object.getOwnPropertyNames(target.prototype).filter((function(method){var isNotPrivateMethod,isNonConstructorFunction="constructor"!==method&&"function"==typeof target.prototype[method],isNotAnIgnoredMethod=-1===ignoreMethods.indexOf(method);return isNotPrivateMethod=!!includePrivateMethods||"_"!==method.charAt(0),isNonConstructorFunction&&isNotPrivateMethod&&isNotAnIgnoredMethod})).forEach((function(method){var original=target.prototype[method];target.prototype[method]=wrapPromise(original)})),target},module.exports=wrapPromise},{"./lib/deferred":27,"./lib/once":28,"./lib/promise-or-callback":29}],31:[function(_dereq_,module,exports){"use strict";var testOrder,types=_dereq_("./lib/card-types"),clone=_dereq_("./lib/clone"),findBestMatch=_dereq_("./lib/find-best-match"),isValidInputType=_dereq_("./lib/is-valid-input-type"),addMatchingCardsToResults=_dereq_("./lib/add-matching-cards-to-results"),customCards={},cardNames={VISA:"visa",MASTERCARD:"mastercard",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro",ELO:"elo",MIR:"mir",HIPER:"hiper",HIPERCARD:"hipercard"},ORIGINAL_TEST_ORDER=[cardNames.VISA,cardNames.MASTERCARD,cardNames.AMERICAN_EXPRESS,cardNames.DINERS_CLUB,cardNames.DISCOVER,cardNames.JCB,cardNames.UNIONPAY,cardNames.MAESTRO,cardNames.ELO,cardNames.MIR,cardNames.HIPER,cardNames.HIPERCARD];function findType(type){return customCards[type]||types[type]}function getCardPosition(name,ignoreErrorForNotExisting){var position=testOrder.indexOf(name);if(!ignoreErrorForNotExisting&&-1===position)throw new Error('"'+name+'" is not a supported card type.');return position}function creditCardType(cardNumber){var bestMatch,results=[];return isValidInputType(cardNumber)?0===cardNumber.length?testOrder.map((function(type){return clone(findType(type))})):(testOrder.forEach((function(type){var cardConfiguration=findType(type);addMatchingCardsToResults(cardNumber,cardConfiguration,results)})),(bestMatch=findBestMatch(results))?[bestMatch]:results):[]}testOrder=clone(ORIGINAL_TEST_ORDER),creditCardType.getTypeInfo=function(type){return clone(findType(type))},creditCardType.removeCard=function(name){var position=getCardPosition(name);testOrder.splice(position,1)},creditCardType.addCard=function(config){var existingCardPosition=getCardPosition(config.type,!0);customCards[config.type]=config,-1===existingCardPosition&&testOrder.push(config.type)},creditCardType.updateCard=function(cardType,updates){var clonedCard,originalObject=customCards[cardType]||types[cardType];if(!originalObject)throw new Error('"'+cardType+'" is not a recognized type. Use `addCard` instead.');if(updates.type&&originalObject.type!==updates.type)throw new Error("Cannot overwrite type parameter.");clonedCard=clone(originalObject,!0),Object.keys(clonedCard).forEach((function(key){updates[key]&&(clonedCard[key]=updates[key])})),customCards[clonedCard.type]=clonedCard},creditCardType.changeOrder=function(name,position){var currentPosition=getCardPosition(name);testOrder.splice(currentPosition,1),testOrder.splice(position,0,name)},creditCardType.resetModifications=function(){testOrder=clone(ORIGINAL_TEST_ORDER),customCards={}},creditCardType.types=cardNames,module.exports=creditCardType},{"./lib/add-matching-cards-to-results":32,"./lib/card-types":33,"./lib/clone":34,"./lib/find-best-match":35,"./lib/is-valid-input-type":36}],32:[function(_dereq_,module,exports){"use strict";var clone=_dereq_("./clone"),matches=_dereq_("./matches");module.exports=function(cardNumber,cardConfiguration,results){var i,pattern,patternLength,clonedCardConfiguration;for(i=0;i<cardConfiguration.patterns.length;i++)if(pattern=cardConfiguration.patterns[i],matches(cardNumber,pattern)){clonedCardConfiguration=clone(cardConfiguration),patternLength=Array.isArray(pattern)?String(pattern[0]).length:String(pattern).length,cardNumber.length>=patternLength&&(clonedCardConfiguration.matchStrength=patternLength),results.push(clonedCardConfiguration);break}}},{"./clone":34,"./matches":37}],33:[function(_dereq_,module,exports){"use strict";module.exports={visa:{niceType:"Visa",type:"visa",patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},mastercard:{niceType:"Mastercard",type:"mastercard",patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},"american-express":{niceType:"American Express",type:"american-express",patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},"diners-club":{niceType:"Diners Club",type:"diners-club",patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},discover:{niceType:"Discover",type:"discover",patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},jcb:{niceType:"JCB",type:"jcb",patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},unionpay:{niceType:"UnionPay",type:"unionpay",patterns:[620,[624,626],[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[622019,622999],[62207,62209],[622126,622925],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292,810,[8110,8131],[8132,8151],[8152,8163],[8164,8171]],gaps:[4,8,12],lengths:[14,15,16,17,18,19],code:{name:"CVN",size:3}},maestro:{niceType:"Maestro",type:"maestro",patterns:[493698,[5e5,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},elo:{niceType:"Elo",type:"elo",patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},mir:{niceType:"Mir",type:"mir",patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},hiper:{niceType:"Hiper",type:"hiper",patterns:[637095,637568,637599,637609,637612],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},hipercard:{niceType:"Hipercard",type:"hipercard",patterns:[606282],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}}}},{}],34:[function(_dereq_,module,exports){"use strict";module.exports=function(originalObject){return originalObject?JSON.parse(JSON.stringify(originalObject)):null}},{}],35:[function(_dereq_,module,exports){"use strict";module.exports=function(results){if(function(results){var numberOfResultsWithMaxStrengthProperty=results.filter((function(result){return result.matchStrength})).length;return numberOfResultsWithMaxStrengthProperty>0&&numberOfResultsWithMaxStrengthProperty===results.length}(results))return results.reduce((function(bestMatch,result){return bestMatch?bestMatch.matchStrength<result.matchStrength?result:bestMatch:result}))}},{}],36:[function(_dereq_,module,exports){"use strict";module.exports=function(cardNumber){return"string"==typeof cardNumber||cardNumber instanceof String}},{}],37:[function(_dereq_,module,exports){"use strict";module.exports=function(cardNumber,pattern){return Array.isArray(pattern)?function(cardNumber,min,max){var maxLengthToCheck=String(min).length,substr=cardNumber.substr(0,maxLengthToCheck),integerRepresentationOfCardNumber=parseInt(substr,10);return min=parseInt(String(min).substr(0,substr.length),10),max=parseInt(String(max).substr(0,substr.length),10),integerRepresentationOfCardNumber>=min&&integerRepresentationOfCardNumber<=max}(cardNumber,pattern[0],pattern[1]):function(cardNumber,pattern){return(pattern=String(pattern)).substring(0,cardNumber.length)===cardNumber.substring(0,pattern.length)}(cardNumber,pattern)}},{}],38:[function(_dereq_,module,exports){(function(global){"use strict";var win,framebus,popups=[],subscribers={},prefix="/*framebus*/";function publish(event){var payload,origin=_getOrigin(this);return!_isntString(event)&&!_isntString(origin)&&!1!==(payload=_packagePayload(event,Array.prototype.slice.call(arguments,1),origin))&&(_broadcast(win.top||win.self,payload,origin),!0)}function subscribe(event,fn){var origin=_getOrigin(this);return!_subscriptionArgsInvalid(event,fn,origin)&&(subscribers[origin]=subscribers[origin]||{},subscribers[origin][event]=subscribers[origin][event]||[],subscribers[origin][event].push(fn),!0)}function unsubscribe(event,fn){var i,subscriberList,origin=_getOrigin(this);if(_subscriptionArgsInvalid(event,fn,origin))return!1;if(!(subscriberList=subscribers[origin]&&subscribers[origin][event]))return!1;for(i=0;i<subscriberList.length;i++)if(subscriberList[i]===fn)return subscriberList.splice(i,1),!0;return!1}function _getOrigin(scope){return scope&&scope._origin||"*"}function _isntString(string){return"string"!=typeof string}function _packagePayload(event,args,origin){var packaged=!1,payload={event:event,origin:origin},reply=args[args.length-1];"function"==typeof reply&&(payload.reply=_subscribeReplier(reply,origin),args=args.slice(0,-1)),payload.args=args;try{packaged=prefix+JSON.stringify(payload)}catch(e){throw new Error("Could not stringify event: "+e.message)}return packaged}function _unpackPayload(e){var payload,replyOrigin,replySource,replyEvent;if(e.data.slice(0,prefix.length)!==prefix)return!1;try{payload=JSON.parse(e.data.slice(prefix.length))}catch(err){return!1}return null!=payload.reply&&(replyOrigin=e.origin,replySource=e.source,replyEvent=payload.reply,payload.reply=function(data){var replyPayload;return!!replySource&&!1!==(replyPayload=_packagePayload(replyEvent,[data],replyOrigin))&&void replySource.postMessage(replyPayload,replyOrigin)},payload.args.push(payload.reply)),payload}function _attach(w){win||((win=w||global).addEventListener?win.addEventListener("message",_onmessage,!1):win.attachEvent?win.attachEvent("onmessage",_onmessage):null===win.onmessage?win.onmessage=_onmessage:win=null)}function _uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}))}function _onmessage(e){var payload;_isntString(e.data)||(payload=_unpackPayload(e))&&(_dispatch("*",payload.event,payload.args,e),_dispatch(e.origin,payload.event,payload.args,e),function(payload,origin,source){var i,popup;for(i=popups.length-1;i>=0;i--)!0===(popup=popups[i]).closed?popups=popups.slice(i,1):source!==popup&&_broadcast(popup.top,payload,origin)}(e.data,payload.origin,e.source))}function _dispatch(origin,event,args,e){var i;if(subscribers[origin]&&subscribers[origin][event])for(i=0;i<subscribers[origin][event].length;i++)subscribers[origin][event][i].apply(e,args)}function _broadcast(frame,payload,origin){var frameToBroadcastTo,i=0;try{for(frame.postMessage(payload,origin),function(frame){return frame.top===frame&&null!=frame.opener&&frame.opener!==frame&&!0!==frame.opener.closed}(frame)&&_broadcast(frame.opener.top,payload,origin);frameToBroadcastTo=frame.frames[i];)_broadcast(frameToBroadcastTo,payload,origin),i++}catch(_){}}function _subscribeReplier(fn,origin){var uuid=_uuid();return framebus.target(origin).subscribe(uuid,(function replier(d,o){fn(d,o),framebus.target(origin).unsubscribe(uuid,replier)})),uuid}function _subscriptionArgsInvalid(event,fn,origin){return!!_isntString(event)||"function"!=typeof fn||!!_isntString(origin)}_attach(),framebus={target:function(origin){var key,targetedFramebus={};for(key in framebus)framebus.hasOwnProperty(key)&&(targetedFramebus[key]=framebus[key]);return targetedFramebus._origin=origin||"*",targetedFramebus},_packagePayload:_packagePayload,_unpackPayload:_unpackPayload,_attach:_attach,_detach:function(){null!=win&&(win.removeEventListener?win.removeEventListener("message",_onmessage,!1):win.detachEvent?win.detachEvent("onmessage",_onmessage):win.onmessage===_onmessage&&(win.onmessage=null),win=null,popups=[],subscribers={})},_dispatch:_dispatch,_broadcast:_broadcast,_subscribeReplier:_subscribeReplier,_subscriptionArgsInvalid:_subscriptionArgsInvalid,_onmessage:_onmessage,_uuid:_uuid,_getSubscribers:function(){return subscribers},_win:function(){return win},include:function(popup){return null!=popup&&null!=popup.Window&&popup.constructor===popup.Window&&(popups.push(popup),!0)},publish:publish,pub:publish,trigger:publish,emit:publish,subscribe:subscribe,sub:subscribe,on:subscribe,unsubscribe:unsubscribe,unsub:unsubscribe,off:unsubscribe},module.exports=framebus}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(_dereq_,module,exports){"use strict";var setTimeoutFunc=setTimeout;function isArray(x){return Boolean(x&&"undefined"!=typeof x.length)}function noop(){}function Promise(fn){if(!(this instanceof Promise))throw new TypeError("Promises must be constructed via new");if("function"!=typeof fn)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],doResolve(fn,this)}function handle(self,deferred){for(;3===self._state;)self=self._value;0!==self._state?(self._handled=!0,Promise._immediateFn((function(){var cb=1===self._state?deferred.onFulfilled:deferred.onRejected;if(null!==cb){var ret;try{ret=cb(self._value)}catch(e){return void reject(deferred.promise,e)}resolve(deferred.promise,ret)}else(1===self._state?resolve:reject)(deferred.promise,self._value)}))):self._deferreds.push(deferred)}function resolve(self,newValue){try{if(newValue===self)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&("object"==typeof newValue||"function"==typeof newValue)){var then=newValue.then;if(newValue instanceof Promise)return self._state=3,self._value=newValue,void finale(self);if("function"==typeof then)return void doResolve((fn=then,thisArg=newValue,function(){fn.apply(thisArg,arguments)}),self)}self._state=1,self._value=newValue,finale(self)}catch(e){reject(self,e)}var fn,thisArg}function reject(self,newValue){self._state=2,self._value=newValue,finale(self)}function finale(self){2===self._state&&0===self._deferreds.length&&Promise._immediateFn((function(){self._handled||Promise._unhandledRejectionFn(self._value)}));for(var i=0,len=self._deferreds.length;i<len;i++)handle(self,self._deferreds[i]);self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled="function"==typeof onFulfilled?onFulfilled:null,this.onRejected="function"==typeof onRejected?onRejected:null,this.promise=promise}function doResolve(fn,self){var done=!1;try{fn((function(value){done||(done=!0,resolve(self,value))}),(function(reason){done||(done=!0,reject(self,reason))}))}catch(ex){if(done)return;done=!0,reject(self,ex)}}Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);return handle(this,new Handler(onFulfilled,onRejected,prom)),prom},Promise.prototype["finally"]=function(callback){var constructor=this.constructor;return this.then((function(value){return constructor.resolve(callback()).then((function(){return value}))}),(function(reason){return constructor.resolve(callback()).then((function(){return constructor.reject(reason)}))}))},Promise.all=function(arr){return new Promise((function(resolve,reject){if(!isArray(arr))return reject(new TypeError("Promise.all accepts an array"));var args=Array.prototype.slice.call(arr);if(0===args.length)return resolve([]);var remaining=args.length;function res(i,val){try{if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,(function(val){res(i,val)}),reject)}args[i]=val,0==--remaining&&resolve(args)}catch(ex){reject(ex)}}for(var i=0;i<args.length;i++)res(i,args[i])}))},Promise.resolve=function(value){return value&&"object"==typeof value&&value.constructor===Promise?value:new Promise((function(resolve){resolve(value)}))},Promise.reject=function(value){return new Promise((function(resolve,reject){reject(value)}))},Promise.race=function(arr){return new Promise((function(resolve,reject){if(!isArray(arr))return reject(new TypeError("Promise.race accepts an array"));for(var i=0,len=arr.length;i<len;i++)Promise.resolve(arr[i]).then(resolve,reject)}))},Promise._immediateFn="function"==typeof setImmediate&&function(fn){setImmediate(fn)}||function(fn){setTimeoutFunc(fn,0)},Promise._unhandledRejectionFn=function(err){"undefined"!=typeof console&&console},module.exports=Promise},{}],40:[function(_dereq_,module,exports){(function(global){"use strict";var UA=global.navigator&&global.navigator.userAgent,isAndroid=_dereq_("@braintree/browser-detection/is-android"),isChromeOs=_dereq_("@braintree/browser-detection/is-chrome-os"),isChrome=_dereq_("@braintree/browser-detection/is-chrome"),isIos=_dereq_("@braintree/browser-detection/is-ios"),isIE9=_dereq_("@braintree/browser-detection/is-ie9"),KITKAT_WEBVIEW_REGEX=/Version\/\d\.\d* Chrome\/\d*\.0\.0\.0/;module.exports={isIE9:isIE9,isAndroidChrome:function(uaArg){var ua=uaArg||UA;return(isAndroid(ua)||isChromeOs(ua))&&isChrome(ua)},isIos:isIos,isKitKatWebview:function(uaArg){var ua=uaArg||UA;return isAndroid(ua)&&KITKAT_WEBVIEW_REGEX.test(ua)},isSamsungBrowser:function(ua){return/SamsungBrowser/.test(ua=ua||UA)||function(ua){return!isChrome(ua)&&ua.indexOf("Samsung")>-1}(ua)}}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@braintree/browser-detection/is-android":3,"@braintree/browser-detection/is-chrome":5,"@braintree/browser-detection/is-chrome-os":4,"@braintree/browser-detection/is-ie9":11,"@braintree/browser-detection/is-ios":16}],41:[function(_dereq_,module,exports){"use strict";var device=_dereq_("./lib/device");module.exports=function(){return!device.isSamsungBrowser()}},{"./lib/device":40}],42:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error"),errors=_dereq_("./errors"),assign=_dereq_("../lib/assign").assign,Promise=_dereq_("../lib/promise"),methods=_dereq_("../lib/methods"),convertMethodsToError=_dereq_("../lib/convert-methods-to-error"),wrapPromise=_dereq_("@braintree/wrap-promise");function AmericanExpress(options){this._client=options.client}AmericanExpress.prototype.getRewardsBalance=function(options){var data,nonce=options.nonce;return nonce?(delete(data=assign({_meta:{source:"american-express"},paymentMethodNonce:nonce},options)).nonce,this._client.request({method:"get",endpoint:"payment_methods/amex_rewards_balance",data:data})["catch"]((function(err){return Promise.reject(new BraintreeError({type:errors.AMEX_NETWORK_ERROR.type,code:errors.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express rewards balance.",details:{originalError:err}}))}))):Promise.reject(new BraintreeError({type:errors.AMEX_NONCE_REQUIRED.type,code:errors.AMEX_NONCE_REQUIRED.code,message:"getRewardsBalance must be called with a nonce."}))},AmericanExpress.prototype.getExpressCheckoutProfile=function(options){return options.nonce?this._client.request({method:"get",endpoint:"payment_methods/amex_express_checkout_cards/"+options.nonce,data:{_meta:{source:"american-express"},paymentMethodNonce:options.nonce}})["catch"]((function(err){return Promise.reject(new BraintreeError({type:errors.AMEX_NETWORK_ERROR.type,code:errors.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express Checkout nonce profile.",details:{originalError:err}}))})):Promise.reject(new BraintreeError({type:errors.AMEX_NONCE_REQUIRED.type,code:errors.AMEX_NONCE_REQUIRED.code,message:"getExpressCheckoutProfile must be called with a nonce."}))},AmericanExpress.prototype.teardown=function(){return convertMethodsToError(this,methods(AmericanExpress.prototype)),Promise.resolve()},module.exports=wrapPromise.wrapPrototype(AmericanExpress)},{"../lib/assign":95,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/methods":130,"../lib/promise":132,"./errors":43,"@braintree/wrap-promise":30}],43:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error");module.exports={AMEX_NONCE_REQUIRED:{type:BraintreeError.types.MERCHANT,code:"AMEX_NONCE_REQUIRED"},AMEX_NETWORK_ERROR:{type:BraintreeError.types.NETWORK,code:"AMEX_NETWORK_ERROR"}}},{"../lib/braintree-error":98}],44:[function(_dereq_,module,exports){"use strict";var AmericanExpress=_dereq_("./american-express"),basicComponentVerification=_dereq_("../lib/basic-component-verification"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),wrapPromise=_dereq_("@braintree/wrap-promise");module.exports={create:wrapPromise((function(options){var name="American Express";return basicComponentVerification.verify({name:name,client:options.client,authorization:options.authorization}).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:name})})).then((function(client){return options.client=client,new AmericanExpress(options)}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"./american-express":42,"@braintree/wrap-promise":30}],45:[function(_dereq_,module,exports){(function(global){"use strict";var BraintreeError=_dereq_("../lib/braintree-error"),analytics=_dereq_("../lib/analytics"),errors=_dereq_("./errors"),Promise=_dereq_("../lib/promise"),methods=_dereq_("../lib/methods"),convertMethodsToError=_dereq_("../lib/convert-methods-to-error"),wrapPromise=_dereq_("@braintree/wrap-promise");function ApplePay(options){this._client=options.client,Object.defineProperty(this,"merchantIdentifier",{value:this._client.getConfiguration().gatewayConfiguration.applePayWeb.merchantIdentifier,configurable:!1,writable:!1})}ApplePay.prototype.createPaymentRequest=function(paymentRequest){var applePay=this._client.getConfiguration().gatewayConfiguration.applePayWeb,defaults={countryCode:applePay.countryCode,currencyCode:applePay.currencyCode,merchantCapabilities:applePay.merchantCapabilities||["supports3DS"],supportedNetworks:applePay.supportedNetworks.map((function(network){return"mastercard"===network?"masterCard":network}))};return Object.assign({},defaults,paymentRequest)},ApplePay.prototype.performValidation=function(options){var applePayWebSession,self=this;return options&&options.validationURL?(applePayWebSession={validationUrl:options.validationURL,domainName:options.domainName||global.location.hostname,merchantIdentifier:options.merchantIdentifier||this.merchantIdentifier},null!=options.displayName&&(applePayWebSession.displayName=options.displayName),this._client.request({method:"post",endpoint:"apple_pay_web/sessions",data:{_meta:{source:"apple-pay"},applePayWebSession:applePayWebSession}}).then((function(response){return analytics.sendEvent(self._client,"applepay.performValidation.succeeded"),Promise.resolve(response)}))["catch"]((function(err){return analytics.sendEvent(self._client,"applepay.performValidation.failed"),"CLIENT_REQUEST_ERROR"===err.code?Promise.reject(new BraintreeError({type:errors.APPLE_PAY_MERCHANT_VALIDATION_FAILED.type,code:errors.APPLE_PAY_MERCHANT_VALIDATION_FAILED.code,message:errors.APPLE_PAY_MERCHANT_VALIDATION_FAILED.message,details:{originalError:err.details.originalError}})):Promise.reject(new BraintreeError({type:errors.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.type,code:errors.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.code,message:errors.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.message,details:{originalError:err}}))}))):Promise.reject(new BraintreeError(errors.APPLE_PAY_VALIDATION_URL_REQUIRED))},ApplePay.prototype.tokenize=function(options){var self=this;return options.token?this._client.request({method:"post",endpoint:"payment_methods/apple_payment_tokens",data:{_meta:{source:"apple-pay"},applePaymentToken:Object.assign({},options.token,{paymentData:btoa(JSON.stringify(options.token.paymentData))})}}).then((function(response){return analytics.sendEvent(self._client,"applepay.tokenize.succeeded"),Promise.resolve(response.applePayCards[0])}))["catch"]((function(err){return analytics.sendEvent(self._client,"applepay.tokenize.failed"),Promise.reject(new BraintreeError({type:errors.APPLE_PAY_TOKENIZATION.type,code:errors.APPLE_PAY_TOKENIZATION.code,message:errors.APPLE_PAY_TOKENIZATION.message,details:{originalError:err}}))})):Promise.reject(new BraintreeError(errors.APPLE_PAY_PAYMENT_TOKEN_REQUIRED))},ApplePay.prototype.teardown=function(){return convertMethodsToError(this,methods(ApplePay.prototype)),Promise.resolve()},module.exports=wrapPromise.wrapPrototype(ApplePay)}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/analytics":93,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/methods":130,"../lib/promise":132,"./errors":46,"@braintree/wrap-promise":30}],46:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error");module.exports={APPLE_PAY_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"APPLE_PAY_NOT_ENABLED",message:"Apple Pay is not enabled for this merchant."},APPLE_PAY_VALIDATION_URL_REQUIRED:{type:BraintreeError.types.MERCHANT,code:"APPLE_PAY_VALIDATION_URL_REQUIRED",message:"performValidation must be called with a validationURL."},APPLE_PAY_MERCHANT_VALIDATION_NETWORK:{type:BraintreeError.types.NETWORK,code:"APPLE_PAY_MERCHANT_VALIDATION_NETWORK",message:"A network error occurred when validating the Apple Pay merchant."},APPLE_PAY_MERCHANT_VALIDATION_FAILED:{type:BraintreeError.types.MERCHANT,code:"APPLE_PAY_MERCHANT_VALIDATION_FAILED",message:"Make sure you have registered your domain name in the Braintree Control Panel."},APPLE_PAY_PAYMENT_TOKEN_REQUIRED:{type:BraintreeError.types.MERCHANT,code:"APPLE_PAY_PAYMENT_TOKEN_REQUIRED",message:"tokenize must be called with a payment token."},APPLE_PAY_TOKENIZATION:{type:BraintreeError.types.NETWORK,code:"APPLE_PAY_TOKENIZATION",message:"A network error occurred when processing the Apple Pay payment."}}},{"../lib/braintree-error":98}],47:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error"),ApplePay=_dereq_("./apple-pay"),analytics=_dereq_("../lib/analytics"),basicComponentVerification=_dereq_("../lib/basic-component-verification"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),errors=_dereq_("./errors"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise");module.exports={create:wrapPromise((function(options){return basicComponentVerification.verify({name:"Apple Pay",client:options.client,authorization:options.authorization}).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:"Apple Pay"})})).then((function(client){return options.client=client,options.client.getConfiguration().gatewayConfiguration.applePayWeb?(analytics.sendEvent(options.client,"applepay.initialized"),new ApplePay(options)):Promise.reject(new BraintreeError(errors.APPLE_PAY_NOT_ENABLED))}))})),VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./apple-pay":45,"./errors":46,"@braintree/wrap-promise":30}],48:[function(_dereq_,module,exports){"use strict";var isIe=_dereq_("@braintree/browser-detection/is-ie"),isIe9=_dereq_("@braintree/browser-detection/is-ie9");module.exports={isIe:isIe,isIe9:isIe9}},{"@braintree/browser-detection/is-ie":8,"@braintree/browser-detection/is-ie9":11}],49:[function(_dereq_,module,exports){"use strict";var BRAINTREE_VERSION=_dereq_("./constants").BRAINTREE_VERSION,GraphQL=_dereq_("./request/graphql"),request=_dereq_("./request"),isVerifiedDomain=_dereq_("../lib/is-verified-domain"),BraintreeError=_dereq_("../lib/braintree-error"),convertToBraintreeError=_dereq_("../lib/convert-to-braintree-error"),getGatewayConfiguration=_dereq_("./get-configuration").getConfiguration,createAuthorizationData=_dereq_("../lib/create-authorization-data"),addMetadata=_dereq_("../lib/add-metadata"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise"),once=_dereq_("../lib/once"),deferred=_dereq_("../lib/deferred"),assign=_dereq_("../lib/assign").assign,analytics=_dereq_("../lib/analytics"),errors=_dereq_("./errors"),VERSION=_dereq_("../lib/constants").VERSION,GRAPHQL_URLS=_dereq_("../lib/constants").GRAPHQL_URLS,methods=_dereq_("../lib/methods"),convertMethodsToError=_dereq_("../lib/convert-methods-to-error"),assets=_dereq_("../lib/assets"),FRAUDNET_FNCLS=_dereq_("../lib/constants").FRAUDNET_FNCLS,FRAUDNET_SOURCE=_dereq_("../lib/constants").FRAUDNET_SOURCE,FRAUDNET_URL=_dereq_("../lib/constants").FRAUDNET_URL,cachedClients={};function Client(configuration){var configurationJSON,gatewayConfiguration;if(configuration=configuration||{},configurationJSON=JSON.stringify(configuration),!(gatewayConfiguration=configuration.gatewayConfiguration))throw new BraintreeError(errors.CLIENT_MISSING_GATEWAY_CONFIGURATION);["assetsUrl","clientApiUrl","configUrl"].forEach((function(property){if(property in gatewayConfiguration&&!isVerifiedDomain(gatewayConfiguration[property]))throw new BraintreeError({type:errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:errors.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:property+" property is on an invalid domain."})})),this.getConfiguration=function(){return JSON.parse(configurationJSON)},this._request=request,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=gatewayConfiguration.clientApiUrl+"/v1/",gatewayConfiguration.graphQL&&(this._graphQL=new GraphQL({graphQL:gatewayConfiguration.graphQL}))}Client.initialize=function(options){var clientInstance,authData,promise=cachedClients[options.authorization];if(promise)return analytics.sendEvent(promise,"custom.client.load.cached"),promise;try{authData=createAuthorizationData(options.authorization)}catch(err){return Promise.reject(new BraintreeError(errors.CLIENT_INVALID_AUTHORIZATION))}return promise=getGatewayConfiguration(authData).then((function(configuration){return options.debug&&(configuration.isDebug=!0),configuration.authorization=options.authorization,clientInstance=new Client(configuration)})),cachedClients[options.authorization]=promise,analytics.sendEvent(promise,"custom.client.load.initialized"),promise.then((function(client){return analytics.sendEvent(clientInstance,"custom.client.load.succeeded"),client}))["catch"]((function(err){return delete cachedClients[options.authorization],Promise.reject(err)}))},Client.clearCache=function(){cachedClients={}},Client.prototype._findOrCreateFraudnetJSON=function(clientMetadataId){var config,additionalData,authorizationFingerprint,parameters,el=document.querySelector('script[fncls="'+FRAUDNET_FNCLS+'"]');el||((el=document.body.appendChild(document.createElement("script"))).type="application/json",el.setAttribute("fncls",FRAUDNET_FNCLS)),config=this.getConfiguration(),additionalData={rda_tenant:"bt_card",mid:config.gatewayConfiguration.merchantId},(authorizationFingerprint=config.authorizationFingerprint)&&authorizationFingerprint.split("&").forEach((function(pieces){var component=pieces.split("=");"customer_id"===component[0]&&component.length>1&&(additionalData.cid=component[1])})),parameters={f:clientMetadataId.substr(0,32),fp:additionalData,bu:!1,s:FRAUDNET_SOURCE},el.text=JSON.stringify(parameters)},Client.prototype.request=function(options,callback){var self=this,requestPromise=new Promise((function(resolve,reject){var optionName,api,baseUrl,requestOptions,configuration,shouldCollectData=Boolean("payment_methods/credit_cards"===options.endpoint&&self.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if("graphQLApi"!==options.api&&(options.method?options.endpoint||(optionName="options.endpoint"):optionName="options.method"),optionName)throw new BraintreeError({type:errors.CLIENT_OPTION_REQUIRED.type,code:errors.CLIENT_OPTION_REQUIRED.code,message:optionName+" is required when making a request."});if(api="api"in options?options.api:"clientApi",requestOptions={method:options.method,graphQL:self._graphQL,timeout:options.timeout,metadata:self._configuration.analyticsMetadata},"clientApi"===api)baseUrl=self._clientApiBaseUrl,requestOptions.data=addMetadata(self._configuration,options.data);else{if("graphQLApi"!==api)throw new BraintreeError({type:errors.CLIENT_OPTION_INVALID.type,code:errors.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});baseUrl=GRAPHQL_URLS[self._configuration.gatewayConfiguration.environment],options.endpoint="",requestOptions.method="post",requestOptions.data=assign({clientSdkMetadata:{source:self._configuration.analyticsMetadata.source,integration:self._configuration.analyticsMetadata.integration,sessionId:self._configuration.analyticsMetadata.sessionId}},options.data),requestOptions.headers={Authorization:"Bearer "+((configuration=self._configuration).authorizationFingerprint||configuration.authorization),"Braintree-Version":BRAINTREE_VERSION}}requestOptions.url=baseUrl+options.endpoint,requestOptions.sendAnalyticsEvent=function(kind){analytics.sendEvent(self,kind)},self._request(requestOptions,(function(err,data,status){var resolvedData,requestError;(requestError=function(status,err){var requestError;if(-1===status?requestError=new BraintreeError(errors.CLIENT_REQUEST_TIMEOUT):403===status?requestError=new BraintreeError(errors.CLIENT_AUTHORIZATION_INSUFFICIENT):429===status?requestError=new BraintreeError(errors.CLIENT_RATE_LIMITED):status>=500?requestError=new BraintreeError(errors.CLIENT_GATEWAY_NETWORK):(status<200||status>=400)&&(requestError=convertToBraintreeError(err,{type:errors.CLIENT_REQUEST_ERROR.type,code:errors.CLIENT_REQUEST_ERROR.code,message:errors.CLIENT_REQUEST_ERROR.message})),requestError)return requestError.details=requestError.details||{},requestError.details.httpStatus=status,requestError}(status,err))?reject(requestError):"graphQLApi"===api&&data.errors?reject(convertToBraintreeError(data.errors,{type:errors.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:errors.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:errors.CLIENT_GRAPHQL_REQUEST_ERROR.message})):(resolvedData=assign({_httpStatus:status},data),shouldCollectData&&resolvedData.creditCards&&resolvedData.creditCards.length>0&&(self._findOrCreateFraudnetJSON(resolvedData.creditCards[0].nonce),assets.loadScript({src:FRAUDNET_URL,forceScriptReload:!0})),resolve(resolvedData))}))}));return"function"==typeof callback?(callback=once(deferred(callback)),void requestPromise.then((function(response){callback(null,response,response._httpStatus)}))["catch"]((function(err){var status=err&&err.details&&err.details.httpStatus;callback(err,null,status)}))):requestPromise},Client.prototype.toJSON=function(){return this.getConfiguration()},Client.prototype.getVersion=function(){return VERSION},Client.prototype.teardown=wrapPromise((function(){return delete cachedClients[this.getConfiguration().authorization],convertMethodsToError(this,methods(Client.prototype)),Promise.resolve()})),module.exports=Client},{"../lib/add-metadata":92,"../lib/analytics":93,"../lib/assets":94,"../lib/assign":95,"../lib/braintree-error":98,"../lib/constants":103,"../lib/convert-methods-to-error":104,"../lib/convert-to-braintree-error":105,"../lib/create-authorization-data":107,"../lib/deferred":109,"../lib/is-verified-domain":128,"../lib/methods":130,"../lib/once":131,"../lib/promise":132,"./constants":50,"./errors":51,"./get-configuration":52,"./request":64,"./request/graphql":62,"@braintree/wrap-promise":30}],50:[function(_dereq_,module,exports){"use strict";module.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],51:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error");module.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:BraintreeError.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:BraintreeError.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:BraintreeError.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:BraintreeError.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:BraintreeError.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:BraintreeError.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:BraintreeError.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:BraintreeError.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:BraintreeError.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:BraintreeError.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:BraintreeError.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."}}},{"../lib/braintree-error":98}],52:[function(_dereq_,module,exports){(function(global){"use strict";var BraintreeError=_dereq_("../lib/braintree-error"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise"),request=_dereq_("./request"),uuid=_dereq_("../lib/vendor/uuid"),constants=_dereq_("../lib/constants"),errors=_dereq_("./errors"),GraphQL=_dereq_("./request/graphql"),GRAPHQL_URLS=_dereq_("../lib/constants").GRAPHQL_URLS,isDateStringBeforeOrOn=_dereq_("../lib/is-date-string-before-or-on"),BRAINTREE_VERSION=_dereq_("./constants").BRAINTREE_VERSION;module.exports={getConfiguration:wrapPromise((function(authData){return new Promise((function(resolve,reject){var configuration,attrs,configUrl,reqOptions,sessionId=uuid(),analyticsMetadata={merchantAppId:global.location.host,platform:constants.PLATFORM,sdkVersion:constants.VERSION,source:constants.SOURCE,integration:constants.INTEGRATION,integrationType:constants.INTEGRATION,sessionId:sessionId};attrs=authData.attrs,configUrl=authData.configUrl,attrs._meta=analyticsMetadata,attrs.braintreeLibraryVersion=constants.BRAINTREE_LIBRARY_VERSION,attrs.configVersion="3",reqOptions={url:configUrl,method:"GET",data:attrs},attrs.authorizationFingerprint&&authData.graphQL?(isDateStringBeforeOrOn(authData.graphQL.date,BRAINTREE_VERSION)&&(reqOptions.graphQL=new GraphQL({graphQL:{url:authData.graphQL.url,features:["configuration"]}})),reqOptions.metadata=analyticsMetadata):attrs.tokenizationKey&&(reqOptions.graphQL=new GraphQL({graphQL:{url:GRAPHQL_URLS[authData.environment],features:["configuration"]}}),reqOptions.metadata=analyticsMetadata),request(reqOptions,(function(err,response,status){var errorTemplate;if(err)return errorTemplate=403===status?errors.CLIENT_AUTHORIZATION_INSUFFICIENT:errors.CLIENT_GATEWAY_NETWORK,void reject(new BraintreeError({type:errorTemplate.type,code:errorTemplate.code,message:errorTemplate.message,details:{originalError:err}}));configuration={authorizationType:attrs.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:attrs.authorizationFingerprint,analyticsMetadata:analyticsMetadata,gatewayConfiguration:response},resolve(configuration)}))}))}))}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/braintree-error":98,"../lib/constants":103,"../lib/is-date-string-before-or-on":126,"../lib/promise":132,"../lib/vendor/uuid":136,"./constants":50,"./errors":51,"./request":64,"./request/graphql":62,"@braintree/wrap-promise":30}],53:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error"),Client=_dereq_("./client"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise"),sharedErrors=_dereq_("../lib/errors");module.exports={create:wrapPromise((function(options){return options.authorization?Client.initialize(options):Promise.reject(new BraintreeError({type:sharedErrors.INSTANTIATION_OPTION_REQUIRED.type,code:sharedErrors.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))})),VERSION:"3.58.0"}},{"../lib/braintree-error":98,"../lib/errors":112,"../lib/promise":132,"./client":49,"@braintree/wrap-promise":30}],54:[function(_dereq_,module,exports){"use strict";var querystring=_dereq_("../../lib/querystring"),assign=_dereq_("../../lib/assign").assign,prepBody=_dereq_("./prep-body"),parseBody=_dereq_("./parse-body"),xhr=_dereq_("./xhr"),isXHRAvailable=xhr.isAvailable,GraphQLRequest=_dereq_("./graphql/request"),DefaultRequest=_dereq_("./default-request");module.exports={request:function(options,cb){!function _requestWithRetry(options,tcpRetryCount,cb){var status,resBody,ajaxRequest,body,method,headers,parsedBody,url=options.url,graphQL=options.graphQL,timeout=options.timeout,req=xhr.getRequestObject(),callback=cb,isGraphQLRequest=Boolean(graphQL&&graphQL.isGraphQLRequest(url,options.data));options.headers=assign({"Content-Type":"application/json"},options.headers),url=(ajaxRequest=isGraphQLRequest?new GraphQLRequest(options):new DefaultRequest(options)).getUrl(),body=ajaxRequest.getBody(),method=ajaxRequest.getMethod(),headers=ajaxRequest.getHeaders(),"GET"===method&&(url=querystring.queryify(url,body),body=null),isXHRAvailable?req.onreadystatechange=function(){if(4===req.readyState){if(0===req.status&&isGraphQLRequest)return delete options.graphQL,void _requestWithRetry(options,tcpRetryCount,cb);if(parsedBody=parseBody(req.responseText),resBody=ajaxRequest.adaptResponseBody(parsedBody),(status=ajaxRequest.determineStatus(req.status,parsedBody))>=400||status<200){if(isGraphQLRequest&&function(body){var errorClass=!body.data&&body.errors&&body.errors[0]&&body.errors[0].extensions&&body.errors[0].extensions.errorClass;return"UNKNOWN"===errorClass||"INTERNAL"===errorClass}(parsedBody))return delete options.graphQL,void _requestWithRetry(options,tcpRetryCount,cb);if(tcpRetryCount<1&&function(status){return!status||408===status}(status))return tcpRetryCount++,void _requestWithRetry(options,tcpRetryCount,cb);callback(resBody||"error",null,status||500)}else callback(null,resBody,status)}}:(options.headers&&(url=querystring.queryify(url,headers)),req.onload=function(){callback(null,parseBody(req.responseText),req.status)},req.onerror=function(){callback("error",null,500)},req.onprogress=function(){},req.ontimeout=function(){callback("timeout",null,-1)});try{req.open(method,url,!0)}catch(requestOpenError){if(!isGraphQLRequest)throw requestOpenError;return delete options.graphQL,void _requestWithRetry(options,tcpRetryCount,cb)}req.timeout=timeout,isXHRAvailable&&Object.keys(headers).forEach((function(headerKey){req.setRequestHeader(headerKey,headers[headerKey])}));try{req.send(prepBody(method,body))}catch(e){}}(options,0,cb)}}},{"../../lib/assign":95,"../../lib/querystring":133,"./default-request":55,"./graphql/request":63,"./parse-body":67,"./prep-body":68,"./xhr":69}],55:[function(_dereq_,module,exports){"use strict";function DefaultRequest(options){this._url=options.url,this._data=options.data,this._method=options.method,this._headers=options.headers}DefaultRequest.prototype.getUrl=function(){return this._url},DefaultRequest.prototype.getBody=function(){return this._data},DefaultRequest.prototype.getMethod=function(){return this._method},DefaultRequest.prototype.getHeaders=function(){return this._headers},DefaultRequest.prototype.adaptResponseBody=function(parsedBody){return parsedBody},DefaultRequest.prototype.determineStatus=function(status){return status},module.exports=DefaultRequest},{}],56:[function(_dereq_,module,exports){(function(global){"use strict";module.exports=function(){return global.navigator.userAgent}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],57:[function(_dereq_,module,exports){"use strict";var errorResponseAdapter=_dereq_("./error"),assign=_dereq_("../../../../lib/assign").assign,cardTypeTransforms_creditCard={AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},cardTypeTransforms_applePayWeb={VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex"},cardTypeTransforms_visaCheckout={VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},cardTypeTransforms_googlePay={VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex"},cardTypeTransforms_masterpass={VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"};function mapCardTypes(cardTypes,cardTypeTransformMap){return cardTypes.reduce((function(acc,type){return cardTypeTransformMap.hasOwnProperty(type)?acc.concat(cardTypeTransformMap[type]):acc}),[])}module.exports=function(responseBody,ctx){return responseBody.data&&!responseBody.errors?function(body,ctx){var response,configuration=body.data.clientConfiguration;return response={environment:configuration.environment.toLowerCase(),clientApiUrl:configuration.clientApiUrl,assetsUrl:configuration.assetsUrl,analytics:{url:configuration.analyticsUrl},merchantId:configuration.merchantId,venmo:"off"},configuration.supportedFeatures&&(response.graphQL={url:ctx._graphQL._config.url,features:configuration.supportedFeatures.map((function(feature){return feature.toLowerCase()}))}),configuration.braintreeApi&&(response.braintreeApi=configuration.braintreeApi),configuration.applePayWeb&&(response.applePayWeb=configuration.applePayWeb,response.applePayWeb.supportedNetworks=mapCardTypes(configuration.applePayWeb.supportedCardBrands,cardTypeTransforms_applePayWeb),delete response.applePayWeb.supportedCardBrands),configuration.ideal&&(response.ideal=configuration.ideal),configuration.kount&&(response.kount={kountMerchantId:configuration.kount.merchantId}),configuration.creditCard?(response.challenges=configuration.creditCard.challenges.map((function(challenge){return challenge.toLowerCase()})),response.creditCards={supportedCardTypes:mapCardTypes(configuration.creditCard.supportedCardBrands,cardTypeTransforms_creditCard)},response.threeDSecureEnabled=configuration.creditCard.threeDSecureEnabled,response.threeDSecure=configuration.creditCard.threeDSecure):(response.challenges=[],response.creditCards={supportedCardTypes:[]},response.threeDSecureEnabled=!1),configuration.googlePay&&(response.androidPay={displayName:configuration.googlePay.displayName,enabled:!0,environment:configuration.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:configuration.googlePay.googleAuthorization,supportedNetworks:mapCardTypes(configuration.googlePay.supportedCardBrands,cardTypeTransforms_googlePay)}),configuration.venmo&&(response.payWithVenmo={merchantId:configuration.venmo.merchantId,accessToken:configuration.venmo.accessToken,environment:configuration.venmo.environment.toLowerCase()}),configuration.paypal?(response.paypalEnabled=!0,response.paypal=assign({},configuration.paypal),response.paypal.currencyIsoCode=response.paypal.currencyCode,response.paypal.environment=response.paypal.environment.toLowerCase(),delete response.paypal.currencyCode):response.paypalEnabled=!1,configuration.unionPay&&(response.unionPay={enabled:!0,merchantAccountId:configuration.unionPay.merchantAccountId}),configuration.visaCheckout&&(response.visaCheckout={apikey:configuration.visaCheckout.apiKey,externalClientId:configuration.visaCheckout.externalClientId,supportedCardTypes:mapCardTypes(configuration.visaCheckout.supportedCardBrands,cardTypeTransforms_visaCheckout)}),configuration.masterpass&&(response.masterpass={merchantCheckoutId:configuration.masterpass.merchantCheckoutId,supportedNetworks:mapCardTypes(configuration.masterpass.supportedCardBrands,cardTypeTransforms_masterpass)}),configuration.usBankAccount&&(response.usBankAccount={routeId:configuration.usBankAccount.routeId,plaid:{publicKey:configuration.usBankAccount.plaidPublicKey}}),response}(responseBody,ctx):errorResponseAdapter(responseBody)}},{"../../../../lib/assign":95,"./error":59}],58:[function(_dereq_,module,exports){"use strict";var errorResponseAdapter=_dereq_("./error"),CARD_BRAND_MAP={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"Union Pay",VISA:"Visa"},BIN_DATA_MAP={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},AUTHENTICATION_INSIGHT_MAP={PSDTWO:"psd2"};module.exports=function(responseBody){return responseBody.data&&!responseBody.errors?(data=responseBody.data.tokenizeCreditCard,creditCard=data.creditCard,lastTwo=creditCard.last4?creditCard.last4.substr(2,4):"",(binData=creditCard.binData)&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach((function(key){binData[key]?binData[key]=BIN_DATA_MAP[binData[key]]:binData[key]="Unknown"})),["issuingBank","countryOfIssuance","productId"].forEach((function(key){binData[key]||(binData[key]="Unknown")}))),response={creditCards:[{binData:binData,consumed:!1,description:lastTwo?"ending in "+lastTwo:"",nonce:data.token,details:{expirationMonth:creditCard.expirationMonth,expirationYear:creditCard.expirationYear,bin:creditCard.bin||"",cardType:CARD_BRAND_MAP[creditCard.brandCode]||"Unknown",lastFour:creditCard.last4||"",lastTwo:lastTwo},type:"CreditCard",threeDSecureInfo:null}]},data.authenticationInsight&&(regulationEnvironment=data.authenticationInsight.customerAuthenticationRegulationEnvironment,response.creditCards[0].authenticationInsight={regulationEnvironment:AUTHENTICATION_INSIGHT_MAP[regulationEnvironment]||regulationEnvironment.toLowerCase()}),response):errorResponseAdapter(responseBody);var response,regulationEnvironment,data,creditCard,lastTwo,binData}},{"./error":59}],59:[function(_dereq_,module,exports){"use strict";module.exports=function(responseBody){var errorClass=responseBody.errors&&responseBody.errors[0]&&responseBody.errors[0].extensions&&responseBody.errors[0].extensions.errorClass;return"VALIDATION"===errorClass?function(responseBody){var errors,field,fieldErrors=function(errors){var fieldErrors=[];return errors.forEach((function(error){error.extensions&&error.extensions.inputPath&&function addFieldError(inputPath,errorDetail,fieldErrors){var fieldError,legacyCode=errorDetail.extensions.legacyCode,inputField=inputPath[0];1!==inputPath.length?(fieldErrors.forEach((function(candidate){candidate.field===inputField&&(fieldError=candidate)})),fieldError||(fieldError={field:inputField,fieldErrors:[]},fieldErrors.push(fieldError)),addFieldError(inputPath.slice(1),errorDetail,fieldError.fieldErrors)):fieldErrors.push({code:legacyCode,field:inputField,message:errorDetail.message})}(error.extensions.inputPath.slice(1),error,fieldErrors)})),fieldErrors}(responseBody.errors);return 0===fieldErrors.length?{error:{message:responseBody.errors[0].message}}:{error:{message:(errors=fieldErrors,field=errors[0].field,{creditCard:"Credit card is invalid"}[field])},fieldErrors:fieldErrors}}(responseBody):errorClass?function(responseBody){return{error:{message:responseBody.errors[0].message},fieldErrors:[]}}(responseBody):{error:{message:"There was a problem serving your request"},fieldErrors:[]}}},{}],60:[function(_dereq_,module,exports){"use strict";module.exports=function(){return{query:"query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment     }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }",operationName:"ClientConfiguration"}}},{}],61:[function(_dereq_,module,exports){"use strict";var assign=_dereq_("../../../../lib/assign").assign;function createCreditCardTokenizationBody(body,options){var cc=body.creditCard,billingAddress=cc&&cc.billingAddress,expDate=cc&&cc.expirationDate,expirationMonth=cc&&(cc.expirationMonth||expDate&&expDate.split("/")[0].trim()),expirationYear=cc&&(cc.expirationYear||expDate&&expDate.split("/")[1].trim()),variables={input:{creditCard:{number:cc&&cc.number,expirationMonth:expirationMonth,expirationYear:expirationYear,cvv:cc&&cc.cvv,cardholderName:cc&&cc.cardholderName},options:{}}};return options.hasAuthenticationInsight&&(variables.authenticationInsightInput={merchantAccountId:body.merchantAccountId}),billingAddress&&(variables.input.creditCard.billingAddress=billingAddress),variables.input=function(body,input){var validate;return body.creditCard&&body.creditCard.options&&"boolean"==typeof body.creditCard.options.validate?validate=body.creditCard.options.validate:body.authorizationFingerprint&&body.tokenizationKey||body.authorizationFingerprint?validate=!0:body.tokenizationKey&&(validate=!1),"boolean"==typeof validate&&(input.options=assign({validate:validate},input.options)),input}(body,variables.input),variables}module.exports=function(body){var config,hasAuthenticationInsight,mutation,options={hasAuthenticationInsight:Boolean(body.authenticationInsight&&body.merchantAccountId)};return{query:(config=options,hasAuthenticationInsight=config.hasAuthenticationInsight,mutation="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!",hasAuthenticationInsight&&(mutation+=", $authenticationInsightInput: AuthenticationInsightInput!"),mutation+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } ",hasAuthenticationInsight&&(mutation+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),mutation+="  } }"),variables:createCreditCardTokenizationBody(body,options),operationName:"TokenizeCreditCard"}}},{"../../../../lib/assign":95}],62:[function(_dereq_,module,exports){"use strict";var browserDetection=_dereq_("../../browser-detection"),features={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},disallowedInputPaths=["creditCard.options.unionPayEnrollment"];function GraphQL(config){this._config=config.graphQL}GraphQL.prototype.getGraphQLEndpoint=function(){return this._config.url},GraphQL.prototype.isGraphQLRequest=function(url,body){var featureEnabled,path=this.getClientApiPath(url);return!(!this._isGraphQLEnabled()||!path||browserDetection.isIe9())&&(featureEnabled=this._config.features.some((function(feature){return features[feature]===path})),!function(body){return disallowedInputPaths.some((function(keys){return keys.split(".").reduce((function(accumulator,key){return accumulator&&accumulator[key]}),body)!==undefined}))}(body)&&featureEnabled)},GraphQL.prototype.getClientApiPath=function(url){var path,pathParts=url.split("/client_api/v1/");return pathParts.length>1&&(path=pathParts[1].split("?")[0]),path},GraphQL.prototype._isGraphQLEnabled=function(){return Boolean(this._config)},module.exports=GraphQL},{"../../browser-detection":48}],63:[function(_dereq_,module,exports){"use strict";var BRAINTREE_VERSION=_dereq_("../../constants").BRAINTREE_VERSION,assign=_dereq_("../../../lib/assign").assign,creditCardTokenizationBodyGenerator=_dereq_("./generators/credit-card-tokenization"),creditCardTokenizationResponseAdapter=_dereq_("./adapters/credit-card-tokenization"),configurationBodyGenerator=_dereq_("./generators/configuration"),configurationResponseAdapter=_dereq_("./adapters/configuration"),generators={"payment_methods/credit_cards":creditCardTokenizationBodyGenerator,configuration:configurationBodyGenerator},adapters={"payment_methods/credit_cards":creditCardTokenizationResponseAdapter,configuration:configurationResponseAdapter};function GraphQLRequest(options){var clientApiPath=options.graphQL.getClientApiPath(options.url);this._graphQL=options.graphQL,this._data=options.data,this._method=options.method,this._headers=options.headers,this._clientSdkMetadata={source:options.metadata.source,integration:options.metadata.integration,sessionId:options.metadata.sessionId},this._sendAnalyticsEvent=options.sendAnalyticsEvent||Function.prototype,this._generator=generators[clientApiPath],this._adapter=adapters[clientApiPath],this._sendAnalyticsEvent("graphql.init")}GraphQLRequest.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},GraphQLRequest.prototype.getBody=function(){var formattedBody=function formatBodyKeys(originalBody){var body={};return Object.keys(originalBody).forEach((function(key){var snakeString,camelCaseKey=-1===(snakeString=key).indexOf("_")?snakeString:snakeString.toLowerCase().replace(/(\_\w)/g,(function(match){return match[1].toUpperCase()}));"object"==typeof originalBody[key]?body[camelCaseKey]=formatBodyKeys(originalBody[key]):"number"==typeof originalBody[key]?body[camelCaseKey]=String(originalBody[key]):body[camelCaseKey]=originalBody[key]})),body}(this._data),generatedBody=this._generator(formattedBody),body=assign({clientSdkMetadata:this._clientSdkMetadata},generatedBody);return JSON.stringify(body)},GraphQLRequest.prototype.getMethod=function(){return"POST"},GraphQLRequest.prototype.getHeaders=function(){var authorization,headers;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),authorization=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),authorization=this._data.tokenizationKey),headers={Authorization:"Bearer "+authorization,"Braintree-Version":BRAINTREE_VERSION},assign({},this._headers,headers)},GraphQLRequest.prototype.adaptResponseBody=function(parsedBody){return this._adapter(parsedBody,this)},GraphQLRequest.prototype.determineStatus=function(httpStatus,parsedResponse){var status,errorClass;return 200===httpStatus?(errorClass=parsedResponse.errors&&parsedResponse.errors[0]&&parsedResponse.errors[0].extensions&&parsedResponse.errors[0].extensions.errorClass,status=parsedResponse.data&&!parsedResponse.errors?200:"VALIDATION"===errorClass?422:"AUTHORIZATION"===errorClass?403:"AUTHENTICATION"===errorClass?401:function(errorClass,parsedResponse){return!errorClass&&parsedResponse.errors[0].message}(errorClass,parsedResponse)?403:500):status=httpStatus||500,this._sendAnalyticsEvent("graphql.status."+httpStatus),this._sendAnalyticsEvent("graphql.determinedStatus."+status),status},module.exports=GraphQLRequest},{"../../../lib/assign":95,"../../constants":50,"./adapters/configuration":57,"./adapters/credit-card-tokenization":58,"./generators/configuration":60,"./generators/credit-card-tokenization":61}],64:[function(_dereq_,module,exports){"use strict";var ajaxIsAvaliable,once=_dereq_("../../lib/once"),JSONPDriver=_dereq_("./jsonp-driver"),AJAXDriver=_dereq_("./ajax-driver"),getUserAgent=_dereq_("./get-user-agent"),isHTTP=_dereq_("./is-http");module.exports=function(options,cb){cb=once(cb||Function.prototype),options.method=(options.method||"GET").toUpperCase(),options.timeout=null==options.timeout?6e4:options.timeout,options.data=options.data||{},null==ajaxIsAvaliable&&(ajaxIsAvaliable=!(isHTTP()&&/MSIE\s(8|9)/.test(getUserAgent()))),ajaxIsAvaliable?AJAXDriver.request(options,cb):JSONPDriver.request(options,cb)}},{"../../lib/once":131,"./ajax-driver":54,"./get-user-agent":56,"./is-http":65,"./jsonp-driver":66}],65:[function(_dereq_,module,exports){(function(global){"use strict";module.exports=function(){return"http:"===global.location.protocol}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],66:[function(_dereq_,module,exports){(function(global){"use strict";var head,uuid=_dereq_("../../lib/vendor/uuid"),querystring=_dereq_("../../lib/querystring"),timeouts={};function _cleanupGlobal(callbackName){try{delete global[callbackName]}catch(_){global[callbackName]=null}}module.exports={request:function(options,callback){var script,callbackName="callback_json_"+uuid().replace(/-/g,""),url=options.url,attrs=options.data,method=options.method,timeout=options.timeout;url=querystring.queryify(url,attrs),function(script,callback,callbackName){global[callbackName]=function(response){var status=response.status||500,err=null,data=null;delete response.status,status>=400||status<200?err=response:data=response,_cleanupGlobal(callbackName),function(script){script&&script.parentNode&&script.parentNode.removeChild(script)}(script),clearTimeout(timeouts[callbackName]),callback(err,data,status)}}(script=function(url,callbackName){var script=document.createElement("script"),done=!1;return script.src=url,script.async=!0,script.onerror=function(){global[callbackName]({message:"error",status:500})},script.onload=script.onreadystatechange=function(){done||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(done=!0,script.onload=script.onreadystatechange=null)},script}(url=querystring.queryify(url,{_method:method,callback:callbackName}),callbackName),callback,callbackName),function(timeout,callbackName){timeouts[callbackName]=setTimeout((function(){timeouts[callbackName]=null,global[callbackName]({error:"timeout",status:-1}),global[callbackName]=function(){_cleanupGlobal(callbackName)}}),timeout)}(timeout,callbackName),head||(head=document.getElementsByTagName("head")[0]),head.appendChild(script)}}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/querystring":133,"../../lib/vendor/uuid":136}],67:[function(_dereq_,module,exports){"use strict";module.exports=function(body){try{body=JSON.parse(body)}catch(e){}return body}},{}],68:[function(_dereq_,module,exports){"use strict";module.exports=function(method,body){if("string"!=typeof method)throw new Error("Method must be a string");return"get"!==method.toLowerCase()&&null!=body&&(body="string"==typeof body?body:JSON.stringify(body)),body}},{}],69:[function(_dereq_,module,exports){(function(global){"use strict";var isXHRAvailable=global.XMLHttpRequest&&"withCredentials"in new global.XMLHttpRequest;module.exports={isAvailable:isXHRAvailable,getRequestObject:function(){return isXHRAvailable?new global.XMLHttpRequest:new global.XDomainRequest}}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],70:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error");module.exports={DATA_COLLECTOR_KOUNT_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_NOT_ENABLED",message:"Kount is not enabled for this merchant."},DATA_COLLECTOR_KOUNT_ERROR:{type:BraintreeError.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_ERROR"},DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:BraintreeError.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/braintree-error":98}],71:[function(_dereq_,module,exports){"use strict";var cachedSessionId,FRAUDNET_FNCLS=_dereq_("../lib/constants").FRAUDNET_FNCLS,FRAUDNET_SOURCE=_dereq_("../lib/constants").FRAUDNET_SOURCE,FRAUDNET_URL=_dereq_("../lib/constants").FRAUDNET_URL,loadScript=_dereq_("../lib/assets").loadScript,Promise=_dereq_("../lib/promise");function Fraudnet(){}function removeElementIfOnPage(element){element&&element.parentNode&&element.parentNode.removeChild(element)}Fraudnet.prototype.initialize=function(){var sessionId,timestamp,self=this;return this.sessionId=cachedSessionId=function(){var i,id="";for(i=0;i<32;i++)id+=Math.floor(16*Math.random()).toString(16);return id}(),this._beaconId=(sessionId=this.sessionId,timestamp=(new Date).getTime()/1e3,"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+sessionId+"&t="+timestamp+"&a=14"),this._parameterBlock=function(sessionId,beaconId){var el=document.body.appendChild(document.createElement("script"));return el.type="application/json",el.setAttribute("fncls",FRAUDNET_FNCLS),el.text=JSON.stringify({f:sessionId,s:FRAUDNET_SOURCE,b:beaconId}),el}(this.sessionId,this._beaconId),loadScript({src:FRAUDNET_URL}).then((function(block){return self._thirdPartyBlock=block,self}))["catch"]((function(){return null}))},Fraudnet.prototype.teardown=function(){removeElementIfOnPage(document.querySelector('iframe[title="ppfniframe"]')),removeElementIfOnPage(document.querySelector('iframe[title="pbf"]')),removeElementIfOnPage(this._parameterBlock),removeElementIfOnPage(this._thirdPartyBlock)},module.exports={setup:function(){var fraudNet=new Fraudnet;return cachedSessionId?(fraudNet.sessionId=cachedSessionId,Promise.resolve(fraudNet)):fraudNet.initialize()},clearSessionIdCache:function(){cachedSessionId=null}}},{"../lib/assets":94,"../lib/constants":103,"../lib/promise":132}],72:[function(_dereq_,module,exports){"use strict";var kount=_dereq_("./kount"),fraudnet=_dereq_("./fraudnet"),BraintreeError=_dereq_("../lib/braintree-error"),basicComponentVerification=_dereq_("../lib/basic-component-verification"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),methods=_dereq_("../lib/methods"),convertMethodsToError=_dereq_("../lib/convert-methods-to-error"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise"),errors=_dereq_("./errors");module.exports={create:wrapPromise((function(options){var data,name="Data Collector",result={},instances=[];return basicComponentVerification.verify({name:name,client:options.client,authorization:options.authorization}).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:name})})).then((function(client){var kountInstance,config=client.getConfiguration();if(!0===options.kount&&config.gatewayConfiguration.kount){try{kountInstance=kount.setup({environment:config.gatewayConfiguration.environment,merchantId:config.gatewayConfiguration.kount.kountMerchantId})}catch(err){return Promise.reject(new BraintreeError({type:errors.DATA_COLLECTOR_KOUNT_ERROR.type,code:errors.DATA_COLLECTOR_KOUNT_ERROR.code,message:err.message}))}data=kountInstance.deviceData,instances.push(kountInstance)}else data={};return Promise.resolve()})).then((function(){return fraudnet.setup().then((function(fraudnetInstance){fraudnetInstance&&(data.correlation_id=fraudnetInstance.sessionId,instances.push(fraudnetInstance))}))})).then((function(){return 0===instances.length?Promise.reject(new BraintreeError(errors.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(result.deviceData=JSON.stringify(data),result.rawDeviceData=data,result.teardown=function(result,instances){return wrapPromise((function(){return new Promise((function(resolve){instances.forEach((function(instance){instance&&instance.teardown()})),convertMethodsToError(result,methods(result)),resolve()}))}))}(result,instances),result)}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/methods":130,"../lib/promise":132,"./errors":70,"./fraudnet":71,"./kount":73,"@braintree/wrap-promise":30}],73:[function(_dereq_,module,exports){"use strict";var sjcl=_dereq_("./vendor/sjcl"),camelCaseToSnakeCase=_dereq_("../lib/camel-case-to-snake-case"),QA_URL="https://assets.qa.braintreepayments.com/data",environmentUrls={development:QA_URL,qa:QA_URL,sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"},cachedDeviceData={};function Kount(options){var previouslyInitializedDeviceData=Kount.getCachedDeviceData(options.merchantId);if(previouslyInitializedDeviceData)return this.deviceData=previouslyInitializedDeviceData,void(this._isCached=!0);this._currentEnvironment=this._initializeEnvironment(options),sjcl.random.startCollectors(),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),Kount.setCachedDeviceData(options.merchantId,this.deviceData),this._iframe=this._setupIFrame()}Kount.getCachedDeviceData=function(merchantId){return cachedDeviceData[merchantId]},Kount.setCachedDeviceData=function(merchantId,data){cachedDeviceData[merchantId]=data},Kount.prototype.teardown=function(){this._isCached||(sjcl.random.stopCollectors(),this._removeIframe())},Kount.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},Kount.prototype._getDeviceData=function(){return camelCaseToSnakeCase({deviceSessionId:this._deviceSessionId,fraudMerchantId:this._currentEnvironment.id})},Kount.prototype._generateDeviceSessionId=function(){var bits;return bits=sjcl.random.randomWords(4,0),sjcl.codec.hex.fromBits(bits)},Kount.prototype._setupIFrame=function(){var params,iframe,self=this;return params="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,(iframe=document.createElement("iframe")).width=1,iframe.id="braintreeDataFrame-"+this._deviceSessionId,iframe.height=1,iframe.frameBorder=0,iframe.scrolling="no",iframe.style.position="fixed",iframe.style.left="-999999px",iframe.style.top="-999999px",iframe.title="Braintree-Kount-iframe",iframe.setAttribute("aria-hidden","true"),document.body.appendChild(iframe),setTimeout((function(){iframe.src=self._currentEnvironment.url+"/logo.htm"+params,iframe.innerHTML='<img src="'+self._currentEnvironment.url+"/logo.gif"+params+'" alt="" />'}),10),iframe},Kount.prototype._initializeEnvironment=function(options){var url=environmentUrls[options.environment];if(null==url)throw new Error(options.environment+" is not a valid environment for kount.environment");return{url:url,name:options.environment,id:options.merchantId}},module.exports={setup:function(o){return new Kount(null!=o?o:{})},Kount:Kount,environmentUrls:environmentUrls}},{"../lib/camel-case-to-snake-case":102,"./vendor/sjcl":74}],74:[function(_dereq_,module,exports){"use strict";var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message},this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message},this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message},this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message},this.message=a}}};function t(a,b,c){if(4!==b.length)throw new sjcl.exception.invalid("invalid aes block size");var d=a.b[c],e=b[0]^d[0],f=b[c?3:1]^d[1],g=b[2]^d[2];b=b[c?1:3]^d[3];var k,l,p,h,n=d.length/4-2,m=4,q=[0,0,0,0];a=(k=a.l[c])[0];var r=k[1],v=k[2],w=k[3],x=k[4];for(h=0;h<n;h++)k=a[e>>>24]^r[f>>16&255]^v[g>>8&255]^w[255&b]^d[m],l=a[f>>>24]^r[g>>16&255]^v[b>>8&255]^w[255&e]^d[m+1],p=a[g>>>24]^r[b>>16&255]^v[e>>8&255]^w[255&f]^d[m+2],b=a[b>>>24]^r[e>>16&255]^v[f>>8&255]^w[255&g]^d[m+3],m+=4,e=k,f=l,g=p;for(h=0;4>h;h++)q[c?3&-h:h]=x[e>>>24]<<24^x[f>>16&255]<<16^x[g>>8&255]<<8^x[255&b]^d[m++],k=e,e=f,f=g,g=b,b=k;return q}function u(a,b){var c,d,e,f=a.u,g=a.b,k=f[0],l=f[1],p=f[2],n=f[3],h=f[4],m=f[5],q=f[6],r=f[7];for(c=0;64>c;c++)16>c?d=b[c]:(d=b[c+1&15],e=b[c+14&15],d=b[15&c]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+b[15&c]+b[c+9&15]|0),d=d+r+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(q^h&(m^q))+g[c],r=q,q=m,m=h,h=n+d|0,n=p,p=l,k=d+((l=k)&p^n&(l^p))+(l>>>2^l>>>13^l>>>22^l<<30^l<<19^l<<10)|0;f[0]=f[0]+k|0,f[1]=f[1]+l|0,f[2]=f[2]+p|0,f[3]=f[3]+n|0,f[4]=f[4]+h|0,f[5]=f[5]+m|0,f[6]=f[6]+q|0,f[7]=f[7]+r|0}function A(a,b){var c,d=sjcl.random.B[a],e=[];for(c in d)d.hasOwnProperty(c)&&e.push(d[c]);for(c=0;c<e.length;c++)e[c](b)}function C(a,b){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?a.addEntropy(window.performance.now(),b,"loadtime"):a.addEntropy((new Date).valueOf(),b,"loadtime")}function y(a){a.b=z(a).concat(z(a)),a.C=new sjcl.cipher.aes(a.b)}function z(a){for(var b=0;4>b&&(a.g[b]=a.g[b]+1|0,!a.g[b]);b++);return a.C.encrypt(a.g)}function B(a,b){return function(){b.apply(a,arguments)}}sjcl.cipher.aes=function(a){this.l[0][0][0]||this.G();var b,c,d,e,f=this.l[0][4],g=this.l[1],k=1;if(4!==(b=a.length)&&6!==b&&8!==b)throw new sjcl.exception.invalid("invalid aes key size");for(this.b=[d=a.slice(0),e=[]],a=b;a<4*b+28;a++)c=d[a-1],(0==a%b||8===b&&4==a%b)&&(c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[255&c],0==a%b&&(c=c<<8^c>>>24^k<<24,k=k<<1^283*(k>>7))),d[a]=d[a-b]^c;for(b=0;a;b++,a--)c=d[3&b?a:a-4],e[b]=4>=a||4>b?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^g[3][f[255&c]]},sjcl.cipher.aes.prototype={encrypt:function(a){return t(this,a,0)},decrypt:function(a){return t(this,a,1)},l:[[[],[],[],[],[]],[[],[],[],[],[]]],G:function(){var e,f,g,p,n,h,m,a=this.l[0],b=this.l[1],c=a[4],d=b[4],k=[],l=[];for(e=0;256>e;e++)l[(k[e]=e<<1^283*(e>>7))^e]=e;for(f=g=0;!c[f];f^=p||1,g=l[g]||1)for(h=(h=g^g<<1^g<<2^g<<3^g<<4)>>8^255&h^99,c[f]=h,d[h]=f,m=16843009*(n=k[e=k[p=k[f]]])^65537*e^257*p^16843008*f,n=257*k[h]^16843008*h,e=0;4>e;e++)a[e][f]=n=n<<24^n>>>8,b[e][h]=m=m<<24^m>>>8;for(e=0;5>e;e++)a[e]=a[e].slice(0),b[e]=b[e].slice(0)}},sjcl.bitArray={bitSlice:function(a,b,c){return a=sjcl.bitArray.M(a.slice(b/32),32-(31&b)).slice(1),void 0===c?a:sjcl.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return(-32&(b+c-1^b)?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=sjcl.bitArray.getPartial(c);return 32===d?a.concat(b):sjcl.bitArray.M(b,d,0|c,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;return 0===b?0:32*(b-1)+sjcl.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(32*a.length<b)return a;var c=(a=a.slice(0,Math.ceil(b/32))).length;return b&=31,0<c&&b&&(a[c-1]=sjcl.bitArray.partial(b,a[c-1]&2147483648>>b-1,1)),a},partial:function(a,b,c){return 32===a?b:(c?0|b:b<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b))return!1;var d,c=0;for(d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c},M:function(a,b,c,d){var e;for(e=0,void 0===d&&(d=[]);32<=b;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;return e=a.length?a[a.length-1]:0,a=sjcl.bitArray.getPartial(e),d.push(sjcl.bitArray.partial(b+a&31,32<b+a?c:d.pop(),1)),d},Y:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]},byteswapM:function(a){var b,c;for(b=0;b<a.length;++b)c=a[b],a[b]=c>>>24|c>>>8&65280|(65280&c)<<8|c<<24;return a}},sjcl.codec.utf8String={fromBits:function(a){var d,e,b="",c=sjcl.bitArray.bitLength(a);for(d=0;d<c/8;d++)0==(3&d)&&(e=a[d/4]),b+=String.fromCharCode(e>>>8>>>8>>>8),e<<=8;return decodeURIComponent(escape(b))},toBits:function(a){a=unescape(encodeURIComponent(a));var c,b=[],d=0;for(c=0;c<a.length;c++)d=d<<8|a.charCodeAt(c),3==(3&c)&&(b.push(d),d=0);return 3&c&&b.push(sjcl.bitArray.partial(8*(3&c),d)),b}},sjcl.codec.hex={fromBits:function(a){var c,b="";for(c=0;c<a.length;c++)b+=(0xf00000000000+(0|a[c])).toString(16).substr(4);return b.substr(0,sjcl.bitArray.bitLength(a)/4)},toBits:function(a){var b,d,c=[];for(d=(a=a.replace(/\s|0x/g,"")).length,a+="00000000",b=0;b<a.length;b+=8)c.push(0^parseInt(a.substr(b,8),16));return sjcl.bitArray.clamp(c,4*d)}},sjcl.hash.sha256=function(a){this.b[0]||this.G(),a?(this.u=a.u.slice(0),this.o=a.o.slice(0),this.h=a.h):this.reset()},sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize()},sjcl.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.K.slice(0),this.o=[],this.h=0,this},update:function(a){"string"==typeof a&&(a=sjcl.codec.utf8String.toBits(a));var b,c=this.o=sjcl.bitArray.concat(this.o,a);if(b=this.h,9007199254740991<(a=this.h=b+sjcl.bitArray.bitLength(a)))throw new sjcl.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var d=new Uint32Array(c),e=0;for(b=512+b-(512+b&511);b<=a;b+=512)u(this,d.subarray(16*e,16*(e+1))),e+=1;c.splice(0,16*e)}else for(b=512+b-(512+b&511);b<=a;b+=512)u(this,c.splice(0,16));return this},finalize:function(){var a,b=this.o,c=this.u;for(a=(b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)])).length+2;15&a;a++)b.push(0);for(b.push(Math.floor(this.h/4294967296)),b.push(0|this.h);b.length;)u(this,b.splice(0,16));return this.reset(),c},K:[],b:[],G:function(){function a(a){return 4294967296*(a-Math.floor(a))|0}for(var d,e,b=0,c=2;64>b;c++){for(e=!0,d=2;d*d<=c;d++)if(0==c%d){e=!1;break}e&&(8>b&&(this.K[b]=a(Math.pow(c,.5))),this.b[b]=a(Math.pow(c,1/3)),b++)}}},sjcl.prng=function(a){this.c=[new sjcl.hash.sha256],this.i=[0],this.H=0,this.v={},this.F=0,this.J={},this.L=this.f=this.j=this.T=0,this.b=[0,0,0,0,0,0,0,0],this.g=[0,0,0,0],this.C=void 0,this.D=a,this.s=!1,this.B={progress:{},seeded:{}},this.m=this.S=0,this.w=1,this.A=2,this.O=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.P=3e4,this.N=80},sjcl.prng.prototype={randomWords:function(a,b){var d,e,c=[];if((d=this.isReady(b))===this.m)throw new sjcl.exception.notReady("generator isn't seeded");if(d&this.A){d=!(d&this.w),e=[];var g,f=0;for(this.L=e[0]=(new Date).valueOf()+this.P,g=0;16>g;g++)e.push(4294967296*Math.random()|0);for(g=0;g<this.c.length&&(e=e.concat(this.c[g].finalize()),f+=this.i[g],this.i[g]=0,d||!(this.H&1<<g));g++);for(this.H>=1<<this.c.length&&(this.c.push(new sjcl.hash.sha256),this.i.push(0)),this.f-=f,f>this.j&&(this.j=f),this.H++,this.b=sjcl.hash.sha256.hash(this.b.concat(e)),this.C=new sjcl.cipher.aes(this.b),d=0;4>d&&(this.g[d]=this.g[d]+1|0,!this.g[d]);d++);}for(d=0;d<a;d+=4)0==(d+1)%this.O&&y(this),e=z(this),c.push(e[0],e[1],e[2],e[3]);return y(this),c.slice(0,a)},setDefaultParanoia:function(a,b){if(0===a&&"Setting paranoia=0 will ruin your security; use it only for testing"!==b)throw new sjcl.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.D=a},addEntropy:function(a,b,c){c=c||"user";var d,e,f=(new Date).valueOf(),g=this.v[c],k=this.isReady(),l=0;switch(void 0===(d=this.J[c])&&(d=this.J[c]=this.T++),void 0===g&&(g=this.v[c]=0),this.v[c]=(this.v[c]+1)%this.c.length,typeof a){case"number":void 0===b&&(b=1),this.c[g].update([d,this.F++,1,b,f,1,0|a]);break;case"object":if("[object Uint32Array]"===(c=Object.prototype.toString.call(a))){for(e=[],c=0;c<a.length;c++)e.push(a[c]);a=e}else for("[object Array]"!==c&&(l=1),c=0;c<a.length&&!l;c++)"number"!=typeof a[c]&&(l=1);if(!l){if(void 0===b)for(c=b=0;c<a.length;c++)for(e=a[c];0<e;)b++,e>>>=1;this.c[g].update([d,this.F++,2,b,f,a.length].concat(a))}break;case"string":void 0===b&&(b=a.length),this.c[g].update([d,this.F++,3,b,f,a.length]),this.c[g].update(a);break;default:l=1}if(l)throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");this.i[g]+=b,this.f+=b,k===this.m&&(this.isReady()!==this.m&&A("seeded",Math.max(this.j,this.f)),A("progress",this.getProgress()))},isReady:function(a){return a=this.I[void 0!==a?a:this.D],this.j&&this.j>=a?this.i[0]>this.N&&(new Date).valueOf()>this.L?this.A|this.w:this.w:this.f>=a?this.A|this.m:this.m},getProgress:function(a){return a=this.I[a||this.D],this.j>=a||this.f>a?1:this.f/a},startCollectors:function(){if(!this.s){if(this.a={loadTimeCollector:B(this,this.V),mouseCollector:B(this,this.W),keyboardCollector:B(this,this.U),accelerometerCollector:B(this,this.R),touchCollector:B(this,this.X)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new sjcl.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.s=!0}},stopCollectors:function(){this.s&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.s=!1)},addEventListener:function(a,b){this.B[a][this.S++]=b},removeEventListener:function(a,b){var c,d,e=this.B[a],f=[];for(d in e)e.hasOwnProperty(d)&&e[d]===b&&f.push(d);for(c=0;c<f.length;c++)delete e[d=f[c]]},U:function(){C(this,1)},W:function(a){var b,c;try{b=a.x||a.clientX||a.offsetX||0,c=a.y||a.clientY||a.offsetY||0}catch(d){c=b=0}0!=b&&0!=c&&this.addEntropy([b,c],2,"mouse"),C(this,0)},X:function(a){a=a.touches[0]||a.changedTouches[0],this.addEntropy([a.pageX||a.clientX,a.pageY||a.clientY],1,"touch"),C(this,0)},V:function(){C(this,2)},R:function(a){if(a=a.accelerationIncludingGravity.x||a.accelerationIncludingGravity.y||a.accelerationIncludingGravity.z,window.orientation){var b=window.orientation;"number"==typeof b&&this.addEntropy(b,1,"accelerometer")}a&&this.addEntropy(a,2,"accelerometer"),C(this,0)}},sjcl.random=new sjcl.prng(6);a:try{var D,E,F,G;if(G=void 0!==module&&module.exports){var H;try{H=_dereq_("crypto")}catch(a){H=null}G=E=H}if(G&&E.randomBytes)D=E.randomBytes(128),D=new Uint32Array(new Uint8Array(D).buffer),sjcl.random.addEntropy(D,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(F=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(F);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break a;window.msCrypto.getRandomValues(F)}sjcl.random.addEntropy(F,1024,"crypto['getRandomValues']")}}catch(a){"undefined"!=typeof window&&window.console}void 0!==module&&module.exports&&(module.exports=sjcl)},{crypto:undefined}],75:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error");module.exports={GOOGLE_PAYMENT_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"GOOGLE_PAYMENT_NOT_ENABLED",message:"Google Pay is not enabled for this merchant."},GOOGLE_PAYMENT_GATEWAY_ERROR:{code:"GOOGLE_PAYMENT_GATEWAY_ERROR",message:"There was an error when tokenizing the Google Pay payment method.",type:BraintreeError.types.UNKNOWN},GOOGLE_PAYMENT_UNSUPPORTED_VERSION:{code:"GOOGLE_PAYMENT_UNSUPPORTED_VERSION",type:BraintreeError.types.MERCHANT}}},{"../lib/braintree-error":98}],76:[function(_dereq_,module,exports){"use strict";var analytics=_dereq_("../lib/analytics"),assign=_dereq_("../lib/assign").assign,convertMethodsToError=_dereq_("../lib/convert-methods-to-error"),find=_dereq_("../lib/find"),generateGooglePayConfiguration=_dereq_("../lib/generate-google-pay-configuration"),BraintreeError=_dereq_("../lib/braintree-error"),errors=_dereq_("./errors"),methods=_dereq_("../lib/methods"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise"),CREATE_PAYMENT_DATA_REQUEST_METHODS={1:"_createV1PaymentDataRequest",2:"_createV2PaymentDataRequest"};function GooglePayment(options){this._client=options.client,this._googlePayVersion=options.googlePayVersion||1,this._googleMerchantId=options.googleMerchantId}GooglePayment.prototype._initialize=function(){return this._isUnsupportedGooglePayAPIVersion()?Promise.reject(new BraintreeError({code:errors.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.code,message:"The Braintree SDK does not support Google Pay version "+this._googlePayVersion+". Please upgrade the version of your Braintree SDK and contact support if this error persists.",type:errors.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.type})):Promise.resolve(this)},GooglePayment.prototype._isUnsupportedGooglePayAPIVersion=function(){return!(this._googlePayVersion in CREATE_PAYMENT_DATA_REQUEST_METHODS)},GooglePayment.prototype._getDefaultConfig=function(){return this._defaultConfig||(this._defaultConfig=generateGooglePayConfiguration(this._client.getConfiguration(),this._googlePayVersion,this._googleMerchantId)),this._defaultConfig},GooglePayment.prototype._createV1PaymentDataRequest=function(paymentDataRequest){var defaultConfig=this._getDefaultConfig(),overrideCardNetworks=paymentDataRequest.cardRequirements&&paymentDataRequest.cardRequirements.allowedCardNetworks,defaultConfigCardNetworks=defaultConfig.cardRequirements.allowedCardNetworks,allowedCardNetworks=overrideCardNetworks||defaultConfigCardNetworks;return(paymentDataRequest=assign({},defaultConfig,paymentDataRequest)).cardRequirements.allowedCardNetworks=allowedCardNetworks,paymentDataRequest},GooglePayment.prototype._createV2PaymentDataRequest=function(paymentDataRequest){var defaultConfig=this._getDefaultConfig();return paymentDataRequest.allowedPaymentMethods&&paymentDataRequest.allowedPaymentMethods.forEach((function(paymentMethod){var defaultPaymentMethod=find(defaultConfig.allowedPaymentMethods,"type",paymentMethod.type);defaultPaymentMethod&&function(merchantSubmittedPaymentMethod,defaultPaymentMethod){Object.keys(defaultPaymentMethod).forEach((function(parameter){"object"==typeof defaultPaymentMethod[parameter]?merchantSubmittedPaymentMethod[parameter]=assign({},defaultPaymentMethod[parameter],merchantSubmittedPaymentMethod[parameter]):merchantSubmittedPaymentMethod[parameter]=merchantSubmittedPaymentMethod[parameter]||defaultPaymentMethod[parameter]}))}(paymentMethod,defaultPaymentMethod)})),paymentDataRequest=assign({},defaultConfig,paymentDataRequest)},GooglePayment.prototype.createPaymentDataRequest=function(overrides){var paymentDataRequest=assign({},overrides),version=this._googlePayVersion,createPaymentDataRequestMethod=CREATE_PAYMENT_DATA_REQUEST_METHODS[version];return analytics.sendEvent(this._client,"google-payment.v"+version+".createPaymentDataRequest"),this[createPaymentDataRequestMethod](paymentDataRequest)},GooglePayment.prototype.parseResponse=function(response){var client=this._client;return Promise.resolve().then((function(){var payload,rawResponse=2===response.apiVersion?response.paymentMethodData.tokenizationData.token:response.paymentMethodToken.token,parsedResponse=JSON.parse(rawResponse),error=parsedResponse.error;return error?Promise.reject(error):(analytics.sendEvent(client,"google-payment.parseResponse.succeeded"),parsedResponse.paypalAccounts?(payload=parsedResponse.paypalAccounts[0],analytics.sendEvent(client,"google-payment.parseResponse.succeeded.paypal"),Promise.resolve({nonce:payload.nonce,type:payload.type,description:payload.description})):(payload=parsedResponse.androidPayCards[0],analytics.sendEvent(client,"google-payment.parseResponse.succeeded.google-payment"),Promise.resolve({nonce:payload.nonce,type:payload.type,description:payload.description,details:{cardType:payload.details.cardType,lastFour:payload.details.lastFour,lastTwo:payload.details.lastTwo,isNetworkTokenized:payload.details.isNetworkTokenized},binData:payload.binData})))}))["catch"]((function(error){return analytics.sendEvent(client,"google-payment.parseResponse.failed"),Promise.reject(new BraintreeError({code:errors.GOOGLE_PAYMENT_GATEWAY_ERROR.code,message:errors.GOOGLE_PAYMENT_GATEWAY_ERROR.message,type:errors.GOOGLE_PAYMENT_GATEWAY_ERROR.type,details:{originalError:error}}))}))},GooglePayment.prototype.teardown=function(){return convertMethodsToError(this,methods(GooglePayment.prototype)),Promise.resolve()},module.exports=wrapPromise.wrapPrototype(GooglePayment)},{"../lib/analytics":93,"../lib/assign":95,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/find":113,"../lib/generate-google-pay-configuration":125,"../lib/methods":130,"../lib/promise":132,"./errors":75,"@braintree/wrap-promise":30}],77:[function(_dereq_,module,exports){"use strict";var basicComponentVerification=_dereq_("../lib/basic-component-verification"),BraintreeError=_dereq_("../lib/braintree-error"),errors=_dereq_("./errors"),GooglePayment=_dereq_("./google-payment"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise");module.exports={create:wrapPromise((function(options){return basicComponentVerification.verify({name:"Google Pay",client:options.client,authorization:options.authorization}).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:"Google Pay"})})).then((function(client){return options.client=client,options.client.getConfiguration().gatewayConfiguration.androidPay?new GooglePayment(options)._initialize():Promise.reject(new BraintreeError(errors.GOOGLE_PAYMENT_NOT_ENABLED))}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./errors":75,"./google-payment":76,"@braintree/wrap-promise":30}],78:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../../lib/braintree-error"),errors=_dereq_("../shared/errors"),allowedAttributes=_dereq_("../shared/constants").allowedAttributes;module.exports=function(attribute,value){var err;return allowedAttributes.hasOwnProperty(attribute)?null==value||function(attribute,value){return"string"===allowedAttributes[attribute]?"string"==typeof value||"number"==typeof value:"boolean"===allowedAttributes[attribute]&&("true"===String(value)||"false"===String(value))}(attribute,value)||(err=new BraintreeError({type:errors.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.type,code:errors.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.code,message:'Value "'+value+'" is not allowed for "'+attribute+'" attribute.'})):err=new BraintreeError({type:errors.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.type,code:errors.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.code,message:'The "'+attribute+'" attribute is not supported in Hosted Fields.'}),err}},{"../../lib/braintree-error":98,"../shared/constants":86,"../shared/errors":87}],79:[function(_dereq_,module,exports){"use strict";var constants=_dereq_("../shared/constants"),useMin=_dereq_("../../lib/use-min");module.exports=function(assetsUrl,componentId,isDebug){return assetsUrl+"/web/"+constants.VERSION+"/html/hosted-fields-frame"+useMin(isDebug)+".html#"+componentId}},{"../../lib/use-min":134,"../shared/constants":86}],80:[function(_dereq_,module,exports){"use strict";var directions=_dereq_("../shared/constants").navigationDirections,browserDetection=_dereq_("../shared/browser-detection"),focusIntercept=_dereq_("../shared/focus-intercept"),findParentTags=_dereq_("../shared/find-parent-tags"),userFocusableTagNames=["INPUT","SELECT","TEXTAREA"],unfocusedInputTypes=["hidden","button","reset","submit","checkbox","radio","file"];function _isUserFocusableElement(element){return browserDetection.hasSoftwareKeyboard()?userFocusableTagNames.indexOf(element.tagName)>-1&&unfocusedInputTypes.indexOf(element.type)<0:"hidden"!==element.type}function _findFirstFocusableElement(elementsInForm){var elementsIndex,element;for(elementsIndex=0;elementsIndex<elementsInForm.length;elementsIndex++)if(_isUserFocusableElement(element=elementsInForm[elementsIndex]))return element;return null}module.exports={removeExtraFocusElements:function(checkoutForm,onRemoveFocusIntercepts){var elements=Array.prototype.slice.call(checkoutForm.elements);[_findFirstFocusableElement(elements),_findFirstFocusableElement(elements.reverse())].forEach((function(input){input&&focusIntercept.matchFocusElement(input.getAttribute("id"))&&onRemoveFocusIntercepts(input.getAttribute("id"))}))},createFocusChangeHandler:function(callbacks){return function(type,direction){var currentIndex,targetElement,checkoutForm,navHelper,sourceElement=document.getElementById("bt-"+type+"-"+direction);if(sourceElement)if(checkoutForm=findParentTags(sourceElement,"form")[0],document.forms.length<1||!checkoutForm)callbacks.onRemoveFocusIntercepts();else{currentIndex=(checkoutForm=[].slice.call(checkoutForm.elements)).indexOf(sourceElement),navHelper=function(direction,numberOfElementsInForm){switch(direction){case directions.BACK:return{checkIndexBounds:function(index){return index<0},indexChange:-1};case directions.FORWARD:return{checkIndexBounds:function(index){return index>numberOfElementsInForm-1},indexChange:1}}return{}}(direction,checkoutForm.length);do{if(currentIndex+=navHelper.indexChange,navHelper.checkIndexBounds(currentIndex))return;targetElement=checkoutForm[currentIndex]}while(!_isUserFocusableElement(targetElement));focusIntercept.matchFocusElement(targetElement.getAttribute("id"))?callbacks.onTriggerInputFocus(targetElement.getAttribute("data-braintree-type")):targetElement.focus()}}}}},{"../shared/browser-detection":85,"../shared/constants":86,"../shared/find-parent-tags":88,"../shared/focus-intercept":89}],81:[function(_dereq_,module,exports){"use strict";var allowedStyles=_dereq_("../shared/constants").allowedStyles;module.exports=function(cssClass){var computedStyles,element=document.createElement("input"),styles={};return"."===cssClass[0]&&(cssClass=cssClass.substring(1)),element.className=cssClass,element.style.display="none !important",element.style.position="fixed !important",element.style.left="-99999px !important",element.style.top="-99999px !important",document.body.appendChild(element),computedStyles=window.getComputedStyle(element),allowedStyles.forEach((function(style){var value=computedStyles[style];value&&(styles[style]=value)})),document.body.removeChild(element),styles}},{"../shared/constants":86}],82:[function(_dereq_,module,exports){(function(global){"use strict";var assign=_dereq_("../../lib/assign").assign,createAssetsUrl=_dereq_("../../lib/create-assets-url"),Destructor=_dereq_("../../lib/destructor"),classList=_dereq_("@braintree/class-list"),iFramer=_dereq_("@braintree/iframer"),Bus=_dereq_("../../lib/bus"),createDeferredClient=_dereq_("../../lib/create-deferred-client"),BraintreeError=_dereq_("../../lib/braintree-error"),composeUrl=_dereq_("./compose-url"),getStylesFromClass=_dereq_("./get-styles-from-class"),constants=_dereq_("../shared/constants"),errors=_dereq_("../shared/errors"),INTEGRATION_TIMEOUT_MS=_dereq_("../../lib/constants").INTEGRATION_TIMEOUT_MS,uuid=_dereq_("../../lib/vendor/uuid"),findParentTags=_dereq_("../shared/find-parent-tags"),browserDetection=_dereq_("../shared/browser-detection"),events=constants.events,EventEmitter=_dereq_("@braintree/event-emitter"),injectFrame=_dereq_("./inject-frame"),analytics=_dereq_("../../lib/analytics"),allowedFields=constants.allowedFields,methods=_dereq_("../../lib/methods"),convertMethodsToError=_dereq_("../../lib/convert-methods-to-error"),sharedErrors=_dereq_("../../lib/errors"),getCardTypes=_dereq_("../shared/get-card-types"),attributeValidationError=_dereq_("./attribute-validation-error"),Promise=_dereq_("../../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise"),focusChange=_dereq_("./focus-change"),destroyFocusIntercept=_dereq_("../shared/focus-intercept").destroy;function createInputEventHandler(fields){return function(eventData){var field,merchantPayload=eventData.merchantPayload,emittedBy=merchantPayload.emittedBy,container=fields[emittedBy].containerElement;Object.keys(merchantPayload.fields).forEach((function(key){merchantPayload.fields[key].container=fields[key].containerElement})),field=merchantPayload.fields[emittedBy],"blur"===eventData.type&&function(container){var hiddenInput;browserDetection.isIos()&&document.activeElement===document.body&&((hiddenInput=container.querySelector("input"))||((hiddenInput=document.createElement("input")).type="button",hiddenInput.style.height="0px",hiddenInput.style.width="0px",hiddenInput.style.opacity="0",hiddenInput.style.padding="0",hiddenInput.style.position="absolute",hiddenInput.style.left="-200%",hiddenInput.style.top="0px",container.insertBefore(hiddenInput,container.firstChild)),hiddenInput.focus(),hiddenInput.blur())}(container),classList.toggle(container,constants.externalClasses.FOCUSED,field.isFocused),classList.toggle(container,constants.externalClasses.VALID,field.isValid),classList.toggle(container,constants.externalClasses.INVALID,!field.isPotentiallyValid),this._state={cards:merchantPayload.cards,fields:merchantPayload.fields},this._emit(eventData.type,merchantPayload)}}function HostedFields(options){var failureTimeout,clientConfig,assetsUrl,isDebug,hostedFieldsUrl,self=this,fields={},frameReadyPromiseResolveFunctions={},frameReadyPromises=[],componentId=uuid();if(this._merchantConfigurationOptions=assign({},options),options.client?(assetsUrl=(clientConfig=options.client.getConfiguration()).gatewayConfiguration.assetsUrl,isDebug=clientConfig.isDebug):(assetsUrl=createAssetsUrl.create(options.authorization),isDebug=Boolean(options.isDebug)),this._clientPromise=createDeferredClient.create({client:options.client,authorization:options.authorization,debug:isDebug,assetsUrl:assetsUrl,name:"Hosted Fields"}),hostedFieldsUrl=composeUrl(assetsUrl,componentId,isDebug),!options.fields||0===Object.keys(options.fields).length)throw new BraintreeError({type:sharedErrors.INSTANTIATION_OPTION_REQUIRED.type,code:sharedErrors.INSTANTIATION_OPTION_REQUIRED.code,message:"options.fields is required when instantiating Hosted Fields."});EventEmitter.call(this),this._injectedNodes=[],this._destructor=new Destructor,this._fields=fields,this._state={fields:{},cards:getCardTypes("")},this._bus=new Bus({channel:componentId,merchantUrl:location.href}),this._destructor.registerFunctionForTeardown((function(){self._bus.teardown()})),options.client?analytics.sendEvent(this._clientPromise,"custom.hosted-fields.initialized"):analytics.sendEvent(this._clientPromise,"custom.hosted-fields.initialized.deferred-client"),Object.keys(options.fields).forEach(function(key){var field,container,frame,frameReadyPromise;if(!constants.allowedFields.hasOwnProperty(key))throw new BraintreeError({type:errors.HOSTED_FIELDS_INVALID_FIELD_KEY.type,code:errors.HOSTED_FIELDS_INVALID_FIELD_KEY.code,message:'"'+key+'" is not a valid field.'});if("string"==typeof(container=(field=options.fields[key]).container||field.selector)&&(container=document.querySelector(container)),!container||1!==container.nodeType)throw new BraintreeError({type:errors.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.type,code:errors.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.code,message:errors.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.message,details:{fieldSelector:field.selector,fieldContainer:field.container,fieldKey:key}});if(container.querySelector('iframe[name^="braintree-"]'))throw new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.type,code:errors.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.code,message:errors.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.message,details:{fieldSelector:field.selector,fieldContainer:field.container,fieldKey:key}});if(field.maxlength&&"number"!=typeof field.maxlength)throw new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for maxlength must be a number.",details:{fieldKey:key}});if(field.minlength&&"number"!=typeof field.minlength)throw new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for minlength must be a number.",details:{fieldKey:key}});frame=iFramer({type:key,name:"braintree-hosted-field-"+key,style:constants.defaultIFrameStyle,title:"Secure Credit Card Frame - "+constants.allowedFields[key].label}),this._injectedNodes.push.apply(this._injectedNodes,injectFrame(frame,container,(function(){self._bus.emit(events.TRIGGER_INPUT_FOCUS,key)}))),this._setupLabelFocus(key,container),fields[key]={frameElement:frame,containerElement:container},frameReadyPromise=new Promise((function(resolve){frameReadyPromiseResolveFunctions[key]=resolve})),frameReadyPromises.push(frameReadyPromise),this._state.fields[key]={isEmpty:!0,isValid:!1,isPotentiallyValid:!0,isFocused:!1,container:container},setTimeout((function(){browserDetection.isIE()||browserDetection.isEdge()?(frame.src="about:blank",setTimeout((function(){frame.src=hostedFieldsUrl}),0)):frame.src=hostedFieldsUrl}),0)}.bind(this)),this._merchantConfigurationOptions.styles&&Object.keys(this._merchantConfigurationOptions.styles).forEach((function(selector){var className=self._merchantConfigurationOptions.styles[selector];"string"==typeof className&&(self._merchantConfigurationOptions.styles[selector]=getStylesFromClass(className))})),this._bus.on(events.REMOVE_FOCUS_INTERCEPTS,destroyFocusIntercept),this._bus.on(events.TRIGGER_FOCUS_CHANGE,focusChange.createFocusChangeHandler({onRemoveFocusIntercepts:function(element){self._bus.emit(events.REMOVE_FOCUS_INTERCEPTS,element)},onTriggerInputFocus:function(targetType){self._bus.emit(events.TRIGGER_INPUT_FOCUS,targetType)}})),this._bus.on(events.READY_FOR_CLIENT,(function(reply){self._clientPromise.then((function(client){reply(client)}))})),this._bus.on(events.CARD_FORM_ENTRY_HAS_BEGUN,(function(){analytics.sendEvent(self._clientPromise,"hosted-fields.input.started")})),this._bus.on(events.BIN_AVAILABLE,(function(bin){self._emit("binAvailable",{bin:bin})})),failureTimeout=setTimeout((function(){analytics.sendEvent(self._clientPromise,"custom.hosted-fields.load.timed-out"),self._emit("timeout")}),INTEGRATION_TIMEOUT_MS),Promise.all(frameReadyPromises).then((function(results){var config,formattedConfig,reply=results[0];clearTimeout(failureTimeout),reply((config=self._merchantConfigurationOptions,(formattedConfig=assign({},config)).fields=assign({},formattedConfig.fields),Object.keys(formattedConfig.fields).forEach((function(field){formattedConfig.fields[field]=assign({},formattedConfig.fields[field]),delete formattedConfig.fields[field].container})),formattedConfig)),self._cleanUpFocusIntercepts(),self._emit("ready")})),this._bus.on(events.FRAME_READY,(function(data,reply){frameReadyPromiseResolveFunctions[data.field](reply)})),this._bus.on(events.INPUT_EVENT,createInputEventHandler(fields).bind(this)),browserDetection.isIos()&&this._bus.on(events.TRIGGER_INPUT_FOCUS,(function(fieldName){var container=fields[fieldName].containerElement;setTimeout((function(){var boundingBox,verticalMidpoint,horizontalMidpoint;boundingBox=container.getBoundingClientRect(),verticalMidpoint=Math.floor(boundingBox.height/2),horizontalMidpoint=Math.floor(boundingBox.width/2),boundingBox.top<(global.innerHeight-verticalMidpoint||document.documentElement.clientHeight-verticalMidpoint)&&boundingBox.right>horizontalMidpoint&&boundingBox.bottom>verticalMidpoint&&boundingBox.left<(global.innerWidth-horizontalMidpoint||document.documentElement.clientWidth-horizontalMidpoint)||container.scrollIntoView()}),5)})),this._destructor.registerFunctionForTeardown((function(){var j,node,parent;for(j=0;j<self._injectedNodes.length;j++)(parent=(node=self._injectedNodes[j]).parentNode).removeChild(node),classList.remove(parent,constants.externalClasses.FOCUSED,constants.externalClasses.INVALID,constants.externalClasses.VALID)})),this._destructor.registerFunctionForTeardown((function(){destroyFocusIntercept()})),this._destructor.registerFunctionForTeardown((function(){var methodNames=methods(HostedFields.prototype).concat(methods(EventEmitter.prototype));convertMethodsToError(self,methodNames)}))}EventEmitter.createChild(HostedFields),HostedFields.prototype._setupLabelFocus=function(type,container){var labels,i,shouldSkipLabelFocus=browserDetection.isIos(),bus=this._bus;if(!shouldSkipLabelFocus&&null!=container.id){for(labels=(labels=Array.prototype.slice.call(document.querySelectorAll('label[for="'+container.id+'"]'))).concat(findParentTags(container,"label")),i=0;i<labels.length;i++)labels[i].addEventListener("click",triggerFocus,!1);this._destructor.registerFunctionForTeardown((function(){for(i=0;i<labels.length;i++)labels[i].removeEventListener("click",triggerFocus,!1)}))}function triggerFocus(){bus.emit(events.TRIGGER_INPUT_FOCUS,type)}},HostedFields.prototype._getAnyFieldContainer=function(){var self=this;return Object.keys(this._fields).reduce((function(found,field){return found||self._fields[field].containerElement}),null)},HostedFields.prototype._cleanUpFocusIntercepts=function(){var iframeContainer,checkoutForm;document.forms.length<1?this._bus.emit(events.REMOVE_FOCUS_INTERCEPTS):(iframeContainer=this._getAnyFieldContainer(),(checkoutForm=findParentTags(iframeContainer,"form")[0])?focusChange.removeExtraFocusElements(checkoutForm,function(id){this._bus.emit(events.REMOVE_FOCUS_INTERCEPTS,id)}.bind(this)):this._bus.emit(events.REMOVE_FOCUS_INTERCEPTS))},HostedFields.prototype._attachInvalidFieldContainersToError=function(err){err.details&&err.details.invalidFieldKeys&&err.details.invalidFieldKeys.length>0&&(err.details.invalidFields={},err.details.invalidFieldKeys.forEach(function(field){err.details.invalidFields[field]=this._fields[field].containerElement}.bind(this)))},HostedFields.prototype.teardown=function(){var self=this;return new Promise((function(resolve,reject){self._destructor.teardown((function(err){analytics.sendEvent(self._clientPromise,"custom.hosted-fields.teardown-completed"),err?reject(err):resolve()}))}))},HostedFields.prototype.tokenize=function(options){var self=this;return options||(options={}),new Promise((function(resolve,reject){self._bus.emit(events.TOKENIZATION_REQUEST,options,(function(response){var err=response[0],payload=response[1];err?(self._attachInvalidFieldContainersToError(err),reject(new BraintreeError(err))):resolve(payload)}))}))},HostedFields.prototype.addClass=function(field,classname){var err;return allowedFields.hasOwnProperty(field)?this._fields.hasOwnProperty(field)?this._bus.emit(events.ADD_CLASS,field,classname):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot add class to "'+field+'" field because it is not part of the current Hosted Fields options.'}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+field+'" is not a valid field. You must use a valid field option when adding a class.'}),err?Promise.reject(err):Promise.resolve()},HostedFields.prototype.removeClass=function(field,classname){var err;return allowedFields.hasOwnProperty(field)?this._fields.hasOwnProperty(field)?this._bus.emit(events.REMOVE_CLASS,field,classname):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove class from "'+field+'" field because it is not part of the current Hosted Fields options.'}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+field+'" is not a valid field. You must use a valid field option when removing a class.'}),err?Promise.reject(err):Promise.resolve()},HostedFields.prototype.setAttribute=function(options){var attributeErr,err;return allowedFields.hasOwnProperty(options.field)?this._fields.hasOwnProperty(options.field)?(attributeErr=attributeValidationError(options.attribute,options.value))?err=attributeErr:this._bus.emit(events.SET_ATTRIBUTE,options.field,options.attribute,options.value):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot set attribute for "'+options.field+'" field because it is not part of the current Hosted Fields options.'}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+options.field+'" is not a valid field. You must use a valid field option when setting an attribute.'}),err?Promise.reject(err):Promise.resolve()},HostedFields.prototype.setMonthOptions=function(options){var errorMessage,self=this,merchantOptions=this._merchantConfigurationOptions.fields;return merchantOptions.expirationMonth?merchantOptions.expirationMonth.select||(errorMessage="Expiration month field must be a select element."):errorMessage="Expiration month field must exist to use setMonthOptions.",errorMessage?Promise.reject(new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:errorMessage})):new Promise((function(resolve){self._bus.emit(events.SET_MONTH_OPTIONS,options,resolve)}))},HostedFields.prototype.setMessage=function(options){this._bus.emit(events.SET_MESSAGE,options.field,options.message)},HostedFields.prototype.removeAttribute=function(options){var attributeErr,err;return allowedFields.hasOwnProperty(options.field)?this._fields.hasOwnProperty(options.field)?(attributeErr=attributeValidationError(options.attribute))?err=attributeErr:this._bus.emit(events.REMOVE_ATTRIBUTE,options.field,options.attribute):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove attribute for "'+options.field+'" field because it is not part of the current Hosted Fields options.'}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+options.field+'" is not a valid field. You must use a valid field option when removing an attribute.'}),err?Promise.reject(err):Promise.resolve()},HostedFields.prototype.setPlaceholder=function(field,placeholder){return this.setAttribute({field:field,attribute:"placeholder",value:placeholder})},HostedFields.prototype.clear=function(field){var err;return allowedFields.hasOwnProperty(field)?this._fields.hasOwnProperty(field)?this._bus.emit(events.CLEAR_FIELD,field):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot clear "'+field+'" field because it is not part of the current Hosted Fields options.'}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+field+'" is not a valid field. You must use a valid field option when clearing a field.'}),err?Promise.reject(err):Promise.resolve()},HostedFields.prototype.focus=function(field){var err;return allowedFields.hasOwnProperty(field)?this._fields.hasOwnProperty(field)?this._bus.emit(events.TRIGGER_INPUT_FOCUS,field):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:errors.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot focus "'+field+'" field because it is not part of the current Hosted Fields options.'}):err=new BraintreeError({type:errors.HOSTED_FIELDS_FIELD_INVALID.type,code:errors.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+field+'" is not a valid field. You must use a valid field option when focusing a field.'}),err?Promise.reject(err):Promise.resolve()},HostedFields.prototype.getState=function(){return this._state},module.exports=wrapPromise.wrapPrototype(HostedFields)}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":93,"../../lib/assign":95,"../../lib/braintree-error":98,"../../lib/bus":101,"../../lib/constants":103,"../../lib/convert-methods-to-error":104,"../../lib/create-assets-url":106,"../../lib/create-deferred-client":108,"../../lib/destructor":110,"../../lib/errors":112,"../../lib/methods":130,"../../lib/promise":132,"../../lib/vendor/uuid":136,"../shared/browser-detection":85,"../shared/constants":86,"../shared/errors":87,"../shared/find-parent-tags":88,"../shared/focus-intercept":89,"../shared/get-card-types":90,"./attribute-validation-error":78,"./compose-url":79,"./focus-change":80,"./get-styles-from-class":81,"./inject-frame":83,"@braintree/class-list":20,"@braintree/event-emitter":21,"@braintree/iframer":23,"@braintree/wrap-promise":30}],83:[function(_dereq_,module,exports){"use strict";var focusIntercept=_dereq_("../shared/focus-intercept"),directions=_dereq_("../shared/constants").navigationDirections;module.exports=function(frame,container,focusHandler){var frameType=frame.getAttribute("type"),clearboth=document.createElement("div"),fragment=document.createDocumentFragment(),focusInterceptBefore=focusIntercept.generate(frameType,directions.BACK,focusHandler),focusInterceptAfter=focusIntercept.generate(frameType,directions.FORWARD,focusHandler);return clearboth.style.clear="both",fragment.appendChild(focusInterceptBefore),fragment.appendChild(frame),fragment.appendChild(focusInterceptAfter),fragment.appendChild(clearboth),container.appendChild(fragment),[frame,clearboth]}},{"../shared/constants":86,"../shared/focus-intercept":89}],84:[function(_dereq_,module,exports){"use strict";var HostedFields=_dereq_("./external/hosted-fields"),basicComponentVerification=_dereq_("../lib/basic-component-verification"),errors=_dereq_("./shared/errors"),supportsInputFormatting=_dereq_("restricted-input/supports-input-formatting"),wrapPromise=_dereq_("@braintree/wrap-promise"),BraintreeError=_dereq_("../lib/braintree-error"),Promise=_dereq_("../lib/promise");module.exports={supportsInputFormatting:supportsInputFormatting,create:wrapPromise((function(options){return basicComponentVerification.verify({name:"Hosted Fields",authorization:options.authorization,client:options.client}).then((function(){var integration=new HostedFields(options);return new Promise((function(resolve,reject){integration.on("ready",(function(){resolve(integration)})),integration.on("timeout",(function(){reject(new BraintreeError(errors.HOSTED_FIELDS_TIMEOUT))}))}))}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/promise":132,"./external/hosted-fields":82,"./shared/errors":87,"@braintree/wrap-promise":30,"restricted-input/supports-input-formatting":41}],85:[function(_dereq_,module,exports){"use strict";var isAndroid=_dereq_("@braintree/browser-detection/is-android"),isChromeOS=_dereq_("@braintree/browser-detection/is-chrome-os"),isIos=_dereq_("@braintree/browser-detection/is-ios");module.exports={isIE:_dereq_("@braintree/browser-detection/is-ie"),isEdge:_dereq_("@braintree/browser-detection/is-edge"),isIe9:_dereq_("@braintree/browser-detection/is-ie9"),isIe10:_dereq_("@braintree/browser-detection/is-ie10"),isAndroid:isAndroid,isChromeOS:isChromeOS,isFirefox:_dereq_("@braintree/browser-detection/is-firefox"),isIos:isIos,isIosWebview:_dereq_("@braintree/browser-detection/is-ios-webview"),hasSoftwareKeyboard:function(){return isAndroid()||isChromeOS()||isIos()}}},{"@braintree/browser-detection/is-android":3,"@braintree/browser-detection/is-chrome-os":4,"@braintree/browser-detection/is-edge":6,"@braintree/browser-detection/is-firefox":7,"@braintree/browser-detection/is-ie":8,"@braintree/browser-detection/is-ie10":9,"@braintree/browser-detection/is-ie9":11,"@braintree/browser-detection/is-ios":16,"@braintree/browser-detection/is-ios-webview":14}],86:[function(_dereq_,module,exports){"use strict";var enumerate=_dereq_("../../lib/enumerate"),errors=_dereq_("./errors"),constants={VERSION:"3.58.0",maxExpirationYearAge:19,externalEvents:{FOCUS:"focus",BLUR:"blur",EMPTY:"empty",NOT_EMPTY:"notEmpty",VALIDITY_CHANGE:"validityChange",CARD_TYPE_CHANGE:"cardTypeChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},navigationDirections:{BACK:"before",FORWARD:"after"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%",float:"left"},tokenizationErrorCodes:{81724:errors.HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE,81736:errors.HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED},allowedStyles:["-moz-appearance","-moz-osx-font-smoothing","-moz-tap-highlight-color","-moz-transition","-webkit-appearance","-webkit-font-smoothing","-webkit-tap-highlight-color","-webkit-transition","appearance","color","direction","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","letter-spacing","line-height","margin","opacity","outline","padding","text-shadow","transition"],allowedFields:{number:{name:"credit-card-number",label:"Credit Card Number"},cvv:{name:"cvv",label:"CVV"},expirationDate:{name:"expiration",label:"Expiration Date"},expirationMonth:{name:"expiration-month",label:"Expiration Month"},expirationYear:{name:"expiration-year",label:"Expiration Year"},postalCode:{name:"postal-code",label:"Postal Code"}},allowedAttributes:{"aria-invalid":"boolean","aria-required":"boolean",disabled:"boolean",placeholder:"string"},autocompleteMappings:{"credit-card-number":"cc-number",expiration:"cc-exp","expiration-month":"cc-exp-month","expiration-year":"cc-exp-year",cvv:"cc-csc","postal-code":"billing postal-code"}};constants.events=enumerate(["ADD_CLASS","AUTOFILL_EXPIRATION_DATE","BIN_AVAILABLE","CARD_FORM_ENTRY_HAS_BEGUN","CLEAR_FIELD","CONFIGURATION","FRAME_READY","INPUT_EVENT","READY_FOR_CLIENT","REMOVE_ATTRIBUTE","REMOVE_CLASS","REMOVE_FOCUS_INTERCEPTS","SET_ATTRIBUTE","SET_MESSAGE","SET_MONTH_OPTIONS","TOKENIZATION_REQUEST","TRIGGER_FOCUS_CHANGE","TRIGGER_INPUT_FOCUS","VALIDATE_STRICT"],"hosted-fields:"),module.exports=constants},{"../../lib/enumerate":111,"./errors":87}],87:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../../lib/braintree-error");module.exports={HOSTED_FIELDS_TIMEOUT:{type:BraintreeError.types.UNKNOWN,code:"HOSTED_FIELDS_TIMEOUT",message:"Hosted Fields timed out when attempting to set up."},HOSTED_FIELDS_INVALID_FIELD_KEY:{type:BraintreeError.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_KEY"},HOSTED_FIELDS_INVALID_FIELD_SELECTOR:{type:BraintreeError.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_SELECTOR",message:"Selector does not reference a valid DOM node."},HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME:{type:BraintreeError.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME",message:"Element already contains a Braintree iframe."},HOSTED_FIELDS_FIELD_INVALID:{type:BraintreeError.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_INVALID"},HOSTED_FIELDS_FIELD_NOT_PRESENT:{type:BraintreeError.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_NOT_PRESENT"},HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR:{type:BraintreeError.types.NETWORK,code:"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE:{type:BraintreeError.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE",message:"This credit card already exists in the merchant's vault."},HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED:{type:BraintreeError.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED",message:"CVV verification failed during tokenization."},HOSTED_FIELDS_FAILED_TOKENIZATION:{type:BraintreeError.types.CUSTOMER,code:"HOSTED_FIELDS_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."},HOSTED_FIELDS_FIELDS_EMPTY:{type:BraintreeError.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_EMPTY",message:"All fields are empty. Cannot tokenize empty card fields."},HOSTED_FIELDS_FIELDS_INVALID:{type:BraintreeError.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_INVALID",message:"Some payment input fields are invalid. Cannot tokenize invalid card fields."},HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED:{type:BraintreeError.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED"},HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED:{type:BraintreeError.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED"},HOSTED_FIELDS_FIELD_PROPERTY_INVALID:{type:BraintreeError.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_PROPERTY_INVALID"}}},{"../../lib/braintree-error":98}],88:[function(_dereq_,module,exports){"use strict";module.exports=function(element,tag){for(var parent=element.parentNode,parents=[];null!=parent;)null!=parent.tagName&&parent.tagName.toLowerCase()===tag&&parents.push(parent),parent=parent.parentNode;return parents}},{}],89:[function(_dereq_,module,exports){"use strict";var browserDetection=_dereq_("./browser-detection"),classList=_dereq_("@braintree/class-list"),constants=_dereq_("./constants"),allowedFields=Object.keys(constants.allowedFields),directions=constants.navigationDirections,focusIntercept={generate:function(type,direction,handler){var input=document.createElement("input");return browserDetection.hasSoftwareKeyboard()||browserDetection.isFirefox()||browserDetection.isIE()?(input.setAttribute("aria-hidden","true"),input.setAttribute("autocomplete","off"),input.setAttribute("data-braintree-direction",direction),input.setAttribute("data-braintree-type",type),input.setAttribute("id","bt-"+type+"-"+direction),input.setAttribute("style",JSON.stringify({border:"none !important",display:"block !important",height:"1px !important",left:"-1px !important",opacity:"0 !important",position:"absolute !important",top:"-1px !important",width:"1px !important"}).replace(/[{}"]/g,"").replace(/,/g,";")),classList.add(input,"focus-intercept"),input.addEventListener("focus",(function(event){handler(event),browserDetection.hasSoftwareKeyboard()||input.blur()})),input):document.createDocumentFragment()},destroy:function(idString){var focusInputs;idString?focusInputs=[document.getElementById(idString)]:(focusInputs=document.querySelectorAll("[data-braintree-direction]"),focusInputs=[].slice.call(focusInputs)),focusInputs.forEach((function(node){node&&1===node.nodeType&&focusIntercept.matchFocusElement(node.getAttribute("id"))&&node.parentNode.removeChild(node)}))},matchFocusElement:function(idString){var idComponents,hasBTPrefix,isAllowedType,isValidDirection;return!!idString&&3===(idComponents=idString.split("-")).length&&(hasBTPrefix="bt"===idComponents[0],isAllowedType=allowedFields.indexOf(idComponents[1])>-1,isValidDirection=idComponents[2]===directions.BACK||idComponents[2]===directions.FORWARD,Boolean(hasBTPrefix&&isAllowedType&&isValidDirection))}};module.exports=focusIntercept},{"./browser-detection":85,"./constants":86,"@braintree/class-list":20}],90:[function(_dereq_,module,exports){"use strict";var creditCardType=_dereq_("credit-card-type");module.exports=function(number){var results=creditCardType(number);return results.forEach((function(card){"mastercard"===card.type&&(card.type="master-card")})),results}},{"credit-card-type":31}],91:[function(_dereq_,module,exports){"use strict";var americanExpress=_dereq_("./american-express"),applePay=_dereq_("./apple-pay"),client=_dereq_("./client"),dataCollector=_dereq_("./data-collector"),hostedFields=_dereq_("./hosted-fields"),localPayment=_dereq_("./local-payment"),masterpass=_dereq_("./masterpass"),paymentRequest=_dereq_("./payment-request"),paypal=_dereq_("./paypal"),paypalCheckout=_dereq_("./paypal-checkout"),googlePayment=_dereq_("./google-payment"),threeDSecure=_dereq_("./three-d-secure"),unionpay=_dereq_("./unionpay"),usBankAccount=_dereq_("./us-bank-account"),vaultManager=_dereq_("./vault-manager"),venmo=_dereq_("./venmo"),visaCheckout=_dereq_("./visa-checkout"),preferredPaymentMethods=_dereq_("./preferred-payment-methods");module.exports={americanExpress:americanExpress,applePay:applePay,client:client,dataCollector:dataCollector,hostedFields:hostedFields,localPayment:localPayment,masterpass:masterpass,googlePayment:googlePayment,paymentRequest:paymentRequest,paypal:paypal,paypalCheckout:paypalCheckout,threeDSecure:threeDSecure,unionpay:unionpay,usBankAccount:usBankAccount,vaultManager:vaultManager,venmo:venmo,visaCheckout:visaCheckout,preferredPaymentMethods:preferredPaymentMethods,VERSION:"3.58.0"}},{"./american-express":44,"./apple-pay":47,"./client":53,"./data-collector":72,"./google-payment":77,"./hosted-fields":84,"./local-payment":139,"./masterpass":142,"./payment-request":147,"./paypal":154,"./paypal-checkout":151,"./preferred-payment-methods":157,"./three-d-secure":167,"./unionpay":171,"./us-bank-account":177,"./vault-manager":180,"./venmo":182,"./visa-checkout":189}],92:[function(_dereq_,module,exports){"use strict";var createAuthorizationData=_dereq_("./create-authorization-data"),jsonClone=_dereq_("./json-clone"),constants=_dereq_("./constants");module.exports=function(configuration,data){var key,attrs=data?jsonClone(data):{},authAttrs=createAuthorizationData(configuration.authorization).attrs,_meta=jsonClone(configuration.analyticsMetadata);for(key in attrs.braintreeLibraryVersion=constants.BRAINTREE_LIBRARY_VERSION,attrs._meta)attrs._meta.hasOwnProperty(key)&&(_meta[key]=attrs._meta[key]);return attrs._meta=_meta,authAttrs.tokenizationKey?attrs.tokenizationKey=authAttrs.tokenizationKey:attrs.authorizationFingerprint=authAttrs.authorizationFingerprint,attrs}},{"./constants":103,"./create-authorization-data":107,"./json-clone":129}],93:[function(_dereq_,module,exports){"use strict";var Promise=_dereq_("./promise"),constants=_dereq_("./constants"),addMetadata=_dereq_("./add-metadata");module.exports={sendEvent:function(clientInstanceOrPromise,kind,callback){var timestamp=Date.now();return Promise.resolve(clientInstanceOrPromise).then((function(client){var timestampInPromise=Date.now(),configuration=client.getConfiguration(),request=client._request,url=configuration.gatewayConfiguration.analytics.url,data={analytics:[{kind:constants.ANALYTICS_PREFIX+kind,isAsync:Math.floor(timestampInPromise/1e3)!==Math.floor(timestamp/1e3),timestamp:timestamp}]};request({url:url,method:"post",data:addMetadata(configuration,data),timeout:constants.ANALYTICS_REQUEST_TIMEOUT_MS},callback)}))}}},{"./add-metadata":92,"./constants":103,"./promise":132}],94:[function(_dereq_,module,exports){"use strict";var loadScript=_dereq_("@braintree/asset-loader/load-script");module.exports={loadScript:loadScript}},{"@braintree/asset-loader/load-script":2}],95:[function(_dereq_,module,exports){"use strict";var assignNormalized="function"==typeof Object.assign?Object.assign:assignPolyfill;function assignPolyfill(destination){var i,source,key;for(i=1;i<arguments.length;i++)for(key in source=arguments[i])source.hasOwnProperty(key)&&(destination[key]=source[key]);return destination}module.exports={assign:assignNormalized,_assign:assignPolyfill}},{}],96:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("./braintree-error"),Promise=_dereq_("./promise"),sharedErrors=_dereq_("./errors");module.exports={verify:function(options){var client,authorization,name;return options?(name=options.name,client=options.client,authorization=options.authorization,client||authorization?authorization||"3.58.0"===client.getVersion()?Promise.resolve():Promise.reject(new BraintreeError({type:sharedErrors.INCOMPATIBLE_VERSIONS.type,code:sharedErrors.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+client.getVersion()+") and "+name+" (version 3.58.0) components must be from the same SDK version."})):Promise.reject(new BraintreeError({type:sharedErrors.INSTANTIATION_OPTION_REQUIRED.type,code:sharedErrors.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+name+"."}))):Promise.reject(new BraintreeError({type:sharedErrors.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:sharedErrors.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},{"./braintree-error":98,"./errors":112,"./promise":132}],97:[function(_dereq_,module,exports){"use strict";var once=_dereq_("./once");function call(fn,callback){0===fn.length?(fn(),callback(null)):fn(callback)}module.exports=function(functions,cb){var i,length=functions.length,remaining=length,callback=once(cb);if(0!==length)for(i=0;i<length;i++)call(functions[i],finish);else callback(null);function finish(err){err?callback(err):0==(remaining-=1)&&callback(null)}}},{"./once":131}],98:[function(_dereq_,module,exports){"use strict";var enumerate=_dereq_("./enumerate");function BraintreeError(options){if(!BraintreeError.types.hasOwnProperty(options.type))throw new Error(options.type+" is not a valid type.");if(!options.code)throw new Error("Error code required.");if(!options.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=options.code,this.message=options.message,this.type=options.type,this.details=options.details}BraintreeError.prototype=Object.create(Error.prototype),BraintreeError.prototype.constructor=BraintreeError,BraintreeError.types=enumerate(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),BraintreeError.findRootError=function(err){return err instanceof BraintreeError&&err.details&&err.details.originalError?BraintreeError.findRootError(err.details.originalError):err},module.exports=BraintreeError},{"./enumerate":111}],99:[function(_dereq_,module,exports){"use strict";var isVerifiedDomain=_dereq_("../is-verified-domain");module.exports={checkOrigin:function(postMessageOrigin,merchantUrl){var merchantHost,a=document.createElement("a");return a.href=merchantUrl,merchantHost="https:"===a.protocol?a.host.replace(/:443$/,""):"http:"===a.protocol?a.host.replace(/:80$/,""):a.host,a.protocol+"//"+merchantHost===postMessageOrigin||(a.href=postMessageOrigin,isVerifiedDomain(postMessageOrigin))}}},{"../is-verified-domain":128}],100:[function(_dereq_,module,exports){"use strict";var enumerate=_dereq_("../enumerate");module.exports=enumerate(["CONFIGURATION_REQUEST"],"bus:")},{"../enumerate":111}],101:[function(_dereq_,module,exports){"use strict";var bus=_dereq_("framebus"),events=_dereq_("./events"),checkOrigin=_dereq_("./check-origin").checkOrigin,BraintreeError=_dereq_("../braintree-error");function BraintreeBus(options){if(options=options||{},this.channel=options.channel,!this.channel)throw new BraintreeError({type:BraintreeError.types.INTERNAL,code:"MISSING_CHANNEL_ID",message:"Channel ID must be specified."});this.merchantUrl=options.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}BraintreeBus.prototype.on=function(eventName,originalHandler){var namespacedEvent,args,handler=originalHandler,self=this;this._isDestroyed||(this.merchantUrl&&(handler=function(){checkOrigin(this.origin,self.merchantUrl)&&originalHandler.apply(this,arguments)}),namespacedEvent=this._namespaceEvent(eventName),(args=Array.prototype.slice.call(arguments))[0]=namespacedEvent,args[1]=handler,this._log("on",args),bus.on.apply(bus,args),this._listeners.push({eventName:eventName,handler:handler,originalHandler:originalHandler}))},BraintreeBus.prototype.emit=function(eventName){var args;this._isDestroyed||((args=Array.prototype.slice.call(arguments))[0]=this._namespaceEvent(eventName),this._log("emit",args),bus.emit.apply(bus,args))},BraintreeBus.prototype._offDirect=function(eventName){var args=Array.prototype.slice.call(arguments);this._isDestroyed||(args[0]=this._namespaceEvent(eventName),this._log("off",args),bus.off.apply(bus,args))},BraintreeBus.prototype.off=function(eventName,originalHandler){var i,listener,handler=originalHandler;if(!this._isDestroyed){if(this.merchantUrl)for(i=0;i<this._listeners.length;i++)(listener=this._listeners[i]).originalHandler===originalHandler&&(handler=listener.handler);this._offDirect(eventName,handler)}},BraintreeBus.prototype._namespaceEvent=function(eventName){return["braintree",this.channel,eventName].join(":")},BraintreeBus.prototype.teardown=function(){var listener,i;for(i=0;i<this._listeners.length;i++)listener=this._listeners[i],this._offDirect(listener.eventName,listener.handler);this._listeners.length=0,this._isDestroyed=!0},BraintreeBus.prototype._log=function(functionName,args){this._isVerbose},BraintreeBus.events=events,module.exports=BraintreeBus},{"../braintree-error":98,"./check-origin":99,"./events":100,framebus:38}],102:[function(_dereq_,module,exports){"use strict";module.exports=function(obj){return Object.keys(obj).reduce((function(newObj,key){return newObj[function(key){return key.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}(key)]=obj[key],newObj}),{})}},{}],103:[function(_dereq_,module,exports){"use strict";module.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:"3.58.0",INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/3.58.0"}},{}],104:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("./braintree-error"),sharedErrors=_dereq_("./errors");module.exports=function(instance,methodNames){methodNames.forEach((function(methodName){instance[methodName]=function(){throw new BraintreeError({type:sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.type,code:sharedErrors.METHOD_CALLED_AFTER_TEARDOWN.code,message:methodName+" cannot be called after teardown."})}}))}},{"./braintree-error":98,"./errors":112}],105:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("./braintree-error");module.exports=function(originalErr,btErrorObject){return originalErr instanceof BraintreeError?originalErr:new BraintreeError({type:btErrorObject.type,code:btErrorObject.code,message:btErrorObject.message,details:{originalError:originalErr}})}},{"./braintree-error":98}],106:[function(_dereq_,module,exports){"use strict";var ASSETS_URLS=_dereq_("./constants").ASSETS_URLS;module.exports={create:function(authorization){return ASSETS_URLS.production}}},{"./constants":103}],107:[function(_dereq_,module,exports){"use strict";var atob=_dereq_("../lib/vendor/polyfill").atob,CLIENT_API_URLS=_dereq_("../lib/constants").CLIENT_API_URLS;module.exports=function(authorization){var parsedClientToken,parsedTokenizationKey,tokens,environment,data={attrs:{},configUrl:""};return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(authorization)?(tokens=authorization.split("_"),environment=tokens[0],parsedTokenizationKey={merchantId:tokens.slice(2).join("_"),environment:environment},data.environment=parsedTokenizationKey.environment,data.attrs.tokenizationKey=authorization,data.configUrl=CLIENT_API_URLS[parsedTokenizationKey.environment]+"/merchants/"+parsedTokenizationKey.merchantId+"/client_api/v1/configuration"):(parsedClientToken=JSON.parse(atob(authorization)),data.environment=parsedClientToken.environment,data.attrs.authorizationFingerprint=parsedClientToken.authorizationFingerprint,data.configUrl=parsedClientToken.configUrl,data.graphQL=parsedClientToken.graphQL),data}},{"../lib/constants":103,"../lib/vendor/polyfill":135}],108:[function(_dereq_,module,exports){(function(global){"use strict";var BraintreeError=_dereq_("./braintree-error"),Promise=_dereq_("./promise"),assets=_dereq_("./assets"),sharedErrors=_dereq_("./errors");module.exports={create:function(options){var promise=Promise.resolve();return options.client?Promise.resolve(options.client):(global.braintree&&global.braintree.client||(promise=assets.loadScript({src:options.assetsUrl+"/web/3.58.0/js/client.min.js"})["catch"]((function(err){return Promise.reject(new BraintreeError({type:sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:sharedErrors.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:err}}))}))),promise.then((function(){return"3.58.0"!==global.braintree.client.VERSION?Promise.reject(new BraintreeError({type:sharedErrors.INCOMPATIBLE_VERSIONS.type,code:sharedErrors.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+global.braintree.client.VERSION+") and "+options.name+" (version 3.58.0) components must be from the same SDK version."})):global.braintree.client.create({authorization:options.authorization,debug:options.debug})})))}}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./assets":94,"./braintree-error":98,"./errors":112,"./promise":132}],109:[function(_dereq_,module,exports){"use strict";module.exports=function(fn){return function(){var args=arguments;setTimeout((function(){fn.apply(null,args)}),1)}}},{}],110:[function(_dereq_,module,exports){"use strict";var batchExecuteFunctions=_dereq_("./batch-execute-functions");function Destructor(){this._teardownRegistry=[],this._isTearingDown=!1}Destructor.prototype.registerFunctionForTeardown=function(fn){"function"==typeof fn&&this._teardownRegistry.push(fn)},Destructor.prototype.teardown=function(callback){this._isTearingDown?callback(new Error("Destructor is already tearing down")):(this._isTearingDown=!0,batchExecuteFunctions(this._teardownRegistry,function(err){this._teardownRegistry=[],this._isTearingDown=!1,"function"==typeof callback&&callback(err)}.bind(this)))},module.exports=Destructor},{"./batch-execute-functions":97}],111:[function(_dereq_,module,exports){"use strict";module.exports=function(values,prefix){return prefix=null==prefix?"":prefix,values.reduce((function(enumeration,value){return enumeration[value]=prefix+value,enumeration}),{})}},{}],112:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("./braintree-error");module.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:BraintreeError.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:BraintreeError.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:BraintreeError.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:BraintreeError.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:BraintreeError.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":98}],113:[function(_dereq_,module,exports){"use strict";module.exports=function(array,key,value){var i;for(i=0;i<array.length;i++)if(array[i].hasOwnProperty(key)&&array[i][key]===value)return array[i];return null}},{}],114:[function(_dereq_,module,exports){(function(global){"use strict";var Popup=_dereq_("./strategies/popup"),PopupBridge=_dereq_("./strategies/popup-bridge"),Modal=_dereq_("./strategies/modal"),Bus=_dereq_("../../bus"),events=_dereq_("../shared/events"),errors=_dereq_("../shared/errors"),constants=_dereq_("../shared/constants"),uuid=_dereq_("../../vendor/uuid"),iFramer=_dereq_("@braintree/iframer"),BraintreeError=_dereq_("../../braintree-error"),browserDetection=_dereq_("../shared/browser-detection"),isHTTPS=_dereq_("../../is-https"),assign=_dereq_("./../../assign").assign,REQUIRED_CONFIG_KEYS=["name","dispatchFrameUrl","openFrameUrl"];function noop(){}function FrameService(options){!function(options){if(!options)throw new Error("Valid configuration is required");if(REQUIRED_CONFIG_KEYS.forEach((function(key){if(!options.hasOwnProperty(key))throw new Error("A valid frame "+key+" must be provided")})),!/^[\w_]+$/.test(options.name))throw new Error("A valid frame name must be provided")}(options),this._serviceId=uuid().replace(/-/g,""),this._options={name:options.name+"_"+this._serviceId,dispatchFrameUrl:options.dispatchFrameUrl,openFrameUrl:options.openFrameUrl,height:options.height,width:options.width,top:options.top,left:options.left},this.state=options.state||{},this._bus=new Bus({channel:this._serviceId}),this._setBusEvents()}FrameService.prototype.initialize=function(callback){var dispatchFrameReadyHandler=function(){callback(),this._bus.off(events.DISPATCH_FRAME_READY,dispatchFrameReadyHandler)}.bind(this);this._bus.on(events.DISPATCH_FRAME_READY,dispatchFrameReadyHandler),this._writeDispatchFrame()},FrameService.prototype._writeDispatchFrame=function(){var frameName=constants.DISPATCH_FRAME_NAME+"_"+this._serviceId,frameSrc=this._options.dispatchFrameUrl;this._dispatchFrame=iFramer({"aria-hidden":!0,name:frameName,title:frameName,src:frameSrc,"class":constants.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},FrameService.prototype._setBusEvents=function(){this._bus.on(events.DISPATCH_FRAME_REPORT,function(res,reply){this._onCompleteCallback&&this._onCompleteCallback.call(null,res.err,res.payload),this._frame.close(),this._onCompleteCallback=null,reply&&reply()}.bind(this)),this._bus.on(Bus.events.CONFIGURATION_REQUEST,function(reply){reply(this.state)}.bind(this))},FrameService.prototype.open=function(options,callback){if(options=options||{},this._frame=this._getFrameForEnvironment(options),this._frame.initialize(callback),!(this._frame instanceof PopupBridge)){if(assign(this.state,options.state),this._onCompleteCallback=callback,this._frame.open(),this.isFrameClosed())return this._cleanupFrame(),void(callback&&callback(browserDetection.isIE()&&!isHTTPS.isHTTPS()?new BraintreeError(errors.FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG):new BraintreeError(errors.FRAME_SERVICE_FRAME_OPEN_FAILED)));this._pollForPopupClose()}},FrameService.prototype.redirect=function(url){this._frame&&!this.isFrameClosed()&&this._frame.redirect(url)},FrameService.prototype.close=function(){this.isFrameClosed()||this._frame.close()},FrameService.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},FrameService.prototype.createHandler=function(options){return options=options||{},{close:function(){options.beforeClose&&options.beforeClose(),this.close()}.bind(this),focus:function(){options.beforeFocus&&options.beforeFocus(),this.focus()}.bind(this)}},FrameService.prototype.createNoopHandler=function(){return{close:noop,focus:noop}},FrameService.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},FrameService.prototype.isFrameClosed=function(){return null==this._frame||this._frame.isClosed()},FrameService.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},FrameService.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval(function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new BraintreeError(errors.FRAME_SERVICE_FRAME_CLOSED)))}.bind(this),constants.POPUP_POLL_INTERVAL),this._popupInterval},FrameService.prototype._getFrameForEnvironment=function(options){var usePopup=browserDetection.supportsPopups(),popupBridgeExists=Boolean(global.popupBridge),initOptions=assign({},this._options,options);return popupBridgeExists?new PopupBridge(initOptions):usePopup?new Popup(initOptions):new Modal(initOptions)},module.exports=FrameService}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../braintree-error":98,"../../bus":101,"../../is-https":127,"../../vendor/uuid":136,"../shared/browser-detection":121,"../shared/constants":122,"../shared/errors":123,"../shared/events":124,"./../../assign":95,"./strategies/modal":116,"./strategies/popup":119,"./strategies/popup-bridge":117,"@braintree/iframer":23}],115:[function(_dereq_,module,exports){"use strict";var FrameService=_dereq_("./frame-service");module.exports={create:function(options,callback){var frameService=new FrameService(options);frameService.initialize((function(){callback(frameService)}))}}},{"./frame-service":114}],116:[function(_dereq_,module,exports){(function(global){"use strict";var iFramer=_dereq_("@braintree/iframer"),assign=_dereq_("../../../assign").assign,browserDetection=_dereq_("../../shared/browser-detection"),ELEMENT_STYLES={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};function noop(){}function Modal(options){this._closed=null,this._frame=null,this._options=options||{},this._container=this._options.container||document.body}Modal.prototype.initialize=noop,Modal.prototype.open=function(){var iframerConfig={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:assign({},ELEMENT_STYLES),title:"Lightbox Frame"};browserDetection.isIos()?(browserDetection.isIosWKWebview()&&(this._lockScrolling(),iframerConfig.style={}),this._el=document.createElement("div"),assign(this._el.style,ELEMENT_STYLES,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=iFramer(iframerConfig),this._el.appendChild(this._frame)):this._el=this._frame=iFramer(iframerConfig),this._closed=!1,this._container.appendChild(this._el)},Modal.prototype.focus=noop,Modal.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,browserDetection.isIosWKWebview()&&this._unlockScrolling()},Modal.prototype.isClosed=function(){return Boolean(this._closed)},Modal.prototype.redirect=function(redirectUrl){this._frame.src=redirectUrl},Modal.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,global.scrollTo(this._savedBodyProperties.left,this._savedBodyProperties.top),delete this._savedBodyProperties},Modal.prototype._lockScrolling=function(){var doc=document.documentElement;this._savedBodyProperties={left:(global.pageXOffset||doc.scrollLeft)-(doc.clientLeft||0),top:(global.pageYOffset||doc.scrollTop)-(doc.clientTop||0),overflowStyle:document.body.style.overflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.position="fixed",global.scrollTo(0,0)},module.exports=Modal}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../assign":95,"../../shared/browser-detection":121,"@braintree/iframer":23}],117:[function(_dereq_,module,exports){(function(global){"use strict";var BraintreeError=_dereq_("../../../braintree-error"),errors=_dereq_("../../shared/errors");function noop(){}function PopupBridge(options){this._closed=null,this._options=options}PopupBridge.prototype.initialize=function(callback){var self=this;global.popupBridge.onComplete=function(err,payload){var popupDismissed=!payload&&!err;self._closed=!0,err||popupDismissed?callback(new BraintreeError(errors.FRAME_SERVICE_FRAME_CLOSED)):callback(null,payload)}},PopupBridge.prototype.open=function(options){var url;url=(options=options||{}).openFrameUrl||this._options.openFrameUrl,this._closed=!1,global.popupBridge.open(url)},PopupBridge.prototype.focus=noop,PopupBridge.prototype.close=noop,PopupBridge.prototype.isClosed=function(){return Boolean(this._closed)},PopupBridge.prototype.redirect=function(redirectUrl){this.open({openFrameUrl:redirectUrl})},module.exports=PopupBridge}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../braintree-error":98,"../../shared/errors":123}],118:[function(_dereq_,module,exports){"use strict";var constants=_dereq_("../../../shared/constants"),position=_dereq_("./position");function calculatePosition(type,userDefinedPosition,size){return void 0!==userDefinedPosition?userDefinedPosition:position[type](size)}module.exports=function(options){var height=options.height||constants.DEFAULT_POPUP_HEIGHT,width=options.width||constants.DEFAULT_POPUP_WIDTH,top=calculatePosition("top",options.top,height),left=calculatePosition("left",options.left,width);return[constants.POPUP_BASE_OPTIONS,"height="+height,"width="+width,"top="+top,"left="+left].join(",")}},{"../../../shared/constants":122,"./position":120}],119:[function(_dereq_,module,exports){(function(global){"use strict";var composeOptions=_dereq_("./compose-options");function Popup(options){this._frame=null,this._options=options||{},this.open()}Popup.prototype.initialize=function(){},Popup.prototype.open=function(){this._frame=global.open(this._options.openFrameUrl,this._options.name,composeOptions(this._options))},Popup.prototype.focus=function(){this._frame.focus()},Popup.prototype.close=function(){this._frame.closed||this._frame.close()},Popup.prototype.isClosed=function(){return!this._frame||Boolean(this._frame.closed)},Popup.prototype.redirect=function(redirectUrl){this._frame.location.href=redirectUrl},module.exports=Popup}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./compose-options":118}],120:[function(_dereq_,module,exports){(function(global){"use strict";function center(windowMetric,popupMetric,offset){return(windowMetric-popupMetric)/2+offset}module.exports={top:function(height){return center(global.outerHeight||document.documentElement.clientHeight,height,null==global.screenY?global.screenTop:global.screenY)},left:function(width){return center(global.outerWidth||document.documentElement.clientWidth,width,null==global.screenX?global.screenLeft:global.screenX)},center:center}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],121:[function(_dereq_,module,exports){"use strict";module.exports={isIos:_dereq_("@braintree/browser-detection/is-ios"),isIosWKWebview:_dereq_("@braintree/browser-detection/is-ios-wkwebview"),isIE:_dereq_("@braintree/browser-detection/is-ie"),supportsPopups:_dereq_("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ie":8,"@braintree/browser-detection/is-ios":16,"@braintree/browser-detection/is-ios-wkwebview":15,"@braintree/browser-detection/supports-popups":19}],122:[function(_dereq_,module,exports){"use strict";module.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],123:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../../braintree-error");module.exports={FRAME_SERVICE_FRAME_CLOSED:{type:BraintreeError.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:BraintreeError.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."},FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG:{type:BraintreeError.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG",message:"Could not open frame. This may be due to a bug in IE browsers when attempting to open an HTTPS page from a HTTP page. https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11324352/"}}},{"../../braintree-error":98}],124:[function(_dereq_,module,exports){"use strict";var enumerate=_dereq_("../../enumerate");module.exports=enumerate(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":111}],125:[function(_dereq_,module,exports){"use strict";var assign=_dereq_("./assign").assign;function generateTokenizationParameters(configuration,overrides){var metadata=configuration.analyticsMetadata,basicTokenizationParameters={gateway:"braintree","braintree:merchantId":configuration.gatewayConfiguration.merchantId,"braintree:apiVersion":"v1","braintree:sdkVersion":"3.58.0","braintree:metadata":JSON.stringify({source:metadata.source,integration:metadata.integration,sessionId:metadata.sessionId,version:"3.58.0",platform:metadata.platform})};return assign({},basicTokenizationParameters,overrides)}module.exports=function(configuration,googlePayVersion,googleMerchantId){var data,paypalPaymentMethod,androidPayConfiguration=configuration.gatewayConfiguration.androidPay,environment="production"===configuration.gatewayConfiguration.environment?"PRODUCTION":"TEST";return 2===googlePayVersion?(data={apiVersion:2,apiVersionMinor:0,environment:environment,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:androidPayConfiguration.supportedNetworks.map((function(card){return card.toUpperCase()}))},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:generateTokenizationParameters(configuration,{"braintree:authorizationFingerprint":androidPayConfiguration.googleAuthorizationFingerprint})}}]},googleMerchantId&&(data.merchantInfo={merchantId:googleMerchantId}),androidPayConfiguration.paypalClientId&&(paypalPaymentMethod={type:"PAYPAL",parameters:{purchase_context:{purchase_units:[{payee:{client_id:androidPayConfiguration.paypalClientId},recurring_payment:!0}]}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:generateTokenizationParameters(configuration,{"braintree:paypalClientId":androidPayConfiguration.paypalClientId})}},data.allowedPaymentMethods.push(paypalPaymentMethod))):(data={environment:environment,allowedPaymentMethods:["CARD","TOKENIZED_CARD"],paymentMethodTokenizationParameters:{tokenizationType:"PAYMENT_GATEWAY",parameters:generateTokenizationParameters(configuration,{"braintree:authorizationFingerprint":androidPayConfiguration.googleAuthorizationFingerprint})},cardRequirements:{allowedCardNetworks:androidPayConfiguration.supportedNetworks.map((function(card){return card.toUpperCase()}))}},"TOKENIZATION_KEY"===configuration.authorizationType&&(data.paymentMethodTokenizationParameters.parameters["braintree:clientKey"]=configuration.authorization),googleMerchantId&&(data.merchantId=googleMerchantId),googlePayVersion&&(data.apiVersion=googlePayVersion)),data}},{"./assign":95}],126:[function(_dereq_,module,exports){"use strict";function convertDateStringToDate(dateString){var splitDate=dateString.split("-");return new Date(splitDate[0],splitDate[1],splitDate[2])}module.exports=function(firstDate,secondDate){return convertDateStringToDate(firstDate)<=convertDateStringToDate(secondDate)}},{}],127:[function(_dereq_,module,exports){(function(global){"use strict";module.exports={isHTTPS:function(protocol){return"https:"===(protocol=protocol||global.location.protocol)}}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],128:[function(_dereq_,module,exports){"use strict";var parser,legalHosts={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};module.exports=function(url){var mainDomain;return url=url.toLowerCase(),!!/^https:/.test(url)&&((parser=parser||document.createElement("a")).href=url,mainDomain=parser.hostname.split(".").slice(-2).join("."),legalHosts.hasOwnProperty(mainDomain))}},{}],129:[function(_dereq_,module,exports){"use strict";module.exports=function(value){return JSON.parse(JSON.stringify(value))}},{}],130:[function(_dereq_,module,exports){"use strict";module.exports=function(obj){return Object.keys(obj).filter((function(key){return"function"==typeof obj[key]}))}},{}],131:[function(_dereq_,module,exports){arguments[4][28][0].apply(exports,arguments)},{dup:28}],132:[function(_dereq_,module,exports){(function(global){"use strict";var Promise=global.Promise||_dereq_("promise-polyfill"),ExtendedPromise=_dereq_("@braintree/extended-promise");ExtendedPromise.suppressUnhandledPromiseMessage=!0,ExtendedPromise.setPromise(Promise),module.exports=Promise}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@braintree/extended-promise":22,"promise-polyfill":39}],133:[function(_dereq_,module,exports){(function(global){"use strict";function stringify(params,namespace){var k,v,p,value,query=[];for(p in params)params.hasOwnProperty(p)&&(v=params[p],k=namespace?(value=params)&&"object"==typeof value&&"number"==typeof value.length&&"[object Array]"===Object.prototype.toString.call(value)?namespace+"[]":namespace+"["+p+"]":p,"object"==typeof v?query.push(stringify(v,k)):query.push(encodeURIComponent(k)+"="+encodeURIComponent(v)));return query.join("&")}module.exports={parse:function(url){return url=url||global.location.href,/\?/.test(url)?url.replace(/#.*$/,"").replace(/^.*\?/,"").split("&").reduce((function(toReturn,keyValue){var parts=keyValue.split("="),key=decodeURIComponent(parts[0]),value=decodeURIComponent(parts[1]);return toReturn[key]=value,toReturn}),{}):{}},stringify:stringify,queryify:function(url,params){return url=url||"",null!=params&&"object"==typeof params&&function(obj){var key;for(key in obj)if(obj.hasOwnProperty(key))return!0;return!1}(params)&&(url+=-1===url.indexOf("?")?"?":"",url+=-1!==url.indexOf("=")?"&":"",url+=stringify(params)),url}}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],134:[function(_dereq_,module,exports){"use strict";module.exports=function(isDebug){return isDebug?"":".min"}},{}],135:[function(_dereq_,module,exports){(function(global){"use strict";var atobNormalized="function"==typeof global.atob?global.atob:atob;function atob(base64String){var a,b,c,b2,b3,i,characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",result="";if(!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(base64String))throw new Error("Non base64 encoded input passed to window.atob polyfill");i=0;do{a=(63&characters.indexOf(base64String.charAt(i++)))<<2|(b2=characters.indexOf(base64String.charAt(i++)))>>4&3,b=(15&b2)<<4|(b3=characters.indexOf(base64String.charAt(i++)))>>2&15,c=(3&b3)<<6|63&characters.indexOf(base64String.charAt(i++)),result+=String.fromCharCode(a)+(b?String.fromCharCode(b):"")+(c?String.fromCharCode(c):"")}while(i<base64String.length);return result}module.exports={atob:function(base64String){return atobNormalized.call(global,base64String)},_atob:atob}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],136:[function(_dereq_,module,exports){"use strict";module.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}))}},{}],137:[function(_dereq_,module,exports){"use strict";module.exports={REQUIRED_OPTIONS_FOR_START_PAYMENT:["onPaymentStart","paymentType","amount","fallback"]}},{}],138:[function(_dereq_,module,exports){(function(global){"use strict";var frameService=_dereq_("../../lib/frame-service/external"),BraintreeError=_dereq_("../../lib/braintree-error"),useMin=_dereq_("../../lib/use-min"),INTEGRATION_TIMEOUT_MS=_dereq_("../../lib/constants").INTEGRATION_TIMEOUT_MS,analytics=_dereq_("../../lib/analytics"),methods=_dereq_("../../lib/methods"),convertMethodsToError=_dereq_("../../lib/convert-methods-to-error"),convertToBraintreeError=_dereq_("../../lib/convert-to-braintree-error"),Promise=_dereq_("../../lib/promise"),querystring=_dereq_("../../lib/querystring"),wrapPromise=_dereq_("@braintree/wrap-promise"),constants=_dereq_("./constants"),errors=_dereq_("../shared/errors");function LocalPayment(options){this._client=options.client,this._assetsUrl=options.client.getConfiguration().gatewayConfiguration.assetsUrl+"/web/3.58.0",this._isDebug=options.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/local-payment-landing-frame"+useMin(this._isDebug)+".html",this._authorizationInProgress=!1,this._paymentType="unknown",this._merchantAccountId=options.merchantAccountId}LocalPayment.prototype._initialize=function(){var self=this,client=this._client,failureTimeout=setTimeout((function(){analytics.sendEvent(client,"local-payment.load.timed-out")}),INTEGRATION_TIMEOUT_MS);return new Promise((function(resolve){frameService.create({name:"localpaymentlandingpage",dispatchFrameUrl:self._assetsUrl+"/html/dispatch-frame"+useMin(self._isDebug)+".html",openFrameUrl:self._loadingFrameUrl},(function(service){self._frameService=service,clearTimeout(failureTimeout),analytics.sendEvent(client,"local-payment.load.succeeded"),resolve(self)}))}))},LocalPayment.prototype.startPayment=function(options){var address,params,self=this,serviceId=this._frameService._serviceId;return function(options){var i,option;if(!options)return!0;for(i=0;i<constants.REQUIRED_OPTIONS_FOR_START_PAYMENT.length;i++)if(option=constants.REQUIRED_OPTIONS_FOR_START_PAYMENT[i],!options.hasOwnProperty(option))return!0;return!options.fallback.url||!options.fallback.buttonText}(options)?Promise.reject(new BraintreeError(errors.LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION)):(address=options.address||{},params={intent:"sale",returnUrl:querystring.queryify(self._assetsUrl+"/html/local-payment-redirect-frame"+useMin(self._isDebug)+".html",{channel:serviceId,r:options.fallback.url,t:options.fallback.buttonText}),cancelUrl:querystring.queryify(self._assetsUrl+"/html/cancel-frame"+useMin(self._isDebug)+".html",{channel:serviceId}),experienceProfile:{noShipping:!options.shippingAddressRequired},fundingSource:options.paymentType,amount:options.amount,currencyIsoCode:options.currencyCode,firstName:options.givenName,lastName:options.surname,payerEmail:options.email,phone:options.phone,line1:address.streetAddress,line2:address.extendedAddress,city:address.locality,state:address.region,postalCode:address.postalCode,countryCode:address.countryCode,merchantAccountId:self._merchantAccountId},self._paymentType=options.paymentType.toLowerCase(),self._authorizationInProgress?(analytics.sendEvent(self._client,self._paymentType+".local-payment.start-payment.error.already-opened"),Promise.reject(new BraintreeError(errors.LOCAL_PAYMENT_ALREADY_IN_PROGRESS))):(self._authorizationInProgress=!0,new Promise((function(resolve,reject){self._startPaymentCallback=self._createStartPaymentCallback(resolve,reject),self._frameService.open({},self._startPaymentCallback),self._client.request({method:"post",endpoint:"local_payments/create",data:params}).then((function(response){analytics.sendEvent(self._client,self._paymentType+".local-payment.start-payment.opened"),self._startPaymentOptions=options,options.onPaymentStart({paymentId:response.paymentResource.paymentToken},(function(){self._frameService.redirect(response.paymentResource.redirectUrl)}))}))["catch"]((function(err){var status=err.details&&err.details.httpStatus;self._frameService.close(),self._authorizationInProgress=!1,reject(422!==status?convertToBraintreeError(err,{type:errors.LOCAL_PAYMENT_START_PAYMENT_FAILED.type,code:errors.LOCAL_PAYMENT_START_PAYMENT_FAILED.code,message:errors.LOCAL_PAYMENT_START_PAYMENT_FAILED.message}):new BraintreeError({type:errors.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.type,code:errors.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.code,message:errors.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.message,details:{originalError:err}}))}))}))))},LocalPayment.prototype.tokenize=function(params){var self=this,client=this._client;return params=params||querystring.parse(),client.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(params)}).then((function(response){var payload=self._formatTokenizePayload(response);return global.popupBridge?analytics.sendEvent(client,self._paymentType+".local-payment.tokenization.success-popupbridge"):analytics.sendEvent(client,self._paymentType+".local-payment.tokenization.success"),payload}))["catch"]((function(err){return analytics.sendEvent(client,self._paymentType+".local-payment.tokenization.failed"),Promise.reject(convertToBraintreeError(err,{type:errors.LOCAL_PAYMENT_TOKENIZATION_FAILED.type,code:errors.LOCAL_PAYMENT_TOKENIZATION_FAILED.code,message:errors.LOCAL_PAYMENT_TOKENIZATION_FAILED.message}))}))},LocalPayment.prototype.closeWindow=function(){this._authoriztionInProgress&&analytics.sendEvent(this._client,this._paymentType+".local-payment.start-payment.closed.by-merchant"),this._frameService.close()},LocalPayment.prototype.focusWindow=function(){this._frameService.focus()},LocalPayment.prototype._createStartPaymentCallback=function(resolve,reject){var self=this,client=this._client;return function(err,params){self._authorizationInProgress=!1,err?"FRAME_SERVICE_FRAME_CLOSED"===err.code?(analytics.sendEvent(client,self._paymentType+".local-payment.tokenization.closed.by-user"),reject(new BraintreeError(errors.LOCAL_PAYMENT_WINDOW_CLOSED))):err.code&&err.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1&&reject(new BraintreeError({code:errors.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.code,type:errors.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.type,message:errors.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.message,details:{originalError:err}})):params&&(global.popupBridge||self._frameService.redirect(self._loadingFrameUrl),self.tokenize(params).then(resolve)["catch"](reject).then((function(){self._frameService.close()})))}},LocalPayment.prototype._formatTokenizePayload=function(response){var payload,account={};return response.paypalAccounts&&(account=response.paypalAccounts[0]),payload={nonce:account.nonce,details:{},type:account.type},account.details&&(account.details.payerInfo&&(payload.details=account.details.payerInfo),account.details.correlationId&&(payload.correlationId=account.details.correlationId)),payload},LocalPayment.prototype.hasTokenizationParams=function(){var params=querystring.parse();return Boolean(params.btLpToken&&params.btLpPaymentId&&params.btLpPayerId)},LocalPayment.prototype._formatTokenizeData=function(params){var gatewayConfiguration=this._client.getConfiguration().gatewayConfiguration;return{merchantAccountId:this._merchantAccountId,paypalAccount:{correlationId:params.btLpToken||params.token,paymentToken:params.btLpPaymentId||params.paymentId,payerId:params.btLpPayerId||params.PayerID,unilateral:gatewayConfiguration.paypal.unvettedMerchant,intent:"sale"}}},LocalPayment.prototype.teardown=function(){return this._frameService.teardown(),convertMethodsToError(this,methods(LocalPayment.prototype)),analytics.sendEvent(this._client,"local-payment.teardown-completed"),Promise.resolve()},module.exports=wrapPromise.wrapPrototype(LocalPayment)}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":93,"../../lib/braintree-error":98,"../../lib/constants":103,"../../lib/convert-methods-to-error":104,"../../lib/convert-to-braintree-error":105,"../../lib/frame-service/external":115,"../../lib/methods":130,"../../lib/promise":132,"../../lib/querystring":133,"../../lib/use-min":134,"../shared/errors":140,"./constants":137,"@braintree/wrap-promise":30}],139:[function(_dereq_,module,exports){"use strict";var analytics=_dereq_("../lib/analytics"),basicComponentVerification=_dereq_("../lib/basic-component-verification"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),LocalPayment=_dereq_("./external/local-payment"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise"),BraintreeError=_dereq_("../lib/braintree-error"),errors=_dereq_("./shared/errors");module.exports={create:wrapPromise((function(options){var name="Local Payment";return basicComponentVerification.verify({name:name,client:options.client,authorization:options.authorization}).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:name})})).then((function(client){var config=client.getConfiguration();return options.client=client,!0!==config.gatewayConfiguration.paypalEnabled?Promise.reject(new BraintreeError(errors.LOCAL_PAYMENT_NOT_ENABLED)):(analytics.sendEvent(client,"local-payment.initialized"),new LocalPayment(options)._initialize())}))})),VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./external/local-payment":138,"./shared/errors":140,"@braintree/wrap-promise":30}],140:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../../lib/braintree-error");module.exports={LOCAL_PAYMENT_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"LOCAL_PAYMENT_NOT_ENABLED",message:"LocalPayment is not enabled for this merchant."},LOCAL_PAYMENT_ALREADY_IN_PROGRESS:{type:BraintreeError.types.MERCHANT,code:"LOCAL_PAYMENT_ALREADY_IN_PROGRESS",message:"LocalPayment payment is already in progress."},LOCAL_PAYMENT_WINDOW_CLOSED:{type:BraintreeError.types.CUSTOMER,code:"LOCAL_PAYMENT_WINDOW_CLOSED",message:"Customer closed LocalPayment window before authorizing."},LOCAL_PAYMENT_WINDOW_OPEN_FAILED:{type:BraintreeError.types.MERCHANT,code:"LOCAL_PAYMENT_WINDOW_OPEN_FAILED",message:"LocalPayment window failed to open; make sure startPayment was called in response to a user action."},LOCAL_PAYMENT_START_PAYMENT_FAILED:{type:BraintreeError.types.NETWORK,code:"LOCAL_PAYMENT_START_PAYMENT_FAILED",message:"LocalPayment startPayment failed."},LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION:{type:BraintreeError.types.MERCHANT,code:"LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION",message:"Missing required option for startPayment."},LOCAL_PAYMENT_TOKENIZATION_FAILED:{type:BraintreeError.types.NETWORK,code:"LOCAL_PAYMENT_TOKENIZATION_FAILED",message:"Could not tokenize user's local payment method."},LOCAL_PAYMENT_INVALID_PAYMENT_OPTION:{type:BraintreeError.types.MERCHANT,code:"LOCAL_PAYMENT_INVALID_PAYMENT_OPTION",message:"Local payment options are invalid."}}},{"../../lib/braintree-error":98}],141:[function(_dereq_,module,exports){(function(global){"use strict";var Promise=_dereq_("../../lib/promise"),frameService=_dereq_("../../lib/frame-service/external"),BraintreeError=_dereq_("../../lib/braintree-error"),errors=_dereq_("../shared/errors"),methods=_dereq_("../../lib/methods"),wrapPromise=_dereq_("@braintree/wrap-promise"),analytics=_dereq_("../../lib/analytics"),convertMethodsToError=_dereq_("../../lib/convert-methods-to-error"),convertToBraintreeError=_dereq_("../../lib/convert-to-braintree-error"),constants=_dereq_("../shared/constants"),INTEGRATION_TIMEOUT_MS=_dereq_("../../lib/constants").INTEGRATION_TIMEOUT_MS;function Masterpass(options){var configuration=options.client.getConfiguration();this._client=options.client,this._assetsUrl=configuration.gatewayConfiguration.assetsUrl+"/web/3.58.0",this._isDebug=configuration.isDebug,this._authInProgress=!1,global.popupBridge&&"function"==typeof global.popupBridge.getReturnUrlPrefix?this._callbackUrl=global.popupBridge.getReturnUrlPrefix()+"return":this._callbackUrl=this._assetsUrl+"/html/redirect-frame"+(this._isDebug?"":".min")+".html"}Masterpass.prototype._initialize=function(){var self=this;return new Promise((function(resolve){var failureTimeout=setTimeout((function(){analytics.sendEvent(self._client,"masterpass.load.timed-out")}),INTEGRATION_TIMEOUT_MS);frameService.create({name:constants.LANDING_FRAME_NAME,height:constants.POPUP_HEIGHT,width:constants.POPUP_WIDTH,dispatchFrameUrl:self._assetsUrl+"/html/dispatch-frame"+(self._isDebug?"":".min")+".html",openFrameUrl:self._assetsUrl+"/html/masterpass-landing-frame"+(self._isDebug?"":".min")+".html"},(function(service){self._frameService=service,clearTimeout(failureTimeout),analytics.sendEvent(self._client,"masterpass.load.succeeded"),resolve(self)}))}))},Masterpass.prototype.tokenize=function(options){var self=this;return!options||function(options){var i,option;for(i=0;i<constants.REQUIRED_OPTIONS_FOR_TOKENIZE.length;i++)if(option=constants.REQUIRED_OPTIONS_FOR_TOKENIZE[i],!options.hasOwnProperty(option))return!0;return!1}(options)?Promise.reject(new BraintreeError(errors.MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION)):self._authInProgress?Promise.reject(new BraintreeError(errors.MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS)):new Promise((function(resolve,reject){self._navigateFrameToLoadingPage(options)["catch"](reject),self._frameService.open(options.frameOptions,self._createFrameOpenHandler(resolve,reject))}))},Masterpass.prototype._navigateFrameToLoadingPage=function(options){var self=this;return this._authInProgress=!0,this._client.request({method:"post",endpoint:"masterpass/request_token",data:{requestToken:{originUrl:global.location.protocol+"//"+global.location.hostname,subtotal:options.subtotal,currencyCode:options.currencyCode,callbackUrl:this._callbackUrl}}}).then((function(response){var queryParams,redirectUrl=self._assetsUrl+"/html/masterpass-loading-frame"+(self._isDebug?"":".min")+".html?",gatewayConfiguration=self._client.getConfiguration().gatewayConfiguration,config=options.config||{};queryParams={environment:gatewayConfiguration.environment,requestToken:response.requestToken,callbackUrl:self._callbackUrl,merchantCheckoutId:gatewayConfiguration.masterpass.merchantCheckoutId,allowedCardTypes:gatewayConfiguration.masterpass.supportedNetworks,version:constants.MASTERPASS_VERSION},Object.keys(config).forEach((function(key){"function"!=typeof config[key]&&(queryParams[key]=config[key])})),redirectUrl+=Object.keys(queryParams).map((function(key){return key+"="+queryParams[key]})).join("&"),self._frameService.redirect(redirectUrl)}))["catch"]((function(err){var status=err.details&&err.details.httpStatus;return self._closeWindow(),422===status?Promise.reject(convertToBraintreeError(err,errors.MASTERPASS_INVALID_PAYMENT_OPTION)):Promise.reject(convertToBraintreeError(err,errors.MASTERPASS_FLOW_FAILED))}))},Masterpass.prototype._createFrameOpenHandler=function(resolve,reject){var self=this;return global.popupBridge?function(popupBridgeErr,payload){return self._authInProgress=!1,popupBridgeErr?(analytics.sendEvent(self._client,"masterpass.tokenization.closed-popupbridge.by-user"),void reject(convertToBraintreeError(popupBridgeErr,errors.MASTERPASS_POPUP_CLOSED))):payload.queryItems?void self._tokenizeMasterpass(payload.queryItems).then(resolve)["catch"](reject):(analytics.sendEvent(self._client,"masterpass.tokenization.failed-popupbridge"),void reject(new BraintreeError(errors.MASTERPASS_FLOW_FAILED)))}:function(frameServiceErr,payload){if(frameServiceErr)return self._authInProgress=!1,"FRAME_SERVICE_FRAME_CLOSED"===frameServiceErr.code?(analytics.sendEvent(self._client,"masterpass.tokenization.closed.by-user"),void reject(new BraintreeError(errors.MASTERPASS_POPUP_CLOSED))):frameServiceErr.code&&frameServiceErr.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1?(analytics.sendEvent(self._client,"masterpass.tokenization.failed.to-open"),void reject(new BraintreeError({code:errors.MASTERPASS_POPUP_OPEN_FAILED.code,type:errors.MASTERPASS_POPUP_OPEN_FAILED.type,message:errors.MASTERPASS_POPUP_OPEN_FAILED.message,details:{originalError:frameServiceErr}}))):(analytics.sendEvent(self._client,"masterpass.tokenization.failed"),self._closeWindow(),void reject(convertToBraintreeError(frameServiceErr,errors.MASTERPASS_FLOW_FAILED)));self._tokenizeMasterpass(payload).then(resolve)["catch"](reject)}},Masterpass.prototype._tokenizeMasterpass=function(payload){var self=this;return"success"!==payload.mpstatus?(analytics.sendEvent(self._client,"masterpass.tokenization.closed.by-user"),self._closeWindow(),Promise.reject(new BraintreeError(errors.MASTERPASS_POPUP_CLOSED))):function(payload){return[payload.oauth_verifier,payload.oauth_token,payload.checkout_resource_url].some((function(element){return null==element||"null"===element}))}(payload)?(analytics.sendEvent(self._client,"masterpass.tokenization.closed.missing-payload"),self._closeWindow(),Promise.reject(new BraintreeError(errors.MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS))):self._client.request({endpoint:"payment_methods/masterpass_cards",method:"post",data:{masterpassCard:{checkoutResourceUrl:payload.checkout_resource_url,requestToken:payload.oauth_token,verifierToken:payload.oauth_verifier}}}).then((function(response){return self._closeWindow(),global.popupBridge?analytics.sendEvent(self._client,"masterpass.tokenization.success-popupbridge"):analytics.sendEvent(self._client,"masterpass.tokenization.success"),response.masterpassCards[0]}))["catch"]((function(tokenizeErr){return self._closeWindow(),global.popupBridge?analytics.sendEvent(self._client,"masterpass.tokenization.failed-popupbridge"):analytics.sendEvent(self._client,"masterpass.tokenization.failed"),Promise.reject(convertToBraintreeError(tokenizeErr,errors.MASTERPASS_ACCOUNT_TOKENIZATION_FAILED))}))},Masterpass.prototype._closeWindow=function(){this._authInProgress=!1,this._frameService.close()},Masterpass.prototype.teardown=function(){var self=this;return new Promise((function(resolve){self._frameService.teardown(),convertMethodsToError(self,methods(Masterpass.prototype)),analytics.sendEvent(self._client,"masterpass.teardown-completed"),resolve()}))},module.exports=wrapPromise.wrapPrototype(Masterpass)}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":93,"../../lib/braintree-error":98,"../../lib/constants":103,"../../lib/convert-methods-to-error":104,"../../lib/convert-to-braintree-error":105,"../../lib/frame-service/external":115,"../../lib/methods":130,"../../lib/promise":132,"../shared/constants":144,"../shared/errors":145,"@braintree/wrap-promise":30}],142:[function(_dereq_,module,exports){(function(global){"use strict";var BraintreeError=_dereq_("../lib/braintree-error"),basicComponentVerification=_dereq_("../lib/basic-component-verification"),browserDetection=_dereq_("./shared/browser-detection"),Masterpass=_dereq_("./external/masterpass"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),errors=_dereq_("./shared/errors"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise");function isSupported(){return Boolean(global.popupBridge||browserDetection.supportsPopups())}module.exports={create:wrapPromise((function(options){return basicComponentVerification.verify({name:"Masterpass",client:options.client,authorization:options.authorization}).then((function(){return isSupported()?Promise.resolve():Promise.reject(new BraintreeError(errors.MASTERPASS_BROWSER_NOT_SUPPORTED))})).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:"Masterpass"})})).then((function(client){return options.client=client,options.client.getConfiguration().gatewayConfiguration.masterpass?new Masterpass(options)._initialize():Promise.reject(new BraintreeError(errors.MASTERPASS_NOT_ENABLED))}))})),isSupported:isSupported,VERSION:"3.58.0"}}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./external/masterpass":141,"./shared/browser-detection":143,"./shared/errors":145,"@braintree/wrap-promise":30}],143:[function(_dereq_,module,exports){"use strict";module.exports={supportsPopups:_dereq_("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/supports-popups":19}],144:[function(_dereq_,module,exports){"use strict";module.exports={LANDING_FRAME_NAME:"braintreemasterpasslanding",POPUP_WIDTH:450,POPUP_HEIGHT:660,MASTERPASS_VERSION:"v6",REQUIRED_OPTIONS_FOR_TOKENIZE:["subtotal","currencyCode"]}},{}],145:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../../lib/braintree-error");module.exports={MASTERPASS_BROWSER_NOT_SUPPORTED:{type:BraintreeError.types.CUSTOMER,code:"MASTERPASS_BROWSER_NOT_SUPPORTED",message:"Browser is not supported."},MASTERPASS_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"MASTERPASS_NOT_ENABLED",message:"Masterpass is not enabled for this merchant."},MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION:{type:BraintreeError.types.MERCHANT,code:"MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION",message:"Missing required option for tokenize."},MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS:{type:BraintreeError.types.MERCHANT,code:"MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS",message:"Masterpass tokenization is already in progress."},MASTERPASS_ACCOUNT_TOKENIZATION_FAILED:{type:BraintreeError.types.NETWORK,code:"MASTERPASS_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's Masterpass account."},MASTERPASS_POPUP_OPEN_FAILED:{type:BraintreeError.types.MERCHANT,code:"MASTERPASS_POPUP_OPEN_FAILED",message:"Masterpass popup failed to open. Make sure to tokenize in response to a user action, such as a click."},MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS:{type:BraintreeError.types.MERCHANT,code:"MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS",message:"Masterpass popup failed to return all required parameters needed to continue tokenization."},MASTERPASS_POPUP_CLOSED:{type:BraintreeError.types.CUSTOMER,code:"MASTERPASS_POPUP_CLOSED",message:"Customer closed Masterpass popup before authorizing."},MASTERPASS_INVALID_PAYMENT_OPTION:{type:BraintreeError.types.MERCHANT,code:"MASTERPASS_INVALID_PAYMENT_OPTION",message:"Masterpass payment options are invalid."},MASTERPASS_FLOW_FAILED:{type:BraintreeError.types.NETWORK,code:"MASTERPASS_FLOW_FAILED",message:"Could not initialize Masterpass flow."}}},{"../../lib/braintree-error":98}],146:[function(_dereq_,module,exports){(function(global){"use strict";var analytics=_dereq_("../../lib/analytics"),assign=_dereq_("../../lib/assign").assign,Bus=_dereq_("../../lib/bus"),convertMethodsToError=_dereq_("../../lib/convert-methods-to-error"),generateGooglePayConfiguration=_dereq_("../../lib/generate-google-pay-configuration"),iFramer=_dereq_("@braintree/iframer"),uuid=_dereq_("../../lib/vendor/uuid"),useMin=_dereq_("../../lib/use-min"),methods=_dereq_("../../lib/methods"),Promise=_dereq_("../../lib/promise"),EventEmitter=_dereq_("@braintree/event-emitter"),BraintreeError=_dereq_("../../lib/braintree-error"),constants=_dereq_("../shared/constants"),events=constants.events,errors=constants.errors,wrapPromise=_dereq_("@braintree/wrap-promise"),CARD_TYPE_MAPPINGS={Visa:"visa",MasterCard:"mastercard","American Express":"amex","Diners Club":"diners",Discover:"discover",JCB:"jcb",UnionPay:"unionpay",Maestro:"maestro"};function PaymentRequestComponent(options){var enabledPaymentMethods=options.enabledPaymentMethods||{};EventEmitter.call(this),this._componentId=uuid(),this._client=options.client,this._enabledPaymentMethods={basicCard:!1!==enabledPaymentMethods.basicCard,googlePay:!1!==enabledPaymentMethods.googlePay},this._googlePayVersion=2===options.googlePayVersion?2:1,this._googleMerchantId="18278000977346790994",this._supportedPaymentMethods=this._constructDefaultSupportedPaymentMethods(),this._defaultSupportedPaymentMethods=Object.keys(this._supportedPaymentMethods).map(function(key){return this._supportedPaymentMethods[key]}.bind(this)),this._bus=new Bus({channel:this._componentId})}EventEmitter.createChild(PaymentRequestComponent),PaymentRequestComponent.prototype._constructDefaultSupportedPaymentMethods=function(){var configuration=this._client.getConfiguration(),androidPayConfiguration=configuration.gatewayConfiguration.androidPay,cardConfiguration=configuration.gatewayConfiguration.creditCards,supportedPaymentMethods={};return this._enabledPaymentMethods.basicCard&&cardConfiguration&&cardConfiguration.supportedCardTypes.length>0&&(supportedPaymentMethods.basicCard={supportedMethods:"basic-card",data:{supportedNetworks:cardConfiguration.supportedCardTypes.reduce((function(types,cardType){return cardType in CARD_TYPE_MAPPINGS&&types.push(CARD_TYPE_MAPPINGS[cardType]),types}),[])}}),this._enabledPaymentMethods.googlePay&&androidPayConfiguration&&androidPayConfiguration.enabled&&(supportedPaymentMethods.googlePay={supportedMethods:"https://google.com/pay",data:generateGooglePayConfiguration(configuration,this._googlePayVersion,this._googleMerchantId)}),supportedPaymentMethods},PaymentRequestComponent.prototype.initialize=function(){var clientConfiguration=this._client.getConfiguration(),self=this;return this._frame=iFramer({allowPaymentRequest:!0,name:"braintree-payment-request-frame","class":"braintree-payment-request-frame",height:0,width:0,style:{position:"absolute",left:"-9999px"},title:"Secure Payment Frame"}),0===this._defaultSupportedPaymentMethods.length?Promise.reject(new BraintreeError(errors.PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS)):new Promise((function(resolve){var assetsUrl,componentId,isDebug;self._bus.on(events.FRAME_READY,(function(reply){reply(self._client)})),self._bus.on(events.FRAME_CAN_MAKE_REQUESTS,(function(){analytics.sendEvent(self._client,"payment-request.initialized"),self._bus.on(events.SHIPPING_ADDRESS_CHANGE,(function(shippingAddress){var shippingAddressChangeEvent={target:{shippingAddress:shippingAddress},updateWith:function(paymentDetails){self._bus.emit(events.UPDATE_SHIPPING_ADDRESS,paymentDetails)}};self._emit("shippingAddressChange",shippingAddressChangeEvent),self._emit("shippingaddresschange",shippingAddressChangeEvent)})),self._bus.on(events.SHIPPING_OPTION_CHANGE,(function(shippingOption){var shippingOptionChangeEvent={target:{shippingOption:shippingOption},updateWith:function(paymentDetails){self._bus.emit(events.UPDATE_SHIPPING_OPTION,paymentDetails)}};self._emit("shippingOptionChange",shippingOptionChangeEvent),self._emit("shippingoptionchange",shippingOptionChangeEvent)})),resolve(self)})),self._frame.src=(assetsUrl=clientConfiguration.gatewayConfiguration.assetsUrl,componentId=self._componentId,isDebug=clientConfiguration.isDebug,assetsUrl+"/web/3.58.0/html/payment-request-frame"+useMin(isDebug)+".html#"+componentId),document.body.appendChild(self._frame)}))},PaymentRequestComponent.prototype.createSupportedPaymentMethodsConfiguration=function(type,overrides){var configuration;if(!type)throw new BraintreeError(errors.PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE);if(!this._enabledPaymentMethods[type])throw new BraintreeError(errors.PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED);return(configuration=assign({},this._supportedPaymentMethods[type])).data=assign({},configuration.data,overrides),configuration},PaymentRequestComponent.prototype.tokenize=function(configuration){var self=this;return new Promise((function(resolve,reject){self._bus.emit(events.PAYMENT_REQUEST_INITIALIZED,{supportedPaymentMethods:configuration.supportedPaymentMethods||self._defaultSupportedPaymentMethods,details:configuration.details,options:configuration.options},(function(response){var rawError=response[0],payload=response[1];rawError?reject(self._formatTokenizationError(rawError)):(analytics.sendEvent(self._client,"payment-request.tokenize.succeeded"),resolve({nonce:payload.nonce,type:payload.type,description:payload.description,details:{rawPaymentResponse:payload.details.rawPaymentResponse,cardType:payload.details.cardType,lastFour:payload.details.lastFour,lastTwo:payload.details.lastTwo},binData:payload.binData}))}))}))},PaymentRequestComponent.prototype.canMakePayment=function(configuration){var unsupportedPaymentMethod,self=this;return global.PaymentRequest?configuration.supportedPaymentMethods&&(configuration.supportedPaymentMethods.forEach((function(config){var supportedMethods=config.supportedMethods;supportedMethods in constants.SUPPORTED_METHODS||(unsupportedPaymentMethod=supportedMethods)})),unsupportedPaymentMethod)?Promise.reject(new BraintreeError({type:errors.PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD.type,code:errors.PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD.code,message:unsupportedPaymentMethod+" is not a supported payment method."})):new Promise((function(resolve,reject){self._bus.emit(events.CAN_MAKE_PAYMENT,{supportedPaymentMethods:configuration.supportedPaymentMethods||self._defaultSupportedPaymentMethods,details:configuration.details,options:configuration.options},(function(response){var error=response[0],payload=response[1];error?reject(self._formatCanMakePaymentError(error)):(analytics.sendEvent(self._client,"payment-request.can-make-payment."+payload),resolve(payload))}))})):(analytics.sendEvent(self._client,"payment-request.can-make-payment.not-available"),Promise.resolve(!1))},PaymentRequestComponent.prototype.teardown=function(){return this._bus.teardown(),this._frame.parentNode.removeChild(this._frame),convertMethodsToError(this,methods(PaymentRequestComponent.prototype)),analytics.sendEvent(this._client,"payment-request.teardown-completed"),Promise.resolve()},PaymentRequestComponent.prototype._formatTokenizationError=function(error){var formattedError;switch(error.name){case"AbortError":return formattedError=new BraintreeError({type:errors.PAYMENT_REQUEST_CANCELED.type,code:errors.PAYMENT_REQUEST_CANCELED.code,message:errors.PAYMENT_REQUEST_CANCELED.message,details:{originalError:error}}),analytics.sendEvent(this._client,"payment-request.tokenize.canceled"),formattedError;case"PAYMENT_REQUEST_INITIALIZATION_FAILED":formattedError=new BraintreeError({type:errors.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.type,code:errors.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.code,message:errors.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.message,details:{originalError:error}});break;case"BRAINTREE_GATEWAY_GOOGLE_PAYMENT_TOKENIZATION_ERROR":formattedError=new BraintreeError({type:errors.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.type,code:errors.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.code,message:errors.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.message,details:{originalError:error}});break;case"BRAINTREE_GATEWAY_GOOGLE_PAYMENT_PARSING_ERROR":formattedError=new BraintreeError({type:errors.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.type,code:errors.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.code,message:errors.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.message,details:{originalError:error}});break;default:formattedError=new BraintreeError({code:errors.PAYMENT_REQUEST_NOT_COMPLETED.code,type:error.type||BraintreeError.types.CUSTOMER,message:errors.PAYMENT_REQUEST_NOT_COMPLETED.message,details:{originalError:error}})}return analytics.sendEvent(this._client,"payment-request.tokenize.failed"),formattedError},PaymentRequestComponent.prototype._formatCanMakePaymentError=function(error){var formattedError;switch(error.name){case"PAYMENT_REQUEST_INITIALIZATION_FAILED":formattedError=new BraintreeError({type:errors.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.type,code:errors.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.code,message:errors.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.message,details:{originalError:error}});break;case"NotAllowedError":formattedError=new BraintreeError({type:errors.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.type,code:errors.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.code,message:errors.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.message,details:{originalError:error}});break;default:formattedError=new BraintreeError({code:errors.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.code,type:errors.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.type,message:errors.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.message,details:{originalError:error}})}return analytics.sendEvent(this._client,"payment-request.can-make-payment.failed"),formattedError},module.exports=wrapPromise.wrapPrototype(PaymentRequestComponent)}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":93,"../../lib/assign":95,"../../lib/braintree-error":98,"../../lib/bus":101,"../../lib/convert-methods-to-error":104,"../../lib/generate-google-pay-configuration":125,"../../lib/methods":130,"../../lib/promise":132,"../../lib/use-min":134,"../../lib/vendor/uuid":136,"../shared/constants":148,"@braintree/event-emitter":21,"@braintree/iframer":23,"@braintree/wrap-promise":30}],147:[function(_dereq_,module,exports){"use strict";var PaymentRequestComponent=_dereq_("./external/payment-request"),basicComponentVerification=_dereq_("../lib/basic-component-verification"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),wrapPromise=_dereq_("@braintree/wrap-promise");module.exports={create:wrapPromise((function(options){var name="Payment Request";return basicComponentVerification.verify({name:name,client:options.client,authorization:options.authorization}).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:name})})).then((function(client){return options.client=client,new PaymentRequestComponent(options).initialize()}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"./external/payment-request":146,"@braintree/wrap-promise":30}],148:[function(_dereq_,module,exports){"use strict";var enumerate=_dereq_("../../lib/enumerate"),errors=_dereq_("./errors"),constants={};constants.events=enumerate(["CAN_MAKE_PAYMENT","FRAME_READY","FRAME_CAN_MAKE_REQUESTS","PAYMENT_REQUEST_INITIALIZED","SHIPPING_ADDRESS_CHANGE","UPDATE_SHIPPING_ADDRESS","SHIPPING_OPTION_CHANGE","UPDATE_SHIPPING_OPTION"],"payment-request:"),constants.errors=errors,constants.SUPPORTED_METHODS={"basic-card":!0,"https://google.com/pay":!0},module.exports=constants},{"../../lib/enumerate":111,"./errors":149}],149:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../../lib/braintree-error");module.exports={PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS:{type:BraintreeError.types.MERCHANT,code:"PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS",message:"There are no supported payment methods associated with this account."},PAYMENT_REQUEST_CANCELED:{type:BraintreeError.types.CUSTOMER,code:"PAYMENT_REQUEST_CANCELED",message:"Payment request was canceled."},PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED:{type:BraintreeError.types.MERCHANT,code:"PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED",message:"Something went wrong when configuring the payment request."},PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED:{type:BraintreeError.types.UNKNOWN,code:"PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED",message:"Something went wrong when calling `canMakePayment`"},PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED:{type:BraintreeError.types.MERCHANT,code:"PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED",message:"Something went wrong when calling `canMakePayment`. Most likely, `canMakePayment` was called multiple times with different supportedMethods configurations."},PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD:{type:BraintreeError.types.MERCHANT,code:"PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD"},PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE:{type:BraintreeError.types.MERCHANT,code:"PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE",message:"Something went wrong when tokenizing the Google Pay card."},PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR:{type:BraintreeError.types.UNKNOWN,code:"PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR",message:"Something went wrong when tokenizing the Google Pay card."},PAYMENT_REQUEST_NOT_COMPLETED:{code:"PAYMENT_REQUEST_NOT_COMPLETED",message:"Payment request could not be completed."},PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE:{type:BraintreeError.types.MERCHANT,code:"PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE",message:"createSupportedPaymentMethodsConfiguration must include a type parameter."},PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED",message:"createSupportedPaymentMethodsConfiguration type parameter must be valid or enabled."}}},{"../../lib/braintree-error":98}],150:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error");module.exports={PAYPAL_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED:{type:BraintreeError.types.MERCHANT,code:"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",message:"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developers.braintreepayments.com/guides/paypal/testing-go-live/#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:BraintreeError.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:BraintreeError.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:BraintreeError.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:BraintreeError.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../lib/braintree-error":98}],151:[function(_dereq_,module,exports){"use strict";var basicComponentVerification=_dereq_("../lib/basic-component-verification"),wrapPromise=_dereq_("@braintree/wrap-promise"),PayPalCheckout=_dereq_("./paypal-checkout");module.exports={create:wrapPromise((function(options){return basicComponentVerification.verify({name:"PayPal Checkout",client:options.client,authorization:options.authorization}).then((function(){return new PayPalCheckout(options)._initialize(options)}))})),isSupported:function(){return!0},VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"./paypal-checkout":152,"@braintree/wrap-promise":30}],152:[function(_dereq_,module,exports){"use strict";var analytics=_dereq_("../lib/analytics"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise"),BraintreeError=_dereq_("../lib/braintree-error"),convertToBraintreeError=_dereq_("../lib/convert-to-braintree-error"),errors=_dereq_("./errors"),constants=_dereq_("../paypal/shared/constants"),methods=_dereq_("../lib/methods"),convertMethodsToError=_dereq_("../lib/convert-methods-to-error");function PayPalCheckout(options){this._merchantAccountId=options.merchantAccountId}PayPalCheckout.prototype._initialize=function(options){return this._clientPromise=createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:"PayPal Checkout"}).then(function(client){return this._configuration=client.getConfiguration(),this._merchantAccountId||(this._configuration.gatewayConfiguration.paypalEnabled?!0===this._configuration.gatewayConfiguration.paypal.environmentNoNetwork&&(this._setupError=new BraintreeError(errors.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED)):this._setupError=new BraintreeError(errors.PAYPAL_NOT_ENABLED)),this._setupError?Promise.reject(this._setupError):(analytics.sendEvent(client,"paypal-checkout.initialized"),client)}.bind(this)),options.client?this._clientPromise.then(function(){return this}.bind(this)):Promise.resolve(this)},PayPalCheckout.prototype.createPayment=function(options){var endpoint,self=this;return options&&constants.FLOW_ENDPOINTS.hasOwnProperty(options.flow)?(endpoint="paypal_hermes/"+constants.FLOW_ENDPOINTS[options.flow],analytics.sendEvent(this._clientPromise,"paypal-checkout.createPayment"),!0===options.offerCredit&&analytics.sendEvent(this._clientPromise,"paypal-checkout.credit.offered"),this._clientPromise.then((function(client){return client.request({endpoint:endpoint,method:"post",data:self._formatPaymentResourceData(options)})})).then((function(response){return"checkout"===options.flow?response.paymentResource.redirectUrl.match(/EC-\w+/)[0]:response.agreementSetup.tokenId}))["catch"]((function(err){return self._setupError?Promise.reject(self._setupError):422===(err.details&&err.details.httpStatus)?Promise.reject(new BraintreeError({type:errors.PAYPAL_INVALID_PAYMENT_OPTION.type,code:errors.PAYPAL_INVALID_PAYMENT_OPTION.code,message:errors.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:err}})):Promise.reject(convertToBraintreeError(err,{type:errors.PAYPAL_FLOW_FAILED.type,code:errors.PAYPAL_FLOW_FAILED.code,message:errors.PAYPAL_FLOW_FAILED.message}))}))):Promise.reject(new BraintreeError(errors.PAYPAL_FLOW_OPTION_REQUIRED))},PayPalCheckout.prototype.tokenizePayment=function(tokenizeOptions){var payload,self=this,options={flow:tokenizeOptions.billingToken?"vault":"checkout",intent:tokenizeOptions.intent},params={ecToken:tokenizeOptions.paymentToken,billingToken:tokenizeOptions.billingToken,payerId:tokenizeOptions.payerID,paymentId:tokenizeOptions.paymentID,shippingOptionsId:tokenizeOptions.shippingOptionsId};return analytics.sendEvent(this._clientPromise,"paypal-checkout.tokenization.started"),this._clientPromise.then((function(client){return client.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:self._formatTokenizeData(options,params)})})).then((function(response){return payload=self._formatTokenizePayload(response),analytics.sendEvent(self._clientPromise,"paypal-checkout.tokenization.success"),payload.creditFinancingOffered&&analytics.sendEvent(self._clientPromise,"paypal-checkout.credit.accepted"),payload}))["catch"]((function(err){return self._setupError?Promise.reject(self._setupError):(analytics.sendEvent(self._clientPromise,"paypal-checkout.tokenization.failed"),Promise.reject(convertToBraintreeError(err,{type:errors.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:errors.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:errors.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message})))}))},PayPalCheckout.prototype._formatPaymentResourceData=function(options){var key,gatewayConfiguration=this._configuration.gatewayConfiguration,intent=options.intent,paymentResource={returnUrl:"https://www.paypal.com/checkoutnow/error",cancelUrl:"https://www.paypal.com/checkoutnow/error",offerPaypalCredit:!0===options.offerCredit,merchantAccountId:this._merchantAccountId,experienceProfile:{brandName:options.displayName||gatewayConfiguration.paypal.displayName,localeCode:options.locale,noShipping:(!options.enableShippingAddress).toString(),addressOverride:!1===options.shippingAddressEditable,landingPageType:options.landingPageType},shippingOptions:options.shippingOptions};if("checkout"===options.flow)for(key in paymentResource.amount=options.amount,paymentResource.currencyIsoCode=options.currency,intent&&("capture"===intent&&(intent="sale"),paymentResource.intent=intent),options.hasOwnProperty("lineItems")&&(paymentResource.lineItems=options.lineItems),options.hasOwnProperty("vaultInitiatedCheckoutPaymentMethodToken")&&(paymentResource.vaultInitiatedCheckoutPaymentMethodToken=options.vaultInitiatedCheckoutPaymentMethodToken),options.hasOwnProperty("shippingOptions")&&(paymentResource.shippingOptions=options.shippingOptions),options.shippingAddressOverride)options.shippingAddressOverride.hasOwnProperty(key)&&(paymentResource[key]=options.shippingAddressOverride[key]);else paymentResource.shippingAddress=options.shippingAddressOverride,options.billingAgreementDescription&&(paymentResource.description=options.billingAgreementDescription);return paymentResource},PayPalCheckout.prototype._formatTokenizeData=function(options,params){var clientConfiguration=this._configuration,gatewayConfiguration=clientConfiguration.gatewayConfiguration,isTokenizationKey="TOKENIZATION_KEY"===clientConfiguration.authorizationType,data={paypalAccount:{correlationId:params.billingToken||params.ecToken,options:{validate:"vault"===options.flow&&!isTokenizationKey}}};return params.billingToken?data.paypalAccount.billingAgreementToken=params.billingToken:(data.paypalAccount.paymentToken=params.paymentId,data.paypalAccount.payerId=params.payerId,data.paypalAccount.unilateral=gatewayConfiguration.paypal.unvettedMerchant,options.intent&&(data.paypalAccount.intent=options.intent)),this._merchantAccountId&&(data.merchantAccountId=this._merchantAccountId),data},PayPalCheckout.prototype._formatTokenizePayload=function(response){var payload,account={};return response.paypalAccounts&&(account=response.paypalAccounts[0]),payload={nonce:account.nonce,details:{},type:account.type},account.details&&account.details.payerInfo&&(payload.details=account.details.payerInfo),account.details&&account.details.creditFinancingOffered&&(payload.creditFinancingOffered=account.details.creditFinancingOffered),account.details&&account.details.shippingOptionId&&(payload.shippingOptionId=account.details.shippingOptionId),payload},PayPalCheckout.prototype.teardown=function(){return convertMethodsToError(this,methods(PayPalCheckout.prototype)),Promise.resolve()},module.exports=wrapPromise.wrapPrototype(PayPalCheckout)},{"../lib/analytics":93,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/convert-to-braintree-error":105,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/methods":130,"../lib/promise":132,"../paypal/shared/constants":155,"./errors":150,"@braintree/wrap-promise":30}],153:[function(_dereq_,module,exports){(function(global){"use strict";var frameService=_dereq_("../../lib/frame-service/external"),BraintreeError=_dereq_("../../lib/braintree-error"),convertToBraintreeError=_dereq_("../../lib/convert-to-braintree-error"),useMin=_dereq_("../../lib/use-min"),once=_dereq_("../../lib/once"),constants=_dereq_("../shared/constants"),INTEGRATION_TIMEOUT_MS=_dereq_("../../lib/constants").INTEGRATION_TIMEOUT_MS,analytics=_dereq_("../../lib/analytics"),methods=_dereq_("../../lib/methods"),deferred=_dereq_("../../lib/deferred"),errors=_dereq_("../shared/errors"),convertMethodsToError=_dereq_("../../lib/convert-methods-to-error"),querystring=_dereq_("../../lib/querystring"),Promise=_dereq_("../../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise");function PayPal(options){this._client=options.client,this._assetsUrl=options.client.getConfiguration().gatewayConfiguration.paypal.assetsUrl+"/web/3.58.0",this._isDebug=options.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+useMin(this._isDebug)+".html",this._authorizationInProgress=!1}PayPal.prototype._initialize=function(){var self=this,client=this._client,failureTimeout=setTimeout((function(){analytics.sendEvent(client,"paypal.load.timed-out")}),INTEGRATION_TIMEOUT_MS);return new Promise((function(resolve){frameService.create({name:constants.LANDING_FRAME_NAME,dispatchFrameUrl:self._assetsUrl+"/html/dispatch-frame"+useMin(self._isDebug)+".html",openFrameUrl:self._loadingFrameUrl},(function(service){self._frameService=service,clearTimeout(failureTimeout),analytics.sendEvent(client,"paypal.load.succeeded"),resolve(self)}))}))},PayPal.prototype.tokenize=function(options,callback){var tokenizePromise,optionError,self=this,client=this._client;return callback&&(callback=once(deferred(callback))),options&&constants.FLOW_ENDPOINTS.hasOwnProperty(options.flow)?(tokenizePromise=new Promise((function(resolve,reject){self._authorizationInProgress?(analytics.sendEvent(client,"paypal.tokenization.error.already-opened"),reject(new BraintreeError(errors.PAYPAL_TOKENIZATION_REQUEST_ACTIVE))):(self._authorizationInProgress=!0,global.popupBridge||analytics.sendEvent(client,"paypal.tokenization.opened"),!0===options.offerCredit&&analytics.sendEvent(client,"paypal.credit.offered"),self._navigateFrameToAuth(options)["catch"](reject),self._frameService.open({},self._createFrameServiceCallback(options,resolve,reject)))})),callback?(tokenizePromise.then((function(res){callback(null,res)}))["catch"](callback),this._frameService.createHandler({beforeClose:function(){analytics.sendEvent(client,"paypal.tokenization.closed.by-merchant")}})):tokenizePromise):(optionError=new BraintreeError(errors.PAYPAL_FLOW_OPTION_REQUIRED),callback?(callback(optionError),this._frameService.createNoopHandler()):Promise.reject(optionError))},PayPal.prototype._createFrameServiceCallback=function(options,resolve,reject){var self=this,client=this._client;return global.popupBridge?function(err,payload){var canceled=payload&&payload.path&&"/cancel"===payload.path.substring(0,7);self._authorizationInProgress=!1,err||canceled?(analytics.sendEvent(client,"paypal.tokenization.closed-popupbridge.by-user"),reject(new BraintreeError(errors.PAYPAL_POPUP_CLOSED))):payload&&self._tokenizePayPal(options,payload.queryItems).then(resolve)["catch"](reject)}:function(err,params){self._authorizationInProgress=!1,err?"FRAME_SERVICE_FRAME_CLOSED"===err.code?(analytics.sendEvent(client,"paypal.tokenization.closed.by-user"),reject(new BraintreeError(errors.PAYPAL_POPUP_CLOSED))):err.code&&err.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1&&reject(new BraintreeError({code:errors.PAYPAL_POPUP_OPEN_FAILED.code,type:errors.PAYPAL_POPUP_OPEN_FAILED.type,message:errors.PAYPAL_POPUP_OPEN_FAILED.message,details:{originalError:err}})):params&&self._tokenizePayPal(options,params).then(resolve)["catch"](reject)}},PayPal.prototype._tokenizePayPal=function(options,params){var self=this,client=this._client;return global.popupBridge||this._frameService.redirect(this._loadingFrameUrl),client.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(options,params)}).then((function(response){var payload=self._formatTokenizePayload(response);return global.popupBridge?analytics.sendEvent(client,"paypal.tokenization.success-popupbridge"):analytics.sendEvent(client,"paypal.tokenization.success"),payload.creditFinancingOffered&&analytics.sendEvent(client,"paypal.credit.accepted"),self._frameService.close(),payload}))["catch"]((function(err){return global.popupBridge?analytics.sendEvent(client,"paypal.tokenization.failed-popupbridge"):analytics.sendEvent(client,"paypal.tokenization.failed"),self._frameService.close(),Promise.reject(convertToBraintreeError(err,{type:errors.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:errors.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:errors.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message}))}))},PayPal.prototype._formatTokenizePayload=function(response){var payload,account={};return response.paypalAccounts&&(account=response.paypalAccounts[0]),payload={nonce:account.nonce,details:{},type:account.type},account.details&&account.details.payerInfo&&(payload.details=account.details.payerInfo),account.details&&account.details.creditFinancingOffered&&(payload.creditFinancingOffered=account.details.creditFinancingOffered),payload},PayPal.prototype._formatTokenizeData=function(options,params){var clientConfiguration=this._client.getConfiguration(),gatewayConfiguration=clientConfiguration.gatewayConfiguration,isTokenizationKey="TOKENIZATION_KEY"===clientConfiguration.authorizationType,data={paypalAccount:{correlationId:params.ba_token||params.token,options:{validate:"vault"===options.flow&&!isTokenizationKey}}};return params.ba_token?data.paypalAccount.billingAgreementToken=params.ba_token:(data.paypalAccount.paymentToken=params.paymentId,data.paypalAccount.payerId=params.PayerID,data.paypalAccount.unilateral=gatewayConfiguration.paypal.unvettedMerchant,options.hasOwnProperty("intent")&&(data.paypalAccount.intent=options.intent)),data},PayPal.prototype._navigateFrameToAuth=function(options){var self=this,client=this._client,endpoint="paypal_hermes/"+constants.FLOW_ENDPOINTS[options.flow];return client.request({endpoint:endpoint,method:"post",data:this._formatPaymentResourceData(options)}).then((function(response){var redirectUrl;redirectUrl="checkout"===options.flow?response.paymentResource.redirectUrl:response.agreementSetup.approvalUrl,"commit"===options.useraction&&(redirectUrl=querystring.queryify(redirectUrl,{useraction:"commit"})),global.popupBridge&&analytics.sendEvent(client,"paypal.tokenization.opened-popupbridge"),self._frameService.redirect(redirectUrl)}))["catch"]((function(err){var status=err.details&&err.details.httpStatus;return self._frameService.close(),self._authorizationInProgress=!1,422===status?Promise.reject(new BraintreeError({type:errors.PAYPAL_INVALID_PAYMENT_OPTION.type,code:errors.PAYPAL_INVALID_PAYMENT_OPTION.code,message:errors.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:err}})):Promise.reject(convertToBraintreeError(err,{type:errors.PAYPAL_FLOW_FAILED.type,code:errors.PAYPAL_FLOW_FAILED.code,message:errors.PAYPAL_FLOW_FAILED.message}))}))},PayPal.prototype._formatPaymentResourceData=function(options){var key,gatewayConfiguration=this._client.getConfiguration().gatewayConfiguration,serviceId=this._frameService._serviceId,paymentResource={returnUrl:gatewayConfiguration.paypal.assetsUrl+"/web/3.58.0/html/redirect-frame"+useMin(this._isDebug)+".html?channel="+serviceId,cancelUrl:gatewayConfiguration.paypal.assetsUrl+"/web/3.58.0/html/cancel-frame"+useMin(this._isDebug)+".html?channel="+serviceId,offerPaypalCredit:!0===options.offerCredit,experienceProfile:{brandName:options.displayName||gatewayConfiguration.paypal.displayName,localeCode:options.locale,noShipping:(!options.enableShippingAddress).toString(),addressOverride:!1===options.shippingAddressEditable,landingPageType:options.landingPageType}};if(global.popupBridge&&"function"==typeof global.popupBridge.getReturnUrlPrefix&&(paymentResource.returnUrl=global.popupBridge.getReturnUrlPrefix()+"return",paymentResource.cancelUrl=global.popupBridge.getReturnUrlPrefix()+"cancel"),"checkout"===options.flow)for(key in paymentResource.amount=options.amount,paymentResource.currencyIsoCode=options.currency,options.hasOwnProperty("intent")&&(paymentResource.intent=options.intent),options.shippingAddressOverride)options.shippingAddressOverride.hasOwnProperty(key)&&(paymentResource[key]=options.shippingAddressOverride[key]);else paymentResource.shippingAddress=options.shippingAddressOverride,options.billingAgreementDescription&&(paymentResource.description=options.billingAgreementDescription);return paymentResource},PayPal.prototype.closeWindow=function(){this._authorizationInProgress&&analytics.sendEvent(this._client,"paypal.tokenize.closed.by-merchant"),this._frameService.close()},PayPal.prototype.focusWindow=function(){this._frameService.focus()},PayPal.prototype.teardown=wrapPromise((function(){return this._frameService.teardown(),convertMethodsToError(this,methods(PayPal.prototype)),analytics.sendEvent(this._client,"paypal.teardown-completed"),Promise.resolve()})),module.exports=PayPal}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":93,"../../lib/braintree-error":98,"../../lib/constants":103,"../../lib/convert-methods-to-error":104,"../../lib/convert-to-braintree-error":105,"../../lib/deferred":109,"../../lib/frame-service/external":115,"../../lib/methods":130,"../../lib/once":131,"../../lib/promise":132,"../../lib/querystring":133,"../../lib/use-min":134,"../shared/constants":155,"../shared/errors":156,"@braintree/wrap-promise":30}],154:[function(_dereq_,module,exports){"use strict";var analytics=_dereq_("../lib/analytics"),basicComponentVerification=_dereq_("../lib/basic-component-verification"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),BraintreeError=_dereq_("../lib/braintree-error"),errors=_dereq_("./shared/errors"),PayPal=_dereq_("./external/paypal"),wrapPromise=_dereq_("@braintree/wrap-promise"),Promise=_dereq_("../lib/promise");module.exports={create:wrapPromise((function(options){return basicComponentVerification.verify({name:"PayPal",client:options.client,authorization:options.authorization}).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:"PayPal"})})).then((function(client){var config=client.getConfiguration();return options.client=client,!0!==config.gatewayConfiguration.paypalEnabled?Promise.reject(new BraintreeError(errors.PAYPAL_NOT_ENABLED)):(analytics.sendEvent(options.client,"paypal.initialized"),new PayPal(options)._initialize())}))})),isSupported:function(){return!0},VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./external/paypal":153,"./shared/errors":156,"@braintree/wrap-promise":30}],155:[function(_dereq_,module,exports){"use strict";module.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"}}},{}],156:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../../lib/braintree-error");module.exports={PAYPAL_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_TOKENIZATION_REQUEST_ACTIVE:{type:BraintreeError.types.MERCHANT,code:"PAYPAL_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:BraintreeError.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:BraintreeError.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:BraintreeError.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_POPUP_OPEN_FAILED:{type:BraintreeError.types.MERCHANT,code:"PAYPAL_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to tokenize in response to a user action."},PAYPAL_POPUP_CLOSED:{type:BraintreeError.types.CUSTOMER,code:"PAYPAL_POPUP_CLOSED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:BraintreeError.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../../lib/braintree-error":98}],157:[function(_dereq_,module,exports){"use strict";var wrapPromise=_dereq_("@braintree/wrap-promise"),basicComponentVerification=_dereq_("../lib/basic-component-verification"),PreferredPaymentMethods=_dereq_("./preferred-payment-methods");module.exports={create:wrapPromise((function(options){return basicComponentVerification.verify({name:"PreferredPaymentMethods",client:options.client,authorization:options.authorization}).then((function(){return(new PreferredPaymentMethods).initialize(options)}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"./preferred-payment-methods":158,"@braintree/wrap-promise":30}],158:[function(_dereq_,module,exports){"use strict";var wrapPromise=_dereq_("@braintree/wrap-promise"),analytics=_dereq_("../lib/analytics"),createAssetsUrl=_dereq_("../lib/create-assets-url"),createDeferredClient=_dereq_("../lib/create-deferred-client"),Promise=_dereq_("../lib/promise");function PreferredPaymentMethods(){}PreferredPaymentMethods.prototype.initialize=function(options){var self=this;return this._clientPromise=createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:"PreferredPaymentMethods"})["catch"]((function(err){return self._setupError=err,Promise.reject(err)})),analytics.sendEvent(this._clientPromise,"preferred-payment-methods.initialized"),Promise.resolve(this)},PreferredPaymentMethods.prototype.fetchPreferredPaymentMethods=function(){var client,self=this;return this._clientPromise.then((function(clientInstance){return(client=clientInstance).request({api:"graphQLApi",data:{query:"query ClientConfiguration { clientConfiguration { paypal { paymentMethodAvailableOnDevice } } }"}})})).then((function(result){var paypalPreferred=result.data.clientConfiguration.paypal.paymentMethodAvailableOnDevice;return analytics.sendEvent(client,"preferred-payment-methods.paypal.api-detected."+paypalPreferred),{paypalPreferred:paypalPreferred}}))["catch"]((function(){return self._setupError?Promise.reject(self._setupError):(analytics.sendEvent(client,"preferred-payment-methods.api-error"),{paypalPreferred:!1})}))},module.exports=wrapPromise.wrapPrototype(PreferredPaymentMethods)},{"../lib/analytics":93,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"@braintree/wrap-promise":30}],159:[function(_dereq_,module,exports){(function(global){"use strict";var assign=_dereq_("../../../lib/assign").assign,analytics=_dereq_("../../../lib/analytics"),BraintreeError=_dereq_("../../../lib/braintree-error"),Promise=_dereq_("../../../lib/promise"),ExtendedPromise=_dereq_("@braintree/extended-promise"),EventEmitter=_dereq_("@braintree/event-emitter"),errors=_dereq_("../../shared/errors"),iFramer=_dereq_("@braintree/iframer"),Bus=_dereq_("../../../lib/bus"),constants=_dereq_("../../shared/constants"),uuid=_dereq_("../../../lib/vendor/uuid"),events=_dereq_("../../shared/events"),useMin=_dereq_("../../../lib/use-min");function BaseFramework(options){EventEmitter.call(this),this._client=options.client,this._isDebug=this._client.getConfiguration().isDebug,this._assetsUrl=this._client.getConfiguration().gatewayConfiguration.assetsUrl+"/web/3.58.0",this._createOptions=options}EventEmitter.createChild(BaseFramework),BaseFramework.prototype.setUpEventListeners=function(){throw new BraintreeError(errors.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},BaseFramework.prototype.verifyCard=function(options,privateOptions){var formattedOptions,error,self=this;return privateOptions=privateOptions||{},(error=this._checkForVerifyCardError(options,privateOptions))?Promise.reject(error):(this._verifyCardInProgress=!0,formattedOptions=this._formatVerifyCardOptions(options),this._formatLookupData(formattedOptions).then((function(data){return analytics.sendEvent(self._client,"three-d-secure.verification-flow.started"),self._performLookup(formattedOptions.nonce,data)})).then((function(response){return analytics.sendEvent(self._client,"three-d-secure.verification-flow.3ds-version."+response.lookup.threeDSecureVersion),self._onLookupComplete(response,formattedOptions)})).then((function(response){return self.initializeChallengeWithLookupResponse(response,formattedOptions)})).then((function(payload){return self._resetVerificationState(),analytics.sendEvent(self._client,"three-d-secure.verification-flow.completed"),payload}))["catch"]((function(err){return self._resetVerificationState(),analytics.sendEvent(self._client,"three-d-secure.verification-flow.failed"),Promise.reject(err)})))},BaseFramework.prototype._checkForFrameworkSpecificVerifyCardErrors=function(){throw new BraintreeError(errors.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},BaseFramework.prototype._presentChallenge=function(){throw new BraintreeError(errors.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},BaseFramework.prototype.prepareLookup=function(){throw new BraintreeError(errors.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},BaseFramework.prototype._resetVerificationState=function(){this._verifyCardInProgress=!1,this._verifyCardPromisePlus=null},BaseFramework.prototype._performLookup=function(nonce,data){var self=this,url="payment_methods/"+nonce+"/three_d_secure/lookup";return this._client.request({endpoint:url,method:"post",data:data})["catch"]((function(err){var lookupError,status=err&&err.details&&err.details.httpStatus,analyticsMessage="three-d-secure.verification-flow.lookup-failed";return 404===status?(lookupError=errors.THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR,analyticsMessage+=".404"):422===status?(lookupError=errors.THREEDS_LOOKUP_VALIDATION_ERROR,analyticsMessage+=".422"):lookupError=errors.THREEDS_LOOKUP_ERROR,analytics.sendEvent(self._client,analyticsMessage),Promise.reject(new BraintreeError({type:lookupError.type,code:lookupError.code,message:lookupError.message,details:{originalError:err}}))}))},BaseFramework.prototype._checkForVerifyCardError=function(options,privateOptions){var errorOption;return!0===this._verifyCardInProgress?new BraintreeError(errors.THREEDS_AUTHENTICATION_IN_PROGRESS):(options.nonce?options.amount||(errorOption="an amount"):errorOption="a nonce",errorOption||(errorOption=this._checkForFrameworkSpecificVerifyCardErrors(options,privateOptions)),errorOption?new BraintreeError({type:errors.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:errors.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include "+errorOption+"."}):null)},BaseFramework.prototype.initializeChallengeWithLookupResponse=function(lookupResponse,options){var self=this;return options=options||{},this._lookupPaymentMethod=lookupResponse.paymentMethod,self._verifyCardPromisePlus=self._verifyCardPromisePlus||new ExtendedPromise,self._handleLookupResponse(lookupResponse,options),self._verifyCardPromisePlus.then((function(payload){return analytics.sendEvent(self._client,"three-d-secure.verification-flow.liability-shifted."+String(payload.liabilityShifted)),analytics.sendEvent(self._client,"three-d-secure.verification-flow.liability-shift-possible."+String(payload.liabilityShiftPossible)),payload}))},BaseFramework.prototype._handleLookupResponse=function(lookupResponse,options){var details,challengeShouldBePresented=Boolean(lookupResponse.lookup&&lookupResponse.lookup.acsUrl);analytics.sendEvent(this._client,"three-d-secure.verification-flow.challenge-presented."+String(challengeShouldBePresented)),challengeShouldBePresented?this._presentChallenge(lookupResponse,options):((details=this._formatAuthResponse(lookupResponse.paymentMethod,lookupResponse.threeDSecureInfo)).verificationDetails=lookupResponse.threeDSecureInfo,this._verifyCardPromisePlus.resolve(details))},BaseFramework.prototype._onLookupComplete=function(response){return this._lookupPaymentMethod=response.paymentMethod,this._verifyCardPromisePlus=new ExtendedPromise,Promise.resolve(response)},BaseFramework.prototype._formatAuthResponse=function(paymentMethod,threeDSecureInfo){return{nonce:paymentMethod.nonce,binData:paymentMethod.binData,details:paymentMethod.details,description:paymentMethod.description&&paymentMethod.description.replace(/\+/g," "),liabilityShifted:threeDSecureInfo&&threeDSecureInfo.liabilityShifted,liabilityShiftPossible:threeDSecureInfo&&threeDSecureInfo.liabilityShiftPossible,threeDSecureInfo:paymentMethod.threeDSecureInfo}},BaseFramework.prototype._formatVerifyCardOptions=function(options){return assign({},options)},BaseFramework.prototype._formatLookupData=function(options){var data={amount:options.amount};return Promise.resolve(data)},BaseFramework.prototype._handleV1AuthResponse=function(data){var authResponse=JSON.parse(data.auth_response);authResponse.success?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(authResponse.paymentMethod,authResponse.threeDSecureInfo)):authResponse.threeDSecureInfo&&authResponse.threeDSecureInfo.liabilityShiftPossible?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(this._lookupPaymentMethod,authResponse.threeDSecureInfo)):this._verifyCardPromisePlus.reject(new BraintreeError({type:BraintreeError.types.UNKNOWN,code:"UNKNOWN_AUTH_RESPONSE",message:authResponse.error.message}))},BaseFramework.prototype.cancelVerifyCard=function(){var response,threeDSecureInfo;return this._verifyCardInProgress=!1,this._lookupPaymentMethod?(threeDSecureInfo=this._lookupPaymentMethod.threeDSecureInfo,response=assign({},this._lookupPaymentMethod,{liabilityShiftPossible:threeDSecureInfo&&threeDSecureInfo.liabilityShiftPossible,liabilityShifted:threeDSecureInfo&&threeDSecureInfo.liabilityShifted,verificationDetails:threeDSecureInfo&&threeDSecureInfo.verificationDetails}),Promise.resolve(response)):Promise.reject(new BraintreeError(errors.THREEDS_NO_VERIFICATION_PAYLOAD))},BaseFramework.prototype._setupV1Bus=function(options){var parentURL=global.location.href.split("#")[0],lookupResponse=options.lookupResponse,bus=new Bus({channel:uuid(),merchantUrl:global.location.href}),authenticationCompleteBaseUrl=this._assetsUrl+"/html/three-d-secure-authentication-complete-frame.html?channel="+encodeURIComponent(bus.channel)+"&";return bus.on(Bus.events.CONFIGURATION_REQUEST,(function(reply){reply({acsUrl:lookupResponse.acsUrl,pareq:lookupResponse.pareq,termUrl:lookupResponse.termUrl+"&three_d_secure_version=3.58.0&authentication_complete_base_url="+encodeURIComponent(authenticationCompleteBaseUrl),md:lookupResponse.md,parentUrl:parentURL})})),bus.on(events.AUTHENTICATION_COMPLETE,options.handleAuthResponse),bus},BaseFramework.prototype._setupV1Iframe=function(options){var url=this._assetsUrl+"/html/three-d-secure-bank-frame"+useMin(this._isDebug)+".html?showLoader="+options.showLoader;return iFramer({src:url,height:400,width:400,name:constants.LANDING_FRAME_NAME+"_"+this._v1Bus.channel,title:"3D Secure Authorization Frame"})},BaseFramework.prototype._setupV1Elements=function(options){this._v1Bus=this._setupV1Bus(options),this._v1Iframe=this._setupV1Iframe(options)},BaseFramework.prototype._teardownV1Elements=function(){this._v1Bus&&(this._v1Bus.teardown(),this._v1Bus=null),this._v1Iframe&&this._v1Iframe.parentNode&&(this._v1Iframe.parentNode.removeChild(this._v1Iframe),this._v1Iframe=null),this._onV1Keyup&&(document.removeEventListener("keyup",this._onV1Keyup),this._onV1Keyup=null)},BaseFramework.prototype.teardown=function(){return analytics.sendEvent(this._client,"three-d-secure.teardown-completed"),this._teardownV1Elements(),Promise.resolve()},module.exports=BaseFramework}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/analytics":93,"../../../lib/assign":95,"../../../lib/braintree-error":98,"../../../lib/bus":101,"../../../lib/promise":132,"../../../lib/use-min":134,"../../../lib/vendor/uuid":136,"../../shared/constants":168,"../../shared/errors":169,"../../shared/events":170,"@braintree/event-emitter":21,"@braintree/extended-promise":22,"@braintree/iframer":23}],160:[function(_dereq_,module,exports){"use strict";var SongbirdFramework=_dereq_("./songbird");function Bootstrap3ModalFramework(options){SongbirdFramework.call(this,options)}Bootstrap3ModalFramework.prototype=Object.create(SongbirdFramework.prototype,{constructor:SongbirdFramework}),Bootstrap3ModalFramework.prototype._createV1IframeModalElement=function(iframe){var modal=document.createElement("div");return modal.innerHTML='<div class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="CCAFrameModal-label" aria-hidden="true" style="display: block;"><div class="modal-dialog" style="width:440px;z-index:999999;"><div class="modal-content"><div class="modal-body" data-braintree-v1-fallback-iframe-container><button type="button" data-braintree-v1-fallback-close-button class="close" data-dismiss="modal" aria-hidden="true"></button></div></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;cursor: pointer;z-index: 999998;top: 0;left: 0;width: 100%;height: 100%;"></div></div>',modal.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(iframe),modal},Bootstrap3ModalFramework.prototype._createCardinalConfigurationOptions=function(setupOptions){var options=SongbirdFramework.prototype._createCardinalConfigurationOptions.call(this,setupOptions);return options.payment.framework="bootstrap3",options},module.exports=Bootstrap3ModalFramework},{"./songbird":165}],161:[function(_dereq_,module,exports){"use strict";var SongbirdFramework=_dereq_("./songbird");function CardinalModalFramework(options){SongbirdFramework.call(this,options)}CardinalModalFramework.prototype=Object.create(SongbirdFramework.prototype,{constructor:SongbirdFramework}),CardinalModalFramework.prototype._createV1IframeModalElement=function(iframe){var modal=document.createElement("div"),addCloseButton=Boolean(this._createOptions&&this._createOptions.cardinalSDKConfig&&this._createOptions.cardinalSDKConfig.payment&&this._createOptions.cardinalSDKConfig.payment.displayExitButton);return modal.innerHTML='<div style="position: fixed;z-index: 999999;top: 50%;left: 50%;padding: 24px 20px;transform: translate(-50%,-50%);border-radius: 2px;background: #fff;max-width: 100%;overflow: auto;"><div><button data-braintree-v1-fallback-close-button style="font-family: Helvetica,Arial,sans-serif;font-size: 25px;line-height: 12px;position: absolute;top: 2px;right: 0px;cursor: pointer;color: #999;border: 0;outline: none;background: none;" onMouseOver="this.style.color=\'#000\'" onMouseOut="this.style.color=\'#999\'"></button></div><div data-braintree-v1-fallback-iframe-container style="height: 400px;"></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;z-index: 999998;cursor: pointer;top: 0;left: 0;width: 100%;height: 100%;transition: opacity 1ms ease;background: rgba(0,0,0,.6);"></div>',addCloseButton||(modal.querySelector("[data-braintree-v1-fallback-close-button]").style.display="none"),modal.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(iframe),modal},module.exports=CardinalModalFramework},{"./songbird":165}],162:[function(_dereq_,module,exports){"use strict";var LegacyFramework=_dereq_("./legacy"),CardinalModalFramework=_dereq_("./cardinal-modal"),Bootstrap3ModalFramework=_dereq_("./bootstrap3-modal"),InlineIframeFramework=_dereq_("./inline-iframe");module.exports={legacy:LegacyFramework,"cardinal-modal":CardinalModalFramework,"bootstrap3-modal":Bootstrap3ModalFramework,"inline-iframe":InlineIframeFramework}},{"./bootstrap3-modal":160,"./cardinal-modal":161,"./inline-iframe":163,"./legacy":164}],163:[function(_dereq_,module,exports){"use strict";var SongbirdFramework=_dereq_("./songbird"),BraintreeError=_dereq_("../../../lib/braintree-error"),errors=_dereq_("../../shared/errors"),enumerate=_dereq_("../../../lib/enumerate");function InlineIframeFramework(options){SongbirdFramework.call(this,options)}InlineIframeFramework.prototype=Object.create(SongbirdFramework.prototype,{constructor:SongbirdFramework}),InlineIframeFramework.events=enumerate(["AUTHENTICATION_IFRAME_AVAILABLE"],"inline-iframe-framework:"),InlineIframeFramework.prototype.setUpEventListeners=function(reply){SongbirdFramework.prototype.setUpEventListeners.call(this,reply),this.on(InlineIframeFramework.events.AUTHENTICATION_IFRAME_AVAILABLE,(function(payload,next){reply("authentication-iframe-available",payload,next)}))},InlineIframeFramework.prototype._createCardinalConfigurationOptions=function(setupOptions){var options=SongbirdFramework.prototype._createCardinalConfigurationOptions.call(this,setupOptions);return options.payment.framework="inline",options},InlineIframeFramework.prototype._addV1IframeToPage=function(){this._emit(InlineIframeFramework.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:this._v1Modal},(function(){}))},InlineIframeFramework.prototype._setupFrameworkSpecificListeners=function(){this.setCardinalListener("ui.inline.setup",this._onInlineSetup.bind(this))},InlineIframeFramework.prototype._onInlineSetup=function(htmlTemplate,details,resolve,reject){var container,hasError;htmlTemplate&&details?("CCA"!==details.paymentType||"suppress"!==details.data.mode&&"static"!==details.data.mode)&&(hasError=!0):hasError=!0,hasError?reject(new BraintreeError(errors.THREEDS_INLINE_IFRAME_DETAILS_INCORRECT)):((container=document.createElement("div")).innerHTML=htmlTemplate,"suppress"===details.data.mode?(container.style.display="none",document.body.appendChild(container),resolve()):"static"===details.data.mode&&this._emit(InlineIframeFramework.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:container},(function(){resolve()})))},module.exports=InlineIframeFramework},{"../../../lib/braintree-error":98,"../../../lib/enumerate":111,"../../shared/errors":169,"./songbird":165}],164:[function(_dereq_,module,exports){"use strict";var BaseFramework=_dereq_("./base"),deferred=_dereq_("../../../lib/deferred");function LegacyFramework(options){BaseFramework.call(this,options)}LegacyFramework.prototype=Object.create(BaseFramework.prototype,{constructor:LegacyFramework}),LegacyFramework.prototype.setUpEventListeners=function(){},LegacyFramework.prototype.transformV1CustomerBillingAddress=function(customer){return customer.billingAddress.line1=customer.billingAddress.streetAddress,customer.billingAddress.line2=customer.billingAddress.extendedAddress,customer.billingAddress.city=customer.billingAddress.locality,customer.billingAddress.state=customer.billingAddress.region,customer.billingAddress.countryCode=customer.billingAddress.countryCodeAlpha2,delete customer.billingAddress.streetAddress,delete customer.billingAddress.extendedAddress,delete customer.billingAddress.locality,delete customer.billingAddress.region,delete customer.billingAddress.countryCodeAlpha2,customer},LegacyFramework.prototype._createIframe=function(options){var self=this;return this._setupV1Elements({lookupResponse:options.lookupResponse,showLoader:options.showLoader,handleAuthResponse:function(data){self._handleAuthResponse(data,options)}}),this._v1Iframe},LegacyFramework.prototype._handleAuthResponse=function(data,options){this._v1Bus.teardown(),options.removeFrame(),deferred(function(){this._handleV1AuthResponse(data)}.bind(this))()},LegacyFramework.prototype._checkForFrameworkSpecificVerifyCardErrors=function(options){var errorOption;return"function"!=typeof options.addFrame?errorOption="an addFrame function":"function"!=typeof options.removeFrame&&(errorOption="a removeFrame function"),errorOption},LegacyFramework.prototype._formatVerifyCardOptions=function(options){var modifiedOptions=BaseFramework.prototype._formatVerifyCardOptions.call(this,options);return modifiedOptions.addFrame=deferred(options.addFrame),modifiedOptions.removeFrame=deferred(options.removeFrame),modifiedOptions.showLoader=!1!==options.showLoader,modifiedOptions},LegacyFramework.prototype._formatLookupData=function(options){var self=this;return BaseFramework.prototype._formatLookupData.call(this,options).then((function(data){return options.customer&&options.customer.billingAddress&&(data.customer=self.transformV1CustomerBillingAddress(options.customer)),data}))},LegacyFramework.prototype._presentChallenge=function(lookupResponse,options){options.addFrame(null,this._createIframe({showLoader:options.showLoader,lookupResponse:lookupResponse.lookup,removeFrame:options.removeFrame}))},module.exports=LegacyFramework},{"../../../lib/deferred":109,"./base":159}],165:[function(_dereq_,module,exports){(function(global){"use strict";var BaseFramework=_dereq_("./base"),assign=_dereq_("../../../lib/assign").assign,deferred=_dereq_("../../../lib/deferred"),BraintreeError=_dereq_("../../../lib/braintree-error"),convertToBraintreeError=_dereq_("../../../lib/convert-to-braintree-error"),analytics=_dereq_("../../../lib/analytics"),assets=_dereq_("../../../lib/assets"),errors=_dereq_("../../shared/errors"),enumerate=_dereq_("../../../lib/enumerate"),constants=_dereq_("../../shared/constants"),Promise=_dereq_("../../../lib/promise"),ExtendedPromise=_dereq_("@braintree/extended-promise"),INTEGRATION_TIMEOUT_MS=_dereq_("../../../lib/constants").INTEGRATION_TIMEOUT_MS,PLATFORM=_dereq_("../../../lib/constants").PLATFORM;function SongbirdFramework(options){BaseFramework.call(this,options),this._useV1Fallback=!1,this._clientMetadata={requestedThreeDSecureVersion:"2",sdkVersion:PLATFORM+"/3.58.0"},this._getDfReferenceIdPromisePlus=new ExtendedPromise,this.setupSongbird(options),this._cardinalEvents=[]}function extractAddressData(source,target,prefix){target[prefix+"Line1"]=source.streetAddress,target[prefix+"Line2"]=source.extendedAddress,target[prefix+"Line3"]=source.line3,target[prefix+"City"]=source.locality,target[prefix+"State"]=source.region,target[prefix+"PostalCode"]=source.postalCode,target[prefix+"CountryCode"]=source.countryCodeAlpha2}SongbirdFramework.prototype=Object.create(BaseFramework.prototype,{constructor:SongbirdFramework}),SongbirdFramework.events=enumerate(["ON_LOOKUP_COMPLETE"],"songbird-framework:"),SongbirdFramework.prototype.setUpEventListeners=function(reply){this.on(SongbirdFramework.events.ON_LOOKUP_COMPLETE,(function(data,next){reply("lookup-complete",data,next)}))},SongbirdFramework.prototype.prepareLookup=function(options){var data=assign({},options),self=this;return this.getDfReferenceId().then((function(id){data.dfReferenceId=id})).then((function(){return self._triggerCardinalBinProcess(options.bin)}))["catch"]((function(){})).then((function(){return data.clientMetadata=self._clientMetadata,data.authorizationFingerprint=self._client.getConfiguration().authorizationFingerprint,data.braintreeLibraryVersion="braintree/web/3.58.0",data}))},SongbirdFramework.prototype.initializeChallengeWithLookupResponse=function(lookupResponse,options){return this.setupSongbird().then(function(){return BaseFramework.prototype.initializeChallengeWithLookupResponse.call(this,lookupResponse,options)}.bind(this))},SongbirdFramework.prototype._initiateV1Fallback=function(errorType){this._useV1Fallback=!0,analytics.sendEvent(this._client,"three-d-secure.v1-fallback."+errorType),this._songbirdPromise.resolve()},SongbirdFramework.prototype._triggerCardinalBinProcess=function(bin){var self=this,issuerStartTime=Date.now();return bin?global.Cardinal.trigger("bin.process",bin).then((function(binResults){self._clientMetadata.issuerDeviceDataCollectionTimeElapsed=Date.now()-issuerStartTime,self._clientMetadata.issuerDeviceDataCollectionResult=binResults&&binResults.Status})):Promise.resolve()},SongbirdFramework.prototype.transformBillingAddress=function(additionalInformation,billingAddress){return billingAddress&&(extractAddressData(billingAddress,additionalInformation,"billing"),additionalInformation.billingPhoneNumber=billingAddress.phoneNumber,additionalInformation.billingGivenName=billingAddress.givenName,additionalInformation.billingSurname=billingAddress.surname),additionalInformation},SongbirdFramework.prototype.transformShippingAddress=function(additionalInformation){var shippingAddress=additionalInformation.shippingAddress;return shippingAddress&&(extractAddressData(shippingAddress,additionalInformation,"shipping"),delete additionalInformation.shippingAddress),additionalInformation},SongbirdFramework.prototype._createV1IframeModalElement=function(iframe){var modal=document.createElement("div");return modal.innerHTML='<div data-braintree-v1-fallback-iframe-container="true" style="height: 400px;"></div>',modal.querySelector('[data-braintree-v1-fallback-iframe-container="true"]').appendChild(iframe),modal},SongbirdFramework.prototype._createV1IframeModal=function(iframe){var modal=this._createV1IframeModalElement(iframe),btn=modal.querySelector("[data-braintree-v1-fallback-close-button]"),backdrop=modal.querySelector("[data-braintree-v1-fallback-backdrop]"),self=this;function closeHandler(){modal.parentNode.removeChild(modal),self.cancelVerifyCard(errors.THREEDS_CARDINAL_SDK_CANCELED),document.removeEventListener("keyup",self._onV1Keyup),self._onV1Keyup=null}return this._onV1Keyup=function(e){"Escape"===e.key&&modal.parentNode&&closeHandler()},btn&&btn.addEventListener("click",closeHandler),backdrop&&backdrop.addEventListener("click",closeHandler),document.addEventListener("keyup",this._onV1Keyup),modal},SongbirdFramework.prototype._addV1IframeToPage=function(){document.body.appendChild(this._v1Modal)},SongbirdFramework.prototype._handleAuthResponseFromV1Fallback=function(data){this._teardownV1Elements(),this._v1Modal.parentNode.removeChild(this._v1Modal),this._handleV1AuthResponse(data)},SongbirdFramework.prototype._presentChallengeWithV1Fallback=function(lookupResponse){var self=this;this._setupV1Elements({lookupResponse:lookupResponse,showLoader:!0,handleAuthResponse:function(data){self._handleAuthResponseFromV1Fallback(data)}}),this._v1Modal=this._createV1IframeModal(this._v1Iframe),this._addV1IframeToPage()},SongbirdFramework.prototype.setupSongbird=function(setupOptions){var self=this,startTime=Date.now();return this._songbirdPromise||(setupOptions=setupOptions||{},this._songbirdPromise=new ExtendedPromise,this._v2SetupFailureReason="reason-unknown",self._loadCardinalScript(setupOptions).then((function(){return global.Cardinal?self._configureCardinalSdk({setupOptions:setupOptions,setupStartTime:startTime}):(self._v2SetupFailureReason="cardinal-global-unavailable",Promise.reject(new BraintreeError(errors.THREEDS_CARDINAL_SDK_SETUP_FAILED)))}))["catch"]((function(err){var error=convertToBraintreeError(err,{type:errors.THREEDS_CARDINAL_SDK_SETUP_FAILED.type,code:errors.THREEDS_CARDINAL_SDK_SETUP_FAILED.code,message:errors.THREEDS_CARDINAL_SDK_SETUP_FAILED.message});self._getDfReferenceIdPromisePlus.reject(error),global.clearTimeout(self._songbirdSetupTimeoutReference),analytics.sendEvent(self._client,"three-d-secure.cardinal-sdk.init.setup-failed"),self._initiateV1Fallback("cardinal-sdk-setup-failed."+self._v2SetupFailureReason)}))),this._songbirdPromise},SongbirdFramework.prototype._configureCardinalSdk=function(config){var self=this;return Promise.resolve().then((function(){var jwt=self._client.getConfiguration().gatewayConfiguration.threeDSecure.cardinalAuthenticationJWT,setupOptions=config.setupOptions,setupStartTime=config.setupStartTime,cardinalConfiguration=self._createCardinalConfigurationOptions(setupOptions);self.setCardinalListener("payments.setupComplete",self._createPaymentsSetupCompleteCallback()),self._setupFrameworkSpecificListeners(),global.Cardinal.configure(cardinalConfiguration),global.Cardinal.setup("init",{jwt:jwt}),self._clientMetadata.cardinalDeviceDataCollectionTimeElapsed=Date.now()-setupStartTime,self.setCardinalListener("payments.validated",self._createPaymentsValidatedCallback())}))["catch"]((function(err){return self._v2SetupFailureReason="cardinal-configuration-threw-error",Promise.reject(err)}))},SongbirdFramework.prototype.setCardinalListener=function(eventName,cb){this._cardinalEvents.push(eventName),global.Cardinal.on(eventName,cb)},SongbirdFramework.prototype._setupFrameworkSpecificListeners=function(){},SongbirdFramework.prototype._createCardinalConfigurationOptions=function(setupOptions){var cardinalConfiguration=setupOptions.cardinalSDKConfig||{},paymentSettings=cardinalConfiguration.payment||{};return!cardinalConfiguration.logging&&setupOptions.loggingEnabled&&(cardinalConfiguration.logging={level:"verbose"}),cardinalConfiguration.payment={},paymentSettings.hasOwnProperty("displayLoading")&&(cardinalConfiguration.payment.displayLoading=paymentSettings.displayLoading),paymentSettings.hasOwnProperty("displayExitButton")&&(cardinalConfiguration.payment.displayExitButton=paymentSettings.displayExitButton),cardinalConfiguration},SongbirdFramework.prototype._loadCardinalScript=function(setupOptions){var self=this,scriptSource=constants.CARDINAL_SCRIPT_SOURCE.sandbox,isProduction="production"===this._client.getConfiguration().gatewayConfiguration.environment;return this._songbirdSetupTimeoutReference=global.setTimeout((function(){analytics.sendEvent(self._client,"three-d-secure.cardinal-sdk.init.setup-timeout"),self._initiateV1Fallback("cardinal-sdk-setup-timeout")}),setupOptions.timeout||INTEGRATION_TIMEOUT_MS),isProduction&&(scriptSource=constants.CARDINAL_SCRIPT_SOURCE.production),assets.loadScript({src:scriptSource})["catch"]((function(err){return self._v2SetupFailureReason="songbird-js-failed-to-load",Promise.reject(convertToBraintreeError(err,errors.THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED))}))},SongbirdFramework.prototype._createPaymentsSetupCompleteCallback=function(){var self=this;return function(data){self._getDfReferenceIdPromisePlus.resolve(data.sessionId),global.clearTimeout(self._songbirdSetupTimeoutReference),analytics.sendEvent(self._client,"three-d-secure.cardinal-sdk.init.setup-completed"),self._songbirdPromise.resolve()}},SongbirdFramework.prototype.getDfReferenceId=function(){return this._getDfReferenceIdPromisePlus},SongbirdFramework.prototype._performJWTValidation=function(jwt){var nonce=this._lookupPaymentMethod.nonce,url="payment_methods/"+nonce+"/three_d_secure/authenticate_from_jwt",self=this;return analytics.sendEvent(self._client,"three-d-secure.verification-flow.upgrade-payment-method.started"),this._client.request({method:"post",endpoint:url,data:{jwt:jwt,paymentMethodNonce:nonce}}).then((function(response){var paymentMethod=response.paymentMethod||self._lookupPaymentMethod,formattedResponse=self._formatAuthResponse(paymentMethod,response.threeDSecureInfo);return analytics.sendEvent(self._client,"three-d-secure.verification-flow.upgrade-payment-method.succeeded"),Promise.resolve(formattedResponse)}))["catch"]((function(err){var error=new BraintreeError({type:errors.THREEDS_JWT_AUTHENTICATION_FAILED.type,code:errors.THREEDS_JWT_AUTHENTICATION_FAILED.code,message:errors.THREEDS_JWT_AUTHENTICATION_FAILED.message,details:{originalError:err}});return analytics.sendEvent(self._client,"three-d-secure.verification-flow.upgrade-payment-method.errored"),Promise.reject(error)}))},SongbirdFramework.prototype._createPaymentsValidatedCallback=function(){var self=this;return function(data,validatedJwt){var formattedError;if(analytics.sendEvent(self._client,"three-d-secure.verification-flow.cardinal-sdk.action-code."+data.ActionCode.toLowerCase()),self._verifyCardPromisePlus)switch(data.ActionCode){case"SUCCESS":case"NOACTION":case"FAILURE":self._performJWTValidation(validatedJwt).then((function(result){self._verifyCardPromisePlus.resolve(result)}))["catch"]((function(err){self._verifyCardPromisePlus.reject(err)}));break;case"ERROR":switch(analytics.sendEvent(self._client,"three-d-secure.verification-flow.cardinal-sdk-error."+data.ErrorNumber),data.ErrorNumber){case 10001:case 10002:formattedError=new BraintreeError(errors.THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT);break;case 10003:case 10007:case 10009:formattedError=new BraintreeError(errors.THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT);break;case 10005:case 10006:formattedError=new BraintreeError(errors.THREEDS_CARDINAL_SDK_BAD_CONFIG);break;case 10008:case 10010:formattedError=new BraintreeError(errors.THREEDS_CARDINAL_SDK_BAD_JWT);break;case 10011:analytics.sendEvent(self._client,"three-d-secure.verification-flow.canceled"),formattedError=new BraintreeError(errors.THREEDS_CARDINAL_SDK_CANCELED);break;default:formattedError=new BraintreeError(errors.THREEDS_CARDINAL_SDK_ERROR)}formattedError.details={originalError:{code:data.ErrorNumber,description:data.ErrorDescription}},self._verifyCardPromisePlus.reject(formattedError)}else self._initiateV1Fallback("cardinal-sdk-setup-error.number-"+data.ErrorNumber)}},SongbirdFramework.prototype._checkForVerifyCardError=function(options,privateOptions){return BaseFramework.prototype._checkForVerifyCardError.call(this,options,privateOptions)},SongbirdFramework.prototype._checkForFrameworkSpecificVerifyCardErrors=function(options,privateOptions){var errorOption;return"function"==typeof options.onLookupComplete||privateOptions.ignoreOnLookupCompleteRequirement||(errorOption="an onLookupComplete function"),errorOption},SongbirdFramework.prototype._formatVerifyCardOptions=function(options){var modifiedOptions=BaseFramework.prototype._formatVerifyCardOptions.call(this,options),additionalInformation=modifiedOptions.additionalInformation||{};return additionalInformation=this.transformBillingAddress(additionalInformation,options.billingAddress),additionalInformation=this.transformShippingAddress(additionalInformation),options.onLookupComplete&&(modifiedOptions.onLookupComplete=deferred(options.onLookupComplete)),options.email&&(additionalInformation.email=options.email),options.mobilePhoneNumber&&(additionalInformation.mobilePhoneNumber=options.mobilePhoneNumber),modifiedOptions.additionalInformation=additionalInformation,modifiedOptions},SongbirdFramework.prototype._onLookupComplete=function(lookupResponse,options){var self=this;return BaseFramework.prototype._onLookupComplete.call(this,lookupResponse).then((function(response){return new Promise((function(resolve,reject){function next(){resolve(response)}response.requiresUserAuthentication=Boolean(response.lookup&&response.lookup.acsUrl),self._verifyCardPromisePlus["catch"](reject),options.onLookupComplete?options.onLookupComplete(response,next):self._emit(SongbirdFramework.events.ON_LOOKUP_COMPLETE,response,next)}))}))},SongbirdFramework.prototype._presentChallenge=function(lookupResponse){this._useV1Fallback?this._presentChallengeWithV1Fallback(lookupResponse.lookup):global.Cardinal["continue"]("cca",{AcsUrl:lookupResponse.lookup.acsUrl,Payload:lookupResponse.lookup.pareq},{OrderDetails:{TransactionId:lookupResponse.lookup.transactionId}})},SongbirdFramework.prototype._formatLookupData=function(options){var self=this;return BaseFramework.prototype._formatLookupData.call(this,options).then((function(data){return data.additionalInfo=options.additionalInformation,options.challengeRequested&&(data.challengeRequested=options.challengeRequested),options.exemptionRequested&&(data.exemptionRequested=options.exemptionRequested),options.bin&&(data.bin=options.bin),self.prepareLookup(data)}))},SongbirdFramework.prototype.cancelVerifyCard=function(verifyCardError){var self=this;return BaseFramework.prototype.cancelVerifyCard.call(this).then((function(response){return self._verifyCardPromisePlus&&(verifyCardError=verifyCardError||new BraintreeError(errors.THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT),self._verifyCardPromisePlus.reject(verifyCardError)),response}))},SongbirdFramework.prototype.teardown=function(){return global.Cardinal&&this._cardinalEvents.forEach((function(eventName){global.Cardinal.off(eventName)})),BaseFramework.prototype.teardown.call(this)},module.exports=SongbirdFramework}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/analytics":93,"../../../lib/assets":94,"../../../lib/assign":95,"../../../lib/braintree-error":98,"../../../lib/constants":103,"../../../lib/convert-to-braintree-error":105,"../../../lib/deferred":109,"../../../lib/enumerate":111,"../../../lib/promise":132,"../../shared/constants":168,"../../shared/errors":169,"./base":159,"@braintree/extended-promise":22}],166:[function(_dereq_,module,exports){"use strict";var wrapPromise=_dereq_("@braintree/wrap-promise"),methods=_dereq_("../../lib/methods"),convertMethodsToError=_dereq_("../../lib/convert-methods-to-error"),EventEmitter=_dereq_("@braintree/event-emitter"),FRAMEWORKS=_dereq_("./frameworks");function ThreeDSecure(options){var self=this,Framework=FRAMEWORKS[options.framework];EventEmitter.call(this),this._framework=new Framework(options),this._framework.setUpEventListeners((function(){self._emit.apply(self,arguments)}))}EventEmitter.createChild(ThreeDSecure),ThreeDSecure.prototype.verifyCard=function(options){var privateOptions;return this.hasListener("lookup-complete")&&(privateOptions={ignoreOnLookupCompleteRequirement:!0}),this._framework.verifyCard(options,privateOptions)},ThreeDSecure.prototype.initializeChallengeWithLookupResponse=function(lookupResponse){return"string"==typeof lookupResponse&&(lookupResponse=JSON.parse(lookupResponse)),this._framework.initializeChallengeWithLookupResponse(lookupResponse)},ThreeDSecure.prototype.prepareLookup=function(options){return this._framework.prepareLookup(options).then((function(data){return JSON.stringify(data)}))},ThreeDSecure.prototype.cancelVerifyCard=function(){return this._framework.cancelVerifyCard()},ThreeDSecure.prototype.teardown=function(){var methodNames=methods(ThreeDSecure.prototype).concat(methods(EventEmitter.prototype));return convertMethodsToError(this,methodNames),this._framework.teardown()},module.exports=wrapPromise.wrapPrototype(ThreeDSecure)},{"../../lib/convert-methods-to-error":104,"../../lib/methods":130,"./frameworks":162,"@braintree/event-emitter":21,"@braintree/wrap-promise":30}],167:[function(_dereq_,module,exports){"use strict";var ThreeDSecure=_dereq_("./external/three-d-secure"),isHTTPS=_dereq_("../lib/is-https").isHTTPS,basicComponentVerification=_dereq_("../lib/basic-component-verification"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),BraintreeError=_dereq_("../lib/braintree-error"),analytics=_dereq_("../lib/analytics"),errors=_dereq_("./shared/errors"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise");module.exports={create:wrapPromise((function(options){return basicComponentVerification.verify({name:"3D Secure",client:options.client,authorization:options.authorization}).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:"3D Secure"})})).then((function(client){var error,config=client.getConfiguration(),gwConfig=config.gatewayConfiguration,framework=function(options){var version=String(options.version||"");if(!version||"1"===version)return"legacy";switch(version){case"2":case"2-cardinal-modal":return"cardinal-modal";case"2-bootstrap3-modal":return"bootstrap3-modal";case"2-inline-iframe":return"inline-iframe";default:throw new BraintreeError({code:errors.THREEDS_UNRECOGNIZED_VERSION.code,type:errors.THREEDS_UNRECOGNIZED_VERSION.type,message:"Version `"+options.version+"` is not a recognized version. You may need to update the version of your Braintree SDK to support this version."})}}(options);return options.client=client,gwConfig.threeDSecureEnabled||(error=errors.THREEDS_NOT_ENABLED),"TOKENIZATION_KEY"===config.authorizationType&&(error=errors.THREEDS_CAN_NOT_USE_TOKENIZATION_KEY),"production"===gwConfig.environment&&!isHTTPS()&&(error=errors.THREEDS_HTTPS_REQUIRED),"legacy"===framework||gwConfig.threeDSecure&&gwConfig.threeDSecure.cardinalAuthenticationJWT||(analytics.sendEvent(options.client,"three-d-secure.initialization.failed.missing-cardinalAuthenticationJWT"),error=errors.THREEDS_NOT_ENABLED_FOR_V2),error?Promise.reject(new BraintreeError(error)):(analytics.sendEvent(options.client,"three-d-secure.initialized"),new ThreeDSecure({client:options.client,loggingEnabled:options.loggingEnabled,cardinalSDKConfig:options.cardinalSDKConfig,framework:framework}))}))})),VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/is-https":127,"../lib/promise":132,"./external/three-d-secure":166,"./shared/errors":169,"@braintree/wrap-promise":30}],168:[function(_dereq_,module,exports){"use strict";module.exports={LANDING_FRAME_NAME:"braintreethreedsecurelanding",CARDINAL_SCRIPT_SOURCE:{production:"https://songbird.cardinalcommerce.com/edge/v1/songbird.js",sandbox:"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js"}}},{}],169:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../../lib/braintree-error");module.exports={THREEDS_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"THREEDS_NOT_ENABLED",message:"3D Secure is not enabled for this merchant."},THREEDS_CAN_NOT_USE_TOKENIZATION_KEY:{type:BraintreeError.types.MERCHANT,code:"THREEDS_CAN_NOT_USE_TOKENIZATION_KEY",message:"3D Secure can not use a tokenization key for authorization."},THREEDS_HTTPS_REQUIRED:{type:BraintreeError.types.MERCHANT,code:"THREEDS_HTTPS_REQUIRED",message:"3D Secure requires HTTPS."},THREEDS_NOT_ENABLED_FOR_V2:{type:BraintreeError.types.MERCHANT,code:"THREEDS_NOT_ENABLED_FOR_V2",message:"3D Secure version 2 is not enabled for this merchant. Contact Braintree Support for assistance at https://help.braintreepayments.com/"},THREEDS_UNRECOGNIZED_VERSION:{type:BraintreeError.types.MERCHANT,code:"THREEDS_UNRECOGNIZED_VERSION"},THREEDS_CARDINAL_SDK_SETUP_FAILED:{type:BraintreeError.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_FAILED",message:"Something went wrong setting up Cardinal's Songbird.js library."},THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED:{type:BraintreeError.types.NETWORK,code:"THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED",message:"Cardinal's Songbird.js library could not be loaded."},THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT:{type:BraintreeError.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT",message:"Cardinal's Songbird.js took too long to setup."},THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT:{type:BraintreeError.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT",message:"Cardinal's API took too long to respond."},THREEDS_CARDINAL_SDK_BAD_CONFIG:{type:BraintreeError.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_CONFIG",message:"JWT or other required field missing. Please check your setup configuration."},THREEDS_CARDINAL_SDK_BAD_JWT:{type:BraintreeError.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_JWT",message:"Cardinal JWT missing or malformed. Please check your setup configuration."},THREEDS_CARDINAL_SDK_ERROR:{type:BraintreeError.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_ERROR",message:"A general error has occurred with Cardinal. See description for more information."},THREEDS_CARDINAL_SDK_CANCELED:{type:BraintreeError.types.CUSTOMER,code:"THREEDS_CARDINAL_SDK_CANCELED",message:"Canceled by user."},THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT:{type:BraintreeError.types.MERCHANT,code:"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT",message:"3D Secure verfication canceled by merchant."},THREEDS_AUTHENTICATION_IN_PROGRESS:{type:BraintreeError.types.MERCHANT,code:"THREEDS_AUTHENTICATION_IN_PROGRESS",message:"Cannot call verifyCard while existing authentication is in progress."},THREEDS_MISSING_VERIFY_CARD_OPTION:{type:BraintreeError.types.MERCHANT,code:"THREEDS_MISSING_VERIFY_CARD_OPTION"},THREEDS_JWT_AUTHENTICATION_FAILED:{type:BraintreeError.types.UNKNOWN,code:"THREEDS_JWT_AUTHENTICATION_FAILED",message:"Something went wrong authenticating the JWT from Cardinal"},THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR:{type:BraintreeError.types.MERCHANT,code:"THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR",message:"Either the payment method nonce passed to `verifyCard` does not exist, or it was already consumed"},THREEDS_LOOKUP_VALIDATION_ERROR:{type:BraintreeError.types.CUSTOMER,code:"THREEDS_LOOKUP_VALIDATION_ERROR",message:"The data passed in `verifyCard` did not pass validation checks. See details for more info"},THREEDS_LOOKUP_ERROR:{type:BraintreeError.types.UNKNOWN,code:"THREEDS_LOOKUP_ERROR",message:"Something went wrong during the 3D Secure lookup"},THREEDS_INLINE_IFRAME_DETAILS_INCORRECT:{type:BraintreeError.types.UNKNOWN,code:"THREEDS_INLINE_IFRAME_DETAILS_INCORRECT",message:"Something went wrong when attempting to add the authentication iframe to the page."},THREEDS_NO_VERIFICATION_PAYLOAD:{type:BraintreeError.types.MERCHANT,code:"THREEDS_NO_VERIFICATION_PAYLOAD",message:"No verification payload available."},THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN:{type:BraintreeError.types.INTERNAL,code:"THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN",message:"Term Url must be on a Braintree domain."},THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED:{type:BraintreeError.types.INTERNAL,code:"THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED",message:"Method not implemented for this framework."}}},{"../../lib/braintree-error":98}],170:[function(_dereq_,module,exports){"use strict";var enumerate=_dereq_("../../lib/enumerate");module.exports=enumerate(["AUTHENTICATION_COMPLETE"],"threedsecure:")},{"../../lib/enumerate":111}],171:[function(_dereq_,module,exports){"use strict";var UnionPay=_dereq_("./shared/unionpay"),basicComponentVerification=_dereq_("../lib/basic-component-verification"),BraintreeError=_dereq_("../lib/braintree-error"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),analytics=_dereq_("../lib/analytics"),errors=_dereq_("./shared/errors"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise");module.exports={create:wrapPromise((function(options){return basicComponentVerification.verify({name:"UnionPay",client:options.client,authorization:options.authorization}).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:"UnionPay"})})).then((function(client){var config=client.getConfiguration();return options.client=client,config.gatewayConfiguration.unionPay&&!0===config.gatewayConfiguration.unionPay.enabled?(analytics.sendEvent(options.client,"unionpay.initialized"),new UnionPay(options)):Promise.reject(new BraintreeError(errors.UNIONPAY_NOT_ENABLED))}))})),VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./shared/errors":173,"./shared/unionpay":174,"@braintree/wrap-promise":30}],172:[function(_dereq_,module,exports){"use strict";var enumerate=_dereq_("../../lib/enumerate");module.exports={events:enumerate(["HOSTED_FIELDS_FETCH_CAPABILITIES","HOSTED_FIELDS_ENROLL","HOSTED_FIELDS_TOKENIZE"],"union-pay:"),HOSTED_FIELDS_FRAME_NAME:"braintreeunionpayhostedfields"}},{"../../lib/enumerate":111}],173:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../../lib/braintree-error");module.exports={UNIONPAY_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"UNIONPAY_NOT_ENABLED",message:"UnionPay is not enabled for this merchant."},UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID:{type:BraintreeError.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID",message:"Found an invalid Hosted Fields instance. Please use a valid Hosted Fields instance."},UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:BraintreeError.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"Could not find the Hosted Fields instance."},UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:BraintreeError.types.MERCHANT,code:"UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"A card or a Hosted Fields instance is required. Please supply a card or a Hosted Fields instance."},UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES:{type:BraintreeError.types.MERCHANT,code:"UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES",message:"Please supply either a card or a Hosted Fields instance, not both."},UNIONPAY_EXPIRATION_DATE_INCOMPLETE:{type:BraintreeError.types.MERCHANT,code:"UNIONPAY_EXPIRATION_DATE_INCOMPLETE",message:"You must supply expiration month and year or neither."},UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID:{type:BraintreeError.types.CUSTOMER,code:"UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID",message:"Enrollment failed due to user input error."},UNIONPAY_ENROLLMENT_NETWORK_ERROR:{type:BraintreeError.types.NETWORK,code:"UNIONPAY_ENROLLMENT_NETWORK_ERROR",message:"Could not enroll UnionPay card."},UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR:{type:BraintreeError.types.NETWORK,code:"UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR",message:"Could not fetch card capabilities."},UNIONPAY_TOKENIZATION_NETWORK_ERROR:{type:BraintreeError.types.NETWORK,code:"UNIONPAY_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},UNIONPAY_MISSING_MOBILE_PHONE_DATA:{type:BraintreeError.types.MERCHANT,code:"UNIONPAY_MISSING_MOBILE_PHONE_DATA",message:"A `mobile` with `countryCode` and `number` is required."},UNIONPAY_FAILED_TOKENIZATION:{type:BraintreeError.types.CUSTOMER,code:"UNIONPAY_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."}}},{"../../lib/braintree-error":98}],174:[function(_dereq_,module,exports){"use strict";var analytics=_dereq_("../../lib/analytics"),BraintreeError=_dereq_("../../lib/braintree-error"),Bus=_dereq_("../../lib/bus"),constants=_dereq_("./constants"),useMin=_dereq_("../../lib/use-min"),convertMethodsToError=_dereq_("../../lib/convert-methods-to-error"),errors=_dereq_("./errors"),events=constants.events,iFramer=_dereq_("@braintree/iframer"),methods=_dereq_("../../lib/methods"),uuid=_dereq_("../../lib/vendor/uuid"),Promise=_dereq_("../../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise");function UnionPay(options){this._options=options}UnionPay.prototype.fetchCapabilities=function(options){var self=this,client=this._options.client,cardNumber=options.card?options.card.number:null,hostedFields=options.hostedFields;return cardNumber&&hostedFields?Promise.reject(new BraintreeError(errors.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):cardNumber?client.request({method:"get",endpoint:"payment_methods/credit_cards/capabilities",data:{_meta:{source:"unionpay"},creditCard:{number:cardNumber}}}).then((function(response){return analytics.sendEvent(client,"unionpay.capabilities-received"),response}))["catch"]((function(err){var status=err.details&&err.details.httpStatus;return analytics.sendEvent(client,"unionpay.capabilities-failed"),403===status?Promise.reject(err):Promise.reject(new BraintreeError({type:errors.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.type,code:errors.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.code,message:errors.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.message,details:{originalError:err}}))})):hostedFields?hostedFields._bus?self._initializeHostedFields().then((function(){return new Promise((function(resolve,reject){self._bus.emit(events.HOSTED_FIELDS_FETCH_CAPABILITIES,{hostedFields:hostedFields},(function(response){response.err?reject(new BraintreeError(response.err)):resolve(response.payload)}))}))})):Promise.reject(new BraintreeError(errors.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID)):Promise.reject(new BraintreeError(errors.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},UnionPay.prototype.enroll=function(options){var data,self=this,client=this._options.client,card=options.card,mobile=options.mobile,hostedFields=options.hostedFields;if(!mobile)return Promise.reject(new BraintreeError(errors.UNIONPAY_MISSING_MOBILE_PHONE_DATA));if(hostedFields)return hostedFields._bus?card?Promise.reject(new BraintreeError(errors.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):new Promise((function(resolve,reject){self._initializeHostedFields().then((function(){self._bus.emit(events.HOSTED_FIELDS_ENROLL,{hostedFields:hostedFields,mobile:mobile},(function(response){response.err?reject(new BraintreeError(response.err)):resolve(response.payload)}))}))})):Promise.reject(new BraintreeError(errors.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID));if(card&&card.number){if(data={_meta:{source:"unionpay"},unionPayEnrollment:{number:card.number,mobileCountryCode:mobile.countryCode,mobileNumber:mobile.number}},card.expirationDate)data.unionPayEnrollment.expirationDate=card.expirationDate;else if(card.expirationMonth||card.expirationYear){if(!card.expirationMonth||!card.expirationYear)return Promise.reject(new BraintreeError(errors.UNIONPAY_EXPIRATION_DATE_INCOMPLETE));data.unionPayEnrollment.expirationYear=card.expirationYear,data.unionPayEnrollment.expirationMonth=card.expirationMonth}return client.request({method:"post",endpoint:"union_pay_enrollments",data:data}).then((function(response){return analytics.sendEvent(client,"unionpay.enrollment-succeeded"),{enrollmentId:response.unionPayEnrollmentId,smsCodeRequired:response.smsCodeRequired}}))["catch"]((function(err){var error,status=err.details&&err.details.httpStatus;return 403===status?error=err:status<500?(error=new BraintreeError(errors.UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID)).details={originalError:err}:(error=new BraintreeError(errors.UNIONPAY_ENROLLMENT_NETWORK_ERROR)).details={originalError:err},analytics.sendEvent(client,"unionpay.enrollment-failed"),Promise.reject(error)}))}return Promise.reject(new BraintreeError(errors.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},UnionPay.prototype.tokenize=function(options){var data,self=this,client=this._options.client,card=options.card,hostedFields=options.hostedFields;return card&&hostedFields?Promise.reject(new BraintreeError(errors.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):card?(data={_meta:{source:"unionpay"},creditCard:{number:options.card.number,options:{unionPayEnrollment:{id:options.enrollmentId}}}},options.smsCode&&(data.creditCard.options.unionPayEnrollment.smsCode=options.smsCode),card.expirationDate?data.creditCard.expirationDate=card.expirationDate:card.expirationMonth&&card.expirationYear&&(data.creditCard.expirationYear=card.expirationYear,data.creditCard.expirationMonth=card.expirationMonth),options.card.cvv&&(data.creditCard.cvv=options.card.cvv),client.request({method:"post",endpoint:"payment_methods/credit_cards",data:data}).then((function(response){var tokenizedCard=response.creditCards[0];return delete tokenizedCard.consumed,delete tokenizedCard.threeDSecureInfo,analytics.sendEvent(client,"unionpay.nonce-received"),tokenizedCard}))["catch"]((function(err){var error,status=err.details&&err.details.httpStatus;return analytics.sendEvent(client,"unionpay.nonce-failed"),403===status?error=err:status<500?(error=new BraintreeError(errors.UNIONPAY_FAILED_TOKENIZATION)).details={originalError:err}:(error=new BraintreeError(errors.UNIONPAY_TOKENIZATION_NETWORK_ERROR)).details={originalError:err},Promise.reject(error)}))):hostedFields?hostedFields._bus?new Promise((function(resolve,reject){self._initializeHostedFields().then((function(){self._bus.emit(events.HOSTED_FIELDS_TOKENIZE,options,(function(response){response.err?reject(new BraintreeError(response.err)):resolve(response.payload)}))}))})):Promise.reject(new BraintreeError(errors.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID)):Promise.reject(new BraintreeError(errors.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},UnionPay.prototype.teardown=function(){return this._bus&&(this._hostedFieldsFrame.parentNode.removeChild(this._hostedFieldsFrame),this._bus.teardown()),convertMethodsToError(this,methods(UnionPay.prototype)),Promise.resolve()},UnionPay.prototype._initializeHostedFields=function(){var assetsUrl,isDebug,componentId=uuid(),self=this;return this._hostedFieldsInitializePromise||(this._hostedFieldsInitializePromise=new Promise((function(resolve){assetsUrl=self._options.client.getConfiguration().gatewayConfiguration.assetsUrl,isDebug=self._options.client.getConfiguration().isDebug,self._bus=new Bus({channel:componentId,merchantUrl:location.href}),self._hostedFieldsFrame=iFramer({name:constants.HOSTED_FIELDS_FRAME_NAME+"_"+componentId,src:assetsUrl+"/web/3.58.0/html/unionpay-hosted-fields-frame"+useMin(isDebug)+".html",height:0,width:0}),self._bus.on(Bus.events.CONFIGURATION_REQUEST,(function(reply){reply(self._options.client),resolve()})),document.body.appendChild(self._hostedFieldsFrame)}))),this._hostedFieldsInitializePromise},module.exports=wrapPromise.wrapPrototype(UnionPay)},{"../../lib/analytics":93,"../../lib/braintree-error":98,"../../lib/bus":101,"../../lib/convert-methods-to-error":104,"../../lib/methods":130,"../../lib/promise":132,"../../lib/use-min":134,"../../lib/vendor/uuid":136,"./constants":172,"./errors":173,"@braintree/iframer":23,"@braintree/wrap-promise":30}],175:[function(_dereq_,module,exports){"use strict";module.exports={PLAID_LINK_JS:"https://cdn.plaid.com/link/v2/stable/link-initialize.js"}},{}],176:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error");module.exports={US_BANK_ACCOUNT_OPTION_REQUIRED:{type:BraintreeError.types.MERCHANT,code:"US_BANK_ACCOUNT_OPTION_REQUIRED"},US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS:{type:BraintreeError.types.MERCHANT,code:"US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS"},US_BANK_ACCOUNT_LOGIN_LOAD_FAILED:{type:BraintreeError.types.NETWORK,code:"US_BANK_ACCOUNT_LOGIN_LOAD_FAILED",message:"Bank login flow failed to load."},US_BANK_ACCOUNT_LOGIN_CLOSED:{type:BraintreeError.types.CUSTOMER,code:"US_BANK_ACCOUNT_LOGIN_CLOSED",message:"Customer closed bank login flow before authorizing."},US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE:{type:BraintreeError.types.MERCHANT,code:"US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE",message:"Another bank login tokenization request is active."},US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR:{type:BraintreeError.types.NETWORK,code:"US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},US_BANK_ACCOUNT_FAILED_TOKENIZATION:{type:BraintreeError.types.CUSTOMER,code:"US_BANK_ACCOUNT_FAILED_TOKENIZATION",message:"The supplied data failed tokenization."},US_BANK_ACCOUNT_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"US_BANK_ACCOUNT_NOT_ENABLED",message:"US bank account is not enabled."},US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED",message:"Bank login is not enabled."}}},{"../lib/braintree-error":98}],177:[function(_dereq_,module,exports){"use strict";var basicComponentVerification=_dereq_("../lib/basic-component-verification"),BraintreeError=_dereq_("../lib/braintree-error"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),errors=_dereq_("./errors"),USBankAccount=_dereq_("./us-bank-account"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise");module.exports={create:wrapPromise((function(options){var name="US Bank Account";return basicComponentVerification.verify({name:name,client:options.client,authorization:options.authorization}).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:name})})).then((function(client){return options.client=client,options.client.getConfiguration().gatewayConfiguration.usBankAccount?new USBankAccount(options):Promise.reject(new BraintreeError(errors.US_BANK_ACCOUNT_NOT_ENABLED))}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./errors":176,"./us-bank-account":178,"@braintree/wrap-promise":30}],178:[function(_dereq_,module,exports){(function(global){"use strict";var BraintreeError=_dereq_("../lib/braintree-error"),constants=_dereq_("./constants"),errors=_dereq_("./errors"),sharedErrors=_dereq_("../lib/errors"),analytics=_dereq_("../lib/analytics"),once=_dereq_("../lib/once"),convertMethodsToError=_dereq_("../lib/convert-methods-to-error"),methods=_dereq_("../lib/methods"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise"),TOKENIZE_BANK_DETAILS_MUTATION=createGraphQLMutation("UsBankAccount"),TOKENIZE_BANK_LOGIN_MUTATION=createGraphQLMutation("UsBankLogin");function USBankAccount(options){this._client=options.client,this._isTokenizingBankLogin=!1,analytics.sendEvent(this._client,"usbankaccount.initialized")}function errorFrom(err){var error,status=err.details&&err.details.httpStatus;return(error=new BraintreeError(401===status?sharedErrors.BRAINTREE_API_ACCESS_RESTRICTED:status<500?errors.US_BANK_ACCOUNT_FAILED_TOKENIZATION:errors.US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR)).details={originalError:err},error}function formatTokenizeResponseFromGraphQL(response,type){var data=response.data[type].paymentMethod,description="US bank account ending in - "+data.details.last4;return{nonce:data.id,details:{},description:description,type:"us_bank_account"}}function addLoadListeners(script,callback){function loadHandler(){var readyState=this.readyState;readyState&&"loaded"!==readyState&&"complete"!==readyState||(script.removeEventListener("error",errorHandler),script.removeEventListener("load",loadHandler),script.removeEventListener("readystatechange",loadHandler),callback(null,global.Plaid))}function errorHandler(){script.parentNode.removeChild(script),callback(new BraintreeError(errors.US_BANK_ACCOUNT_LOGIN_LOAD_FAILED))}script.addEventListener("error",errorHandler),script.addEventListener("load",loadHandler),script.addEventListener("readystatechange",loadHandler)}function formatBillingAddressForGraphQL(address){return{streetAddress:address.streetAddress,extendedAddress:address.extendedAddress,city:address.locality,state:address.region,zipCode:address.postalCode}}function formatDataForOwnershipType(data,details){"personal"===details.ownershipType?data.individualOwner={firstName:details.firstName,lastName:details.lastName}:"business"===details.ownershipType&&(data.businessOwner={businessName:details.businessName})}function createGraphQLMutation(type){return"mutation Tokenize"+type+"($input: Tokenize"+type+"Input!) {  tokenize"+type+"(input: $input) {    paymentMethod {      id      details {        ... on UsBankAccountDetails {          last4        }      }    }  }}"}USBankAccount.prototype.tokenize=function(options){return(options=options||{}).mandateText?options.bankDetails&&options.bankLogin?Promise.reject(new BraintreeError({type:errors.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.type,code:errors.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.code,message:"tokenize must be called with bankDetails or bankLogin, not both."})):options.bankDetails?this._tokenizeBankDetails(options):options.bankLogin?this._tokenizeBankLogin(options):Promise.reject(new BraintreeError({type:errors.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:errors.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"tokenize must be called with bankDetails or bankLogin."})):Promise.reject(new BraintreeError({type:errors.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:errors.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"mandateText property is required."}))},USBankAccount.prototype._tokenizeBankDetails=function(options){var client=this._client,bankDetails=options.bankDetails,data={achMandate:options.mandateText,routingNumber:bankDetails.routingNumber,accountNumber:bankDetails.accountNumber,accountType:bankDetails.accountType.toUpperCase(),billingAddress:formatBillingAddressForGraphQL(bankDetails.billingAddress||{})};return formatDataForOwnershipType(data,bankDetails),client.request({api:"graphQLApi",data:{query:TOKENIZE_BANK_DETAILS_MUTATION,variables:{input:{usBankAccount:data}}}}).then((function(response){return analytics.sendEvent(client,"usbankaccount.bankdetails.tokenization.succeeded"),Promise.resolve(formatTokenizeResponseFromGraphQL(response,"tokenizeUsBankAccount"))}))["catch"]((function(err){var error=errorFrom(err);return analytics.sendEvent(client,"usbankaccount.bankdetails.tokenization.failed"),Promise.reject(error)}))},USBankAccount.prototype._tokenizeBankLogin=function(options){var self=this,client=this._client,gatewayConfiguration=client.getConfiguration().gatewayConfiguration,isProduction="production"===gatewayConfiguration.environment,plaidConfig=gatewayConfiguration.usBankAccount.plaid;return options.bankLogin.displayName?plaidConfig?this._isTokenizingBankLogin?Promise.reject(new BraintreeError(errors.US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE)):(this._isTokenizingBankLogin=!0,new Promise((function(resolve,reject){self._loadPlaid((function(plaidLoadErr,plaid){plaidLoadErr?reject(plaidLoadErr):(plaid.create({clientName:options.bankLogin.displayName,apiVersion:"v2",env:isProduction?"production":"sandbox",key:plaidConfig.publicKey,product:"auth",selectAccount:!0,onExit:function(){self._isTokenizingBankLogin=!1,analytics.sendEvent(client,"usbankaccount.banklogin.tokenization.closed.by-user"),reject(new BraintreeError(errors.US_BANK_ACCOUNT_LOGIN_CLOSED))},onSuccess:function(publicToken,metadata){var bankLogin=options.bankLogin,data={publicToken:publicToken,accountId:isProduction?metadata.account_id:"plaid_account_id",accountType:metadata.account.subtype.toUpperCase(),achMandate:options.mandateText,billingAddress:formatBillingAddressForGraphQL(bankLogin.billingAddress||{})};formatDataForOwnershipType(data,bankLogin),client.request({api:"graphQLApi",data:{query:TOKENIZE_BANK_LOGIN_MUTATION,variables:{input:{usBankLogin:data}}}}).then((function(response){self._isTokenizingBankLogin=!1,analytics.sendEvent(client,"usbankaccount.banklogin.tokenization.succeeded"),resolve(formatTokenizeResponseFromGraphQL(response,"tokenizeUsBankLogin"))}))["catch"]((function(tokenizeErr){var error;self._isTokenizingBankLogin=!1,error=errorFrom(tokenizeErr),analytics.sendEvent(client,"usbankaccount.banklogin.tokenization.failed"),reject(error)}))}}).open(),analytics.sendEvent(client,"usbankaccount.banklogin.tokenization.started"))}))}))):Promise.reject(new BraintreeError(errors.US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED)):Promise.reject(new BraintreeError({type:errors.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:errors.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"displayName property is required when using bankLogin."}))},USBankAccount.prototype._loadPlaid=function(callback){var existingScript,script;callback=once(callback),global.Plaid?callback(null,global.Plaid):(existingScript=document.querySelector('script[src="'+constants.PLAID_LINK_JS+'"]'))?addLoadListeners(existingScript,callback):((script=document.createElement("script")).src=constants.PLAID_LINK_JS,script.async=!0,addLoadListeners(script,callback),document.body.appendChild(script),this._plaidScript=script)},USBankAccount.prototype.teardown=function(){return this._plaidScript&&document.body.removeChild(this._plaidScript),convertMethodsToError(this,methods(USBankAccount.prototype)),Promise.resolve()},module.exports=wrapPromise.wrapPrototype(USBankAccount)}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/analytics":93,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/errors":112,"../lib/methods":130,"../lib/once":131,"../lib/promise":132,"./constants":175,"./errors":176,"@braintree/wrap-promise":30}],179:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error");module.exports={VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN:{type:BraintreeError.types.MERCHANT,code:"VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN",message:"A client token with a customer id must be used to delete a payment method nonce."},VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND:{type:BraintreeError.types.MERCHANT,code:"VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND"},VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR:{type:BraintreeError.types.UNKNOWN,code:"VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR"}}},{"../lib/braintree-error":98}],180:[function(_dereq_,module,exports){"use strict";var basicComponentVerification=_dereq_("../lib/basic-component-verification"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),VaultManager=_dereq_("./vault-manager"),wrapPromise=_dereq_("@braintree/wrap-promise");module.exports={create:wrapPromise((function(options){var name="Vault Manager";return basicComponentVerification.verify({name:name,client:options.client,authorization:options.authorization}).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:name})})).then((function(client){return options.client=client,new VaultManager(options)}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"./vault-manager":181,"@braintree/wrap-promise":30}],181:[function(_dereq_,module,exports){"use strict";var analytics=_dereq_("../lib/analytics"),BraintreeError=_dereq_("../lib/braintree-error"),errors=_dereq_("./errors"),convertMethodsToError=_dereq_("../lib/convert-methods-to-error"),methods=_dereq_("../lib/methods"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise");function VaultManager(options){this._client=options.client}function formatPaymentMethodPayload(paymentMethod){var formattedPaymentMethod={nonce:paymentMethod.nonce,"default":paymentMethod["default"],details:paymentMethod.details,hasSubscription:paymentMethod.hasSubscription,type:paymentMethod.type};return paymentMethod.description&&(formattedPaymentMethod.description=paymentMethod.description),paymentMethod.binData&&(formattedPaymentMethod.binData=paymentMethod.binData),formattedPaymentMethod}VaultManager.prototype.fetchPaymentMethods=function(options){var defaultFirst;return defaultFirst=!0===(options=options||{}).defaultFirst?1:0,this._client.request({endpoint:"payment_methods",method:"get",data:{defaultFirst:defaultFirst}}).then(function(paymentMethodsPayload){return analytics.sendEvent(this._client,"vault-manager.fetch-payment-methods.succeeded"),paymentMethodsPayload.paymentMethods.map(formatPaymentMethodPayload)}.bind(this))},VaultManager.prototype.deletePaymentMethod=function(paymentMethodNonce){var client=this._client;return"CLIENT_TOKEN"===this._client.getConfiguration().authorizationType?this._client.request({api:"graphQLApi",data:{query:"mutation DeletePaymentMethodFromSingleUseToken($input: DeletePaymentMethodFromSingleUseTokenInput!) {  deletePaymentMethodFromSingleUseToken(input: $input) {    clientMutationId  }}",variables:{input:{singleUseTokenId:paymentMethodNonce}},operationName:"DeletePaymentMethodFromSingleUseToken"}}).then((function(){analytics.sendEvent(client,"vault-manager.delete-payment-method.succeeded")}))["catch"]((function(error){var formattedError,originalError=error.details.originalError;return analytics.sendEvent(client,"vault-manager.delete-payment-method.failed"),originalError[0]&&"NOT_FOUND"===originalError[0].extensions.errorClass&&(formattedError=new BraintreeError({type:errors.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.type,code:errors.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.code,message:"A payment method for payment method nonce `"+paymentMethodNonce+"` could not be found.",details:{originalError:originalError}})),formattedError||(formattedError=new BraintreeError({type:errors.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.type,code:errors.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.code,message:"An unknown error occured when attempting to delete the payment method assocaited with the payment method nonce `"+paymentMethodNonce+"`.",details:{originalError:originalError}})),Promise.reject(formattedError)})):Promise.reject(new BraintreeError(errors.VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN))},VaultManager.prototype.teardown=function(){return convertMethodsToError(this,methods(VaultManager.prototype)),Promise.resolve()},module.exports=wrapPromise.wrapPrototype(VaultManager)},{"../lib/analytics":93,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/methods":130,"../lib/promise":132,"./errors":179,"@braintree/wrap-promise":30}],182:[function(_dereq_,module,exports){"use strict";var analytics=_dereq_("../lib/analytics"),basicComponentVerification=_dereq_("../lib/basic-component-verification"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),errors=_dereq_("./shared/errors"),wrapPromise=_dereq_("@braintree/wrap-promise"),BraintreeError=_dereq_("../lib/braintree-error"),Venmo=_dereq_("./venmo"),Promise=_dereq_("../lib/promise"),supportsVenmo=_dereq_("./shared/supports-venmo");module.exports={create:wrapPromise((function(options){return basicComponentVerification.verify({name:"Venmo",client:options.client,authorization:options.authorization}).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:"Venmo"})})).then((function(client){var instance,configuration=client.getConfiguration();return options.client=client,configuration.gatewayConfiguration.payWithVenmo?options.profileId&&"string"!=typeof options.profileId?Promise.reject(new BraintreeError(errors.VENMO_INVALID_PROFILE_ID)):options.deepLinkReturnUrl&&"string"!=typeof options.deepLinkReturnUrl?Promise.reject(new BraintreeError(errors.VENMO_INVALID_DEEP_LINK_RETURN_URL)):(instance=new Venmo(options),analytics.sendEvent(options.client,"venmo.initialized"),instance._initialize()):Promise.reject(new BraintreeError(errors.VENMO_NOT_ENABLED))}))})),isBrowserSupported:function(options){return supportsVenmo.isBrowserSupported(options)},VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./shared/errors":185,"./shared/supports-venmo":186,"./venmo":187,"@braintree/wrap-promise":30}],183:[function(_dereq_,module,exports){"use strict";var isAndroid=_dereq_("@braintree/browser-detection/is-android"),isChrome=_dereq_("@braintree/browser-detection/is-chrome"),isIos=_dereq_("@braintree/browser-detection/is-ios"),isIosSafari=_dereq_("@braintree/browser-detection/is-ios-safari"),isSamsungBrowser=_dereq_("@braintree/browser-detection/is-samsung"),isMobileFirefox=_dereq_("@braintree/browser-detection/is-mobile-firefox");module.exports={isAndroid:isAndroid,isChrome:isChrome,isIos:isIos,isIosSafari:isIosSafari,isSamsungBrowser:isSamsungBrowser,isMobileFirefox:isMobileFirefox}},{"@braintree/browser-detection/is-android":3,"@braintree/browser-detection/is-chrome":5,"@braintree/browser-detection/is-ios":16,"@braintree/browser-detection/is-ios-safari":13,"@braintree/browser-detection/is-mobile-firefox":17,"@braintree/browser-detection/is-samsung":18}],184:[function(_dereq_,module,exports){"use strict";module.exports={DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY:500,DEFAULT_PROCESS_RESULTS_DELAY:1e3,VENMO_OPEN_URL:"https://venmo.com/braintree/checkout"}},{}],185:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../../lib/braintree-error");module.exports={VENMO_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"VENMO_NOT_ENABLED",message:"Venmo is not enabled for this merchant."},VENMO_TOKENIZATION_REQUEST_ACTIVE:{type:BraintreeError.types.MERCHANT,code:"VENMO_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},VENMO_APP_FAILED:{type:BraintreeError.types.UNKNOWN,code:"VENMO_APP_FAILED",message:"Venmo app encountered a problem."},VENMO_APP_CANCELED:{type:BraintreeError.types.CUSTOMER,code:"VENMO_APP_CANCELED",message:"Venmo app authorization was canceled."},VENMO_CANCELED:{type:BraintreeError.types.CUSTOMER,code:"VENMO_CANCELED",message:"User canceled Venmo authorization, or Venmo app is not available."},VENMO_INVALID_PROFILE_ID:{type:BraintreeError.types.MERCHANT,code:"VENMO_INVALID_PROFILE_ID",message:"Venmo profile ID is invalid."},VENMO_INVALID_DEEP_LINK_RETURN_URL:{type:BraintreeError.types.MERCHANT,code:"VENMO_INVALID_DEEP_LINK_RETURN_URL",message:"Venmo deep link return URL is invalid."}}},{"../../lib/braintree-error":98}],186:[function(_dereq_,module,exports){"use strict";var browserDetection=_dereq_("./browser-detection");module.exports={isBrowserSupported:function(options){var isAndroidChrome=browserDetection.isAndroid()&&browserDetection.isChrome(),isIosChrome=browserDetection.isIos()&&browserDetection.isChrome(),supportsReturnToSameTab=browserDetection.isIosSafari()||isAndroidChrome,supportsReturnToNewTab=isIosChrome||browserDetection.isSamsungBrowser()||browserDetection.isMobileFirefox();return options=options||{allowNewBrowserTab:!0},supportsReturnToSameTab||options.allowNewBrowserTab&&supportsReturnToNewTab}}},{"./browser-detection":183}],187:[function(_dereq_,module,exports){(function(global){"use strict";var analytics=_dereq_("../lib/analytics"),isBrowserSupported=_dereq_("./shared/supports-venmo"),constants=_dereq_("./shared/constants"),errors=_dereq_("./shared/errors"),querystring=_dereq_("../lib/querystring"),methods=_dereq_("../lib/methods"),convertMethodsToError=_dereq_("../lib/convert-methods-to-error"),wrapPromise=_dereq_("@braintree/wrap-promise"),BraintreeError=_dereq_("../lib/braintree-error"),Promise=_dereq_("../lib/promise");function Venmo(options){var configuration;this._client=options.client,configuration=this._client.getConfiguration(),this._isDebug=configuration.isDebug,this._assetsUrl=configuration.gatewayConfiguration.assetsUrl+"/web/3.58.0",this._allowNewBrowserTab=!1!==options.allowNewBrowserTab,this._profileId=options.profileId,this._deepLinkReturnUrl=options.deepLinkReturnUrl}function getFragmentParameters(){return global.location.hash.substring(1).split("&").reduce((function(toReturn,keyValue){var parts=keyValue.split("="),key=decodeURIComponent(parts[0]).replace(/\W/g,""),value=decodeURIComponent(parts[1]);return toReturn[key]=value,toReturn}),{})}function documentVisibilityChangeEventName(){var visibilityChange;return"undefined"!=typeof global.document.hidden?visibilityChange="visibilitychange":"undefined"!=typeof global.document.msHidden?visibilityChange="msvisibilitychange":"undefined"!=typeof global.document.webkitHidden&&(visibilityChange="webkitvisibilitychange"),visibilityChange}Venmo.prototype._initialize=function(){var params={},currentUrl=this._deepLinkReturnUrl||global.location.href.replace(global.location.hash,""),venmoConfiguration=this._client.getConfiguration().gatewayConfiguration.payWithVenmo,analyticsMetadata=this._client.getConfiguration().analyticsMetadata,braintreeData={_meta:{version:analyticsMetadata.sdkVersion,integration:analyticsMetadata.integration,platform:analyticsMetadata.platform,sessionId:analyticsMetadata.sessionId}};return params["x-success"]=currentUrl+"#venmoSuccess=1",params["x-cancel"]=currentUrl+"#venmoCancel=1",params["x-error"]=currentUrl+"#venmoError=1",params.ua=global.navigator.userAgent,params.braintree_merchant_id=this._profileId||venmoConfiguration.merchantId,params.braintree_access_token=venmoConfiguration.accessToken,params.braintree_environment=venmoConfiguration.environment,params.braintree_sdk_data=btoa(JSON.stringify(braintreeData)),this._url=constants.VENMO_OPEN_URL+"?"+querystring.stringify(params),Promise.resolve(this)},Venmo.prototype.isBrowserSupported=function(){return isBrowserSupported.isBrowserSupported({allowNewBrowserTab:this._allowNewBrowserTab})},Venmo.prototype.hasTokenizationResult=function(){var params=getFragmentParameters();return void 0!==(params.venmoSuccess||params.venmoError||params.venmoCancel)},Venmo.prototype.tokenize=function(options){var self=this;return options=options||{},!0===this._tokenizationInProgress?Promise.reject(new BraintreeError(errors.VENMO_TOKENIZATION_REQUEST_ACTIVE)):this.hasTokenizationResult()?this._processResults():new Promise((function(resolve,reject){self._tokenizationInProgress=!0,self._previousHash=global.location.hash,self._deepLinkReturnUrl?global.location=self._url:global.open(self._url),self._visibilityChangeListener=function(){global.document.hidden||(self._tokenizationInProgress=!1,setTimeout((function(){self._processResults().then(resolve)["catch"](reject).then((function(){global.location.hash=self._previousHash,self._removeVisibilityEventListener(),delete self._visibilityChangeListener}))}),options.processResultsDelay||constants.DEFAULT_PROCESS_RESULTS_DELAY))},setTimeout((function(){global.document.addEventListener(documentVisibilityChangeEventName(),self._visibilityChangeListener)}),constants.DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY)}))},Venmo.prototype.teardown=function(){return this._removeVisibilityEventListener(),convertMethodsToError(this,methods(Venmo.prototype)),Promise.resolve()},Venmo.prototype._removeVisibilityEventListener=function(){global.document.removeEventListener(documentVisibilityChangeEventName(),this._visibilityChangeListener)},Venmo.prototype._processResults=function(){var self=this,params=getFragmentParameters();return new Promise((function(resolve,reject){var fragmentParams;params.venmoSuccess?(analytics.sendEvent(self._client,"venmo.appswitch.handle.success"),resolve({nonce:(fragmentParams=params).paymentMethodNonce,type:"VenmoAccount",details:{username:fragmentParams.username}})):params.venmoError?(analytics.sendEvent(self._client,"venmo.appswitch.handle.error"),reject(new BraintreeError({type:errors.VENMO_APP_FAILED.type,code:errors.VENMO_APP_FAILED.code,message:errors.VENMO_APP_FAILED.message,details:{originalError:{message:decodeURIComponent(params.errorMessage),code:params.errorCode}}}))):params.venmoCancel?(analytics.sendEvent(self._client,"venmo.appswitch.handle.cancel"),reject(new BraintreeError(errors.VENMO_APP_CANCELED))):(analytics.sendEvent(self._client,"venmo.appswitch.cancel-or-unavailable"),reject(new BraintreeError(errors.VENMO_CANCELED))),"function"==typeof global.history.replaceState&&global.location.hash&&history.pushState({},"",global.location.href.slice(0,global.location.href.indexOf("#")))}))},module.exports=wrapPromise.wrapPrototype(Venmo)}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/analytics":93,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/methods":130,"../lib/promise":132,"../lib/querystring":133,"./shared/constants":184,"./shared/errors":185,"./shared/supports-venmo":186,"@braintree/wrap-promise":30}],188:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error");module.exports={VISA_CHECKOUT_NOT_ENABLED:{type:BraintreeError.types.MERCHANT,code:"VISA_CHECKOUT_NOT_ENABLED",message:"Visa Checkout is not enabled for this merchant."},VISA_CHECKOUT_INIT_OPTIONS_REQUIRED:{type:BraintreeError.types.MERCHANT,code:"VISA_CHECKOUT_INIT_OPTIONS_REQUIRED",message:"initOptions requires an object."},VISA_CHECKOUT_PAYMENT_REQUIRED:{type:BraintreeError.types.MERCHANT,code:"VISA_CHECKOUT_PAYMENT_REQUIRED",message:"tokenize requires callid, encKey, and encPaymentData."},VISA_CHECKOUT_TOKENIZATION:{type:BraintreeError.types.NETWORK,code:"VISA_CHECKOUT_TOKENIZATION",message:"A network error occurred when processing the Visa Checkout payment."}}},{"../lib/braintree-error":98}],189:[function(_dereq_,module,exports){"use strict";var basicComponentVerification=_dereq_("../lib/basic-component-verification"),BraintreeError=_dereq_("../lib/braintree-error"),createDeferredClient=_dereq_("../lib/create-deferred-client"),createAssetsUrl=_dereq_("../lib/create-assets-url"),VisaCheckout=_dereq_("./visa-checkout"),analytics=_dereq_("../lib/analytics"),errors=_dereq_("./errors"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise");module.exports={create:wrapPromise((function(options){var name="Visa Checkout";return basicComponentVerification.verify({name:name,client:options.client,authorization:options.authorization}).then((function(){return createDeferredClient.create({authorization:options.authorization,client:options.client,debug:options.debug,assetsUrl:createAssetsUrl.create(options.authorization),name:name})})).then((function(client){return options.client=client,options.client.getConfiguration().gatewayConfiguration.visaCheckout?(analytics.sendEvent(options.client,"visacheckout.initialized"),new VisaCheckout(options)):Promise.reject(new BraintreeError(errors.VISA_CHECKOUT_NOT_ENABLED))}))})),VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./errors":188,"./visa-checkout":190,"@braintree/wrap-promise":30}],190:[function(_dereq_,module,exports){"use strict";var BraintreeError=_dereq_("../lib/braintree-error"),analytics=_dereq_("../lib/analytics"),errors=_dereq_("./errors"),jsonClone=_dereq_("../lib/json-clone"),methods=_dereq_("../lib/methods"),convertMethodsToError=_dereq_("../lib/convert-methods-to-error"),Promise=_dereq_("../lib/promise"),wrapPromise=_dereq_("@braintree/wrap-promise"),cardTypeTransformMap={Visa:"VISA",MasterCard:"MASTERCARD",Discover:"DISCOVER","American Express":"AMEX"};function VisaCheckout(options){this._client=options.client}VisaCheckout.prototype.createInitOptions=function(options){var initOptions,gatewayConfiguration=this._client.getConfiguration().gatewayConfiguration,visaCheckoutConfiguration=gatewayConfiguration.visaCheckout;if(!options)throw new BraintreeError(errors.VISA_CHECKOUT_INIT_OPTIONS_REQUIRED);return(initOptions=jsonClone(options)).apikey=initOptions.apikey||visaCheckoutConfiguration.apikey,initOptions.externalClientId=initOptions.externalClientId||visaCheckoutConfiguration.externalClientId,initOptions.settings=initOptions.settings||{},initOptions.settings.dataLevel="FULL",initOptions.settings.payment=initOptions.settings.payment||{},initOptions.settings.payment.cardBrands||(initOptions.settings.payment.cardBrands=gatewayConfiguration.visaCheckout.supportedCardTypes.reduce((function(acc,type){return cardTypeTransformMap.hasOwnProperty(type)?acc.concat(cardTypeTransformMap[type]):acc}),[])),initOptions},VisaCheckout.prototype.tokenize=function(payment){var self=this;return payment.callid&&payment.encKey&&payment.encPaymentData?this._client.request({method:"post",endpoint:"payment_methods/visa_checkout_cards",data:{_meta:{source:"visa-checkout"},visaCheckoutCard:{callId:payment.callid,encryptedPaymentData:payment.encPaymentData,encryptedKey:payment.encKey}}}).then((function(response){return analytics.sendEvent(self._client,"visacheckout.tokenize.succeeded"),response.visaCheckoutCards[0]}))["catch"]((function(err){return analytics.sendEvent(self._client,"visacheckout.tokenize.failed"),Promise.reject(new BraintreeError({type:errors.VISA_CHECKOUT_TOKENIZATION.type,code:errors.VISA_CHECKOUT_TOKENIZATION.code,message:errors.VISA_CHECKOUT_TOKENIZATION.message,details:{originalError:err}}))})):Promise.reject(new BraintreeError(errors.VISA_CHECKOUT_PAYMENT_REQUIRED))},VisaCheckout.prototype.teardown=function(){return convertMethodsToError(this,methods(VisaCheckout.prototype)),Promise.resolve()},module.exports=wrapPromise.wrapPrototype(VisaCheckout)},{"../lib/analytics":93,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/json-clone":129,"../lib/methods":130,"../lib/promise":132,"./errors":188,"@braintree/wrap-promise":30}]},{},[91])(91)}).call(this,__webpack_require__("uKge"),__webpack_require__("JT7O").setImmediate)},PeFF:function(module,exports){var charenc={utf8:{stringToBytes:function(str){return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)))},bytesToString:function(bytes){return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)))}},bin:{stringToBytes:function(str){for(var bytes=[],i=0;i<str.length;i++)bytes.push(255&str.charCodeAt(i));return bytes},bytesToString:function(bytes){for(var str=[],i=0;i<bytes.length;i++)str.push(String.fromCharCode(bytes[i]));return str.join("")}}};module.exports=charenc},Pmx9:function(module,exports,__webpack_require__){"use strict";var DeferObservable_1=__webpack_require__("wqRD");exports.defer=DeferObservable_1.DeferObservable.create},Pr70:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"CacheFactory",(function(){return CacheFactory})),__webpack_require__.d(__webpack_exports__,"BinaryHeap",(function(){return BinaryHeap})),__webpack_require__.d(__webpack_exports__,"Cache",(function(){return Cache})),__webpack_require__.d(__webpack_exports__,"defaults",(function(){return defaults$1})),__webpack_require__.d(__webpack_exports__,"utils",(function(){return utils}));var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),bubbleUp=function(heap,weightFunc,n){for(var element=heap[n],weight=weightFunc(element);n>0;){var parentN=Math.floor((n+1)/2)-1,parent=heap[parentN];if(weight>=weightFunc(parent))break;heap[parentN]=element,heap[n]=parent,n=parentN}},bubbleDown=function(heap,weightFunc,n){for(var length=heap.length,node=heap[n],nodeWeight=weightFunc(node);;){var child2N=2*(n+1),child1N=child2N-1,swap=null;if(child1N<length)weightFunc(heap[child1N])<nodeWeight&&(swap=child1N);if(child2N<length)weightFunc(heap[child2N])<(null===swap?nodeWeight:weightFunc(heap[child1N]))&&(swap=child2N);if(null===swap)break;heap[n]=heap[swap],heap[swap]=node,n=swap}},BinaryHeap=function(){function BinaryHeap(weightFunc,compareFunc){if(classCallCheck(this,BinaryHeap),weightFunc||(weightFunc=function(x){return x}),compareFunc||(compareFunc=function(x,y){return x===y}),"function"!=typeof weightFunc)throw new Error('BinaryHeap([weightFunc][, compareFunc]): "weightFunc" must be a function!');if("function"!=typeof compareFunc)throw new Error('BinaryHeap([weightFunc][, compareFunc]): "compareFunc" must be a function!');this.weightFunc=weightFunc,this.compareFunc=compareFunc,this.heap=[]}return createClass(BinaryHeap,[{key:"push",value:function(node){this.heap.push(node),bubbleUp(this.heap,this.weightFunc,this.heap.length-1)}},{key:"peek",value:function(){return this.heap[0]}},{key:"pop",value:function(){var front=this.heap[0],end=this.heap.pop();return this.heap.length>0&&(this.heap[0]=end,bubbleDown(this.heap,this.weightFunc,0)),front}},{key:"remove",value:function(node){for(var length=this.heap.length,i=0;i<length;i++)if(this.compareFunc(this.heap[i],node)){var removed=this.heap[i],end=this.heap.pop();return i!==length-1&&(this.heap[i]=end,bubbleUp(this.heap,this.weightFunc,i),bubbleDown(this.heap,this.weightFunc,i)),removed}return null}},{key:"removeAll",value:function(){this.heap=[]}},{key:"size",value:function(){return this.heap.length}}]),BinaryHeap}(),defaults$1={capacity:Number.MAX_VALUE,cacheFlushInterval:null,deleteOnExpire:"none",enabled:!0,onExpire:null,maxAge:Number.MAX_VALUE,recycleFreq:1e3,storageMode:"memory",storageImpl:null,storagePrefix:"cachefactory.caches.",storeOnReject:!1,storeOnResolve:!1},_Promise=null;try{_Promise=window.Promise}catch(e){}var utils={equals:function(a,b){return a===b},fromJson:function(value){return JSON.parse(value)},isFunction:function(value){return"function"==typeof value},isNumber:function(value){return"number"==typeof value},isObject:function(value){return null!==value&&"object"===(void 0===value?"undefined":_typeof(value))},isPromise:function(value){return value&&utils.isFunction(value.then)},isString:function(value){return"string"==typeof value},toJson:function(value){return JSON.stringify(value)},Promise:_Promise},assignMsg="Cannot assign to read only property",Cache=function(){function Cache(id){var _this=this,options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(classCallCheck(this,Cache),!utils.isString(id))throw new TypeError('"id" must be a string!');Object.defineProperties(this,{$$cacheFlushInterval:{writable:!0,value:undefined},$$cacheFlushIntervalId:{writable:!0,value:undefined},$$capacity:{writable:!0,value:undefined},$$data:{writable:!0,value:{}},$$deleteOnExpire:{writable:!0,value:undefined},$$enabled:{writable:!0,value:undefined},$$expiresHeap:{writable:!0,value:new BinaryHeap((function(x){return x.accessed}),utils.equals)},$$initializing:{writable:!0,value:!0},$$lruHeap:{writable:!0,value:new BinaryHeap((function(x){return x.accessed}),utils.equals)},$$maxAge:{writable:!0,value:undefined},$$onExpire:{writable:!0,value:undefined},$$prefix:{writable:!0,value:""},$$promises:{writable:!0,value:{}},$$recycleFreq:{writable:!0,value:undefined},$$recycleFreqId:{writable:!0,value:undefined},$$storage:{writable:!0,value:undefined},$$storageMode:{writable:!0,value:undefined},$$storagePrefix:{writable:!0,value:undefined},$$storeOnReject:{writable:!0,value:undefined},$$storeOnResolve:{writable:!0,value:undefined},$$parent:{value:options.parent},cacheFlushInterval:{enumerable:!0,get:function(){return _this.$$cacheFlushInterval},set:function(){throw new Error(assignMsg+" 'cacheFlushInterval'")}},capacity:{enumerable:!0,get:function(){return _this.$$capacity},set:function(){throw new Error(assignMsg+" 'capacity'")}},deleteOnExpire:{enumerable:!0,get:function(){return _this.$$deleteOnExpire},set:function(){throw new Error(assignMsg+" 'deleteOnExpire'")}},enabled:{enumerable:!0,get:function(){return _this.$$enabled},set:function(){throw new Error(assignMsg+" 'enabled'")}},id:{enumerable:!0,value:id},maxAge:{enumerable:!0,get:function(){return _this.$$maxAge},set:function(){throw new Error(assignMsg+" 'maxAge'")}},onExpire:{enumerable:!0,get:function(){return _this.$$onExpire},set:function(){throw new Error(assignMsg+" 'onExpire'")}},recycleFreq:{enumerable:!0,get:function(){return _this.$$recycleFreq},set:function(){throw new Error(assignMsg+" 'recycleFreq'")}},storageMode:{enumerable:!0,get:function(){return _this.$$storageMode},set:function(){throw new Error(assignMsg+" 'storageMode'")}},storagePrefix:{enumerable:!0,get:function(){return _this.$$storagePrefix},set:function(){throw new Error(assignMsg+" 'storagePrefix'")}},storeOnReject:{enumerable:!0,get:function(){return _this.$$storeOnReject},set:function(){throw new Error(assignMsg+" 'storeOnReject'")}},storeOnResolve:{enumerable:!0,get:function(){return _this.$$storeOnResolve},set:function(){throw new Error(assignMsg+" 'storeOnResolve'")}}}),this.setOptions(options,!0),this.$$initializing=!1}return createClass(Cache,[{key:"destroy",value:function(){clearInterval(this.$$cacheFlushIntervalId),clearInterval(this.$$recycleFreqId),this.removeAll(),this.$$storage&&(this.$$storage().removeItem(this.$$prefix+".keys"),this.$$storage().removeItem(this.$$prefix)),this.$$storage=null,this.$$data=null,this.$$lruHeap=null,this.$$expiresHeap=null,this.$$prefix=null,this.$$parent&&(this.$$parent.caches[this.id]=undefined)}},{key:"disable",value:function(){this.$$enabled=!1}},{key:"enable",value:function(){this.$$enabled=!0}},{key:"get",value:function(key){var _this2=this,options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(Array.isArray(key)){var keys=key,values=[];return keys.forEach((function(key){var value=_this2.get(key,options);null!==value&&value!==undefined&&values.push(value)})),values}if(utils.isNumber(key)&&(key=""+key),this.enabled){if(!utils.isString(key))throw new TypeError('"key" must be a string!');if(!options||!utils.isObject(options))throw new TypeError('"options" must be an object!');if(options.onExpire&&!utils.isFunction(options.onExpire))throw new TypeError('"options.onExpire" must be a function!');var item=void 0;if(this.$$storage){if(this.$$promises[key])return this.$$promises[key];var itemJson=this.$$storage().getItem(this.$$prefix+".data."+key);itemJson&&(item=utils.fromJson(itemJson))}else utils.isObject(this.$$data)&&(item=this.$$data[key]);if(item){var value=item.value,now=(new Date).getTime();return this.$$storage?(this.$$lruHeap.remove({key:key,accessed:item.accessed}),item.accessed=now,this.$$lruHeap.push({key:key,accessed:now})):(this.$$lruHeap.remove(item),item.accessed=now,this.$$lruHeap.push(item)),"passive"===this.$$deleteOnExpire&&"expires"in item&&item.expires<now?(this.remove(key),this.$$onExpire?this.$$onExpire(key,item.value,options.onExpire):options.onExpire&&options.onExpire.call(this,key,item.value),value=undefined):this.$$storage&&this.$$storage().setItem(this.$$prefix+".data."+key,utils.toJson(item)),value}}}},{key:"info",value:function(key){if(!key)return{id:this.id,capacity:this.capacity,maxAge:this.maxAge,deleteOnExpire:this.deleteOnExpire,onExpire:this.onExpire,cacheFlushInterval:this.cacheFlushInterval,recycleFreq:this.recycleFreq,storageMode:this.storageMode,storageImpl:this.$$storage?this.$$storage():undefined,enabled:this.enabled,size:this.$$lruHeap&&this.$$lruHeap.size()||0};var item=void 0;if(this.$$storage){var itemJson=this.$$storage().getItem(this.$$prefix+".data."+key);itemJson&&(item=utils.fromJson(itemJson))}else utils.isObject(this.$$data)&&(item=this.$$data[key]);return item?{created:item.created,accessed:item.accessed,expires:item.expires,isExpired:(new Date).getTime()-item.created>(item.maxAge||this.$$maxAge)}:void 0}},{key:"keys",value:function(){var _this3=this;if(this.$$storage){var keysJson=this.$$storage().getItem(this.$$prefix+".keys");return keysJson?utils.fromJson(keysJson):[]}return Object.keys(this.$$data).filter((function(key){return _this3.$$data[key]}))}},{key:"keySet",value:function(){var set$$1={};return this.keys().forEach((function(key){set$$1[key]=key})),set$$1}},{key:"put",value:function(key,value){var _this4=this,options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},storeOnResolve=options.storeOnResolve!==undefined?!!options.storeOnResolve:this.$$storeOnResolve,storeOnReject=options.storeOnReject!==undefined?!!options.storeOnReject:this.$$storeOnReject,getHandler=function(shouldStore,isError){return function(v){if(shouldStore&&(_this4.$$promises[key]=undefined,utils.isObject(v)&&"status"in v&&"data"in v?(v=[v.status,v.data,v.headers(),v.statusText],_this4.put(key,v)):_this4.put(key,v)),isError){if(utils.Promise)return utils.Promise.reject(v);throw v}return v}};if(this.$$enabled&&utils.isObject(this.$$data)&&null!==value&&value!==undefined){if(utils.isNumber(key)&&(key=""+key),!utils.isString(key))throw new TypeError('"key" must be a string!');var now=(new Date).getTime(),item={key:key,value:utils.isPromise(value)?value.then(getHandler(storeOnResolve,!1),getHandler(storeOnReject,!0)):value,created:options.created===undefined?now:options.created,accessed:options.accessed===undefined?now:options.accessed};if(utils.isNumber(options.maxAge)&&(item.maxAge=options.maxAge),options.expires===undefined?item.expires=item.created+(item.maxAge||this.$$maxAge):item.expires=options.expires,this.$$storage){if(utils.isPromise(item.value))return this.$$promises[key]=item.value,this.$$promises[key];var keysJson=this.$$storage().getItem(this.$$prefix+".keys"),keys=keysJson?utils.fromJson(keysJson):[],itemJson=this.$$storage().getItem(this.$$prefix+".data."+key);itemJson&&this.remove(key),this.$$expiresHeap.push({key:key,expires:item.expires}),this.$$lruHeap.push({key:key,accessed:item.accessed}),this.$$storage().setItem(this.$$prefix+".data."+key,utils.toJson(item));var exists=!1;keys.forEach((function(_key){if(_key===key)return exists=!0,!1})),exists||keys.push(key),this.$$storage().setItem(this.$$prefix+".keys",utils.toJson(keys))}else this.$$data[key]&&this.remove(key),this.$$expiresHeap.push(item),this.$$lruHeap.push(item),this.$$data[key]=item,this.$$promises[key]=undefined;return this.$$lruHeap.size()>this.$$capacity&&this.remove(this.$$lruHeap.peek().key),value}}},{key:"remove",value:function(key){if(utils.isNumber(key)&&(key=""+key),this.$$promises[key]=undefined,this.$$storage){var itemJson=this.$$storage().getItem(this.$$prefix+".data."+key);if(itemJson){var item=utils.fromJson(itemJson);this.$$lruHeap.remove({key:key,accessed:item.accessed}),this.$$expiresHeap.remove({key:key,expires:item.expires}),this.$$storage().removeItem(this.$$prefix+".data."+key);var keysJson=this.$$storage().getItem(this.$$prefix+".keys"),keys=keysJson?utils.fromJson(keysJson):[],index=keys.indexOf(key);return index>=0&&keys.splice(index,1),this.$$storage().setItem(this.$$prefix+".keys",utils.toJson(keys)),item.value}}else if(utils.isObject(this.$$data)){var value=this.$$data[key]?this.$$data[key].value:undefined;return this.$$lruHeap.remove(this.$$data[key]),this.$$expiresHeap.remove(this.$$data[key]),this.$$data[key]=undefined,value}}},{key:"removeAll",value:function(){var _this5=this,storage=this.$$storage,keys=this.keys();this.$$lruHeap.removeAll(),this.$$expiresHeap.removeAll(),storage?(storage().setItem(this.$$prefix+".keys",utils.toJson([])),keys.forEach((function(key){storage().removeItem(_this5.$$prefix+".data."+key)}))):utils.isObject(this.$$data)&&(this.$$data={}),this.$$promises={}}},{key:"removeExpired",value:function(){for(var _this6=this,now=(new Date).getTime(),expired={},expiredItem=void 0;(expiredItem=this.$$expiresHeap.peek())&&expiredItem.expires<=now;)expired[expiredItem.key]=expiredItem.value?expiredItem.value:null,this.$$expiresHeap.pop();return Object.keys(expired).forEach((function(key){_this6.remove(key)})),this.$$onExpire&&Object.keys(expired).forEach((function(key){_this6.$$onExpire(key,expired[key])})),expired}},{key:"setCacheFlushInterval",value:function(cacheFlushInterval){var _this7=this;if(null===cacheFlushInterval)this.$$cacheFlushInterval=null;else{if(!utils.isNumber(cacheFlushInterval))throw new TypeError('"cacheFlushInterval" must be a number!');if(cacheFlushInterval<=0)throw new Error('"cacheFlushInterval" must be greater than zero!')}this.$$cacheFlushInterval=cacheFlushInterval,clearInterval(this.$$cacheFlushIntervalId),this.$$cacheFlushIntervalId=undefined,this.$$cacheFlushInterval&&(this.$$cacheFlushIntervalId=setInterval((function(){return _this7.removeAll()}),this.$$cacheFlushInterval))}},{key:"setCapacity",value:function(capacity){if(null===capacity)this.$$capacity=Number.MAX_VALUE;else{if(!utils.isNumber(capacity))throw new TypeError('"capacity" must be a number!');if(capacity<=0)throw new Error('"capacity" must be greater than zero!');this.$$capacity=capacity}for(var removed={};this.$$lruHeap.size()>this.$$capacity;)removed[this.$$lruHeap.peek().key]=this.remove(this.$$lruHeap.peek().key);return removed}},{key:"setDeleteOnExpire",value:function(deleteOnExpire,setRecycleFreq){if(null===deleteOnExpire)deleteOnExpire="none";else{if(!utils.isString(deleteOnExpire))throw new TypeError('"deleteOnExpire" must be a string!');if("none"!==deleteOnExpire&&"passive"!==deleteOnExpire&&"aggressive"!==deleteOnExpire)throw new Error('"deleteOnExpire" must be "none", "passive" or "aggressive"!')}this.$$deleteOnExpire=deleteOnExpire,!1!==setRecycleFreq&&this.setRecycleFreq(this.$$recycleFreq)}},{key:"setMaxAge",value:function(maxAge){var _this8=this;if(null===maxAge)this.$$maxAge=Number.MAX_VALUE;else{if(!utils.isNumber(maxAge))throw new TypeError('"maxAge" must be a number!');if(maxAge<=0)throw new Error('"maxAge" must be greater than zero!');this.$$maxAge=maxAge}var keys=this.keys();return this.$$expiresHeap.removeAll(),this.$$storage?keys.forEach((function(key){var itemJson=_this8.$$storage().getItem(_this8.$$prefix+".data."+key);if(itemJson){var item=utils.fromJson(itemJson);_this8.$$maxAge===Number.MAX_VALUE?item.expires=Number.MAX_VALUE:item.expires=item.created+(item.maxAge||_this8.$$maxAge),_this8.$$expiresHeap.push({key:key,expires:item.expires})}})):keys.forEach((function(key){var item=_this8.$$data[key];item&&(_this8.$$maxAge===Number.MAX_VALUE?item.expires=Number.MAX_VALUE:item.expires=item.created+(item.maxAge||_this8.$$maxAge),_this8.$$expiresHeap.push(item))})),"aggressive"===this.$$deleteOnExpire?this.removeExpired():{}}},{key:"setOnExpire",value:function(onExpire){if(null===onExpire)this.$$onExpire=null;else{if(!utils.isFunction(onExpire))throw new TypeError('"onExpire" must be a function!');this.$$onExpire=onExpire}}},{key:"setOptions",value:function(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},strict=arguments.length>1&&arguments[1]!==undefined&&arguments[1];if(!utils.isObject(options))throw new TypeError('"options" must be an object!');options.storagePrefix!==undefined?this.$$storagePrefix=options.storagePrefix:strict&&(this.$$storagePrefix=defaults$1.storagePrefix),this.$$prefix=this.$$storagePrefix+this.id,options.enabled!==undefined?this.$$enabled=!!options.enabled:strict&&(this.$$enabled=defaults$1.enabled),options.deleteOnExpire!==undefined?this.setDeleteOnExpire(options.deleteOnExpire,!1):strict&&this.setDeleteOnExpire(defaults$1.deleteOnExpire,!1),options.recycleFreq!==undefined?this.setRecycleFreq(options.recycleFreq):strict&&this.setRecycleFreq(defaults$1.recycleFreq),options.maxAge!==undefined?this.setMaxAge(options.maxAge):strict&&this.setMaxAge(defaults$1.maxAge),options.storeOnResolve!==undefined?this.$$storeOnResolve=!!options.storeOnResolve:strict&&(this.$$storeOnResolve=defaults$1.storeOnResolve),options.storeOnReject!==undefined?this.$$storeOnReject=!!options.storeOnReject:strict&&(this.$$storeOnReject=defaults$1.storeOnReject),options.capacity!==undefined?this.setCapacity(options.capacity):strict&&this.setCapacity(defaults$1.capacity),options.cacheFlushInterval!==undefined?this.setCacheFlushInterval(options.cacheFlushInterval):strict&&this.setCacheFlushInterval(defaults$1.cacheFlushInterval),options.onExpire!==undefined?this.setOnExpire(options.onExpire):strict&&this.setOnExpire(defaults$1.onExpire),options.storageMode!==undefined||options.storageImpl!==undefined?this.setStorageMode(options.storageMode||defaults$1.storageMode,options.storageImpl||defaults$1.storageImpl):strict&&this.setStorageMode(defaults$1.storageMode,defaults$1.storageImpl)}},{key:"setRecycleFreq",value:function(recycleFreq){var _this9=this;if(null===recycleFreq)this.$$recycleFreq=null;else{if(!utils.isNumber(recycleFreq))throw new TypeError('"recycleFreq" must be a number!');if(recycleFreq<=0)throw new Error('"recycleFreq" must be greater than zero!');this.$$recycleFreq=recycleFreq}clearInterval(this.$$recycleFreqId),"aggressive"===this.$$deleteOnExpire&&this.$$recycleFreq?this.$$recycleFreqId=setInterval((function(){return _this9.removeExpired()}),this.$$recycleFreq):this.$$recycleFreqId=undefined}},{key:"setStorageMode",value:function(storageMode,storageImpl){var _this10=this;if(!utils.isString(storageMode))throw new TypeError('"storageMode" must be a string!');if("memory"!==storageMode&&"localStorage"!==storageMode&&"sessionStorage"!==storageMode)throw new Error('"storageMode" must be "memory", "localStorage", or "sessionStorage"!');var prevStorage=this.$$storage,prevData=this.$$data,shouldReInsert=!1,items={},load=function(prevStorage,prevData){var keys=_this10.keys(),prevDataIsObject=utils.isObject(prevData);keys.forEach((function(key){if(prevStorage){var itemJson=prevStorage().getItem(_this10.$$prefix+".data."+key);itemJson&&(items[key]=utils.fromJson(itemJson))}else prevDataIsObject&&(items[key]=prevData[key]);_this10.remove(key),shouldReInsert||(shouldReInsert=!0)}))};if(this.$$initializing||load(prevStorage,prevData),this.$$storageMode=storageMode,storageImpl){if(!utils.isObject(storageImpl))throw new TypeError('"storageImpl" must be an object!');if("function"!=typeof storageImpl.setItem)throw new Error('"storageImpl" must implement "setItem(key, value)"!');if("function"!=typeof storageImpl.getItem)throw new Error('"storageImpl" must implement "getItem(key)"!');if("function"!=typeof storageImpl.removeItem)throw new Error('"storageImpl" must implement "removeItem(key)"!');this.$$storage=function(){return storageImpl}}else if("localStorage"===this.$$storageMode)try{localStorage.setItem("cachefactory","cachefactory"),localStorage.removeItem("cachefactory"),this.$$storage=function(){return localStorage}}catch(e){this.$$storage=null,this.$$storageMode="memory"}else if("sessionStorage"===this.$$storageMode)try{sessionStorage.setItem("cachefactory","cachefactory"),sessionStorage.removeItem("cachefactory"),this.$$storage=function(){return sessionStorage}}catch(e){this.$$storage=null,this.$$storageMode="memory"}else this.$$storage=null,this.$$storageMode="memory";this.$$initializing&&load(this.$$storage,this.$$data),shouldReInsert&&Object.keys(items).forEach((function(key){var item=items[key];_this10.put(key,item.value,{created:item.created,accessed:item.accessed,expires:item.expires})}))}},{key:"touch",value:function(key,options){var _this11=this;if(key){var val=this.get(key,{onExpire:function(k,v){return _this11.put(k,v)}});val&&this.put(key,val,options)}else for(var keys=this.keys(),i=0;i<keys.length;i++)this.touch(keys[i],options)}},{key:"values",value:function(){var _this12=this;return this.keys().map((function(key){return _this12.get(key)}))}}]),Cache}(),CacheFactory=function(){function CacheFactory(){classCallCheck(this,CacheFactory),Object.defineProperty(this,"caches",{writable:!0,value:{}})}return createClass(CacheFactory,[{key:"clearAll",value:function(){var _this=this;this.keys().forEach((function(cacheId){_this.get(cacheId).removeAll()}))}},{key:"createCache",value:function(id){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.caches[id])throw new Error('cache "'+id+'" already exists!');return options.parent=this,this.caches[id]=new CacheFactory.Cache(id,options),this.caches[id]}},{key:"destroy",value:function(id){this.get(id).destroy(),this.caches[id]=undefined}},{key:"destroyAll",value:function(){var _this2=this;this.keys().forEach((function(id){_this2.get(id).destroy()})),this.caches={}}},{key:"disableAll",value:function(){var _this3=this;this.keys().forEach((function(cacheId){_this3.get(cacheId).disable()}))}},{key:"enableAll",value:function(){var _this4=this;this.keys().forEach((function(cacheId){_this4.get(cacheId).enable()}))}},{key:"exists",value:function(id){return!!this.caches[id]}},{key:"get",value:function(id){var cache=this.caches[id];if(!cache)throw new ReferenceError('Cache "'+id+'" does not exist!');return cache}},{key:"info",value:function(){var _this5=this,keys=this.keys(),info={size:keys.length,caches:{}};return keys.forEach((function(cacheId){info.caches[cacheId]=_this5.get(cacheId).info()})),Object.keys(defaults$1).forEach((function(key,value){info[key]=defaults$1[key]})),info}},{key:"keys",value:function(){var _this6=this;return Object.keys(this.caches).filter((function(key){return _this6.caches[key]}))}},{key:"keySet",value:function(){var set$$1={};return this.keys().forEach((function(key){set$$1[key]=key})),set$$1}},{key:"removeExpiredFromAll",value:function(){var _this7=this,expired={};return this.keys().forEach((function(id){expired[id]=_this7.get(id).removeExpired()})),expired}},{key:"touchAll",value:function(){var _this8=this;this.keys().forEach((function(cacheId){_this8.get(cacheId).touch()}))}}]),CacheFactory}();CacheFactory.Cache=Cache},Pz9i:function(module,exports,__webpack_require__){"use strict";exports.isDate=function(value){return value instanceof Date&&!isNaN(+value)}},Q8cc:function(module,exports,__webpack_require__){"use strict";var delayWhen_1=__webpack_require__("lmxm");exports.delayWhen=function(delayDurationSelector,subscriptionDelay){return delayWhen_1.delayWhen(delayDurationSelector,subscriptionDelay)(this)}},QH3e:function(module,exports,__webpack_require__){"use strict";var onErrorResumeNext_1=__webpack_require__("RtaT");exports.onErrorResumeNext=function(){for(var nextSources=[],_i=0;_i<arguments.length;_i++)nextSources[_i-0]=arguments[_i];return onErrorResumeNext_1.onErrorResumeNext.apply(void 0,nextSources)(this)}},QHPw:function(module,exports,__webpack_require__){"use strict";var async_1=__webpack_require__("gKc2"),sampleTime_1=__webpack_require__("Gxmd");exports.sampleTime=function(period,scheduler){return void 0===scheduler&&(scheduler=async_1.async),sampleTime_1.sampleTime(period,scheduler)(this)}},QTvk:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),switchMap_1=__webpack_require__("izwH");Observable_1.Observable.prototype.switchMap=switchMap_1.switchMap},QUkR:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},EmptyObservable=function(_super){function EmptyObservable(scheduler){_super.call(this),this.scheduler=scheduler}return __extends(EmptyObservable,_super),EmptyObservable.create=function(scheduler){return new EmptyObservable(scheduler)},EmptyObservable.dispatch=function(arg){arg.subscriber.complete()},EmptyObservable.prototype._subscribe=function(subscriber){var scheduler=this.scheduler;if(scheduler)return scheduler.schedule(EmptyObservable.dispatch,0,{subscriber:subscriber});subscriber.complete()},EmptyObservable}(__webpack_require__("sI33").Observable);exports.EmptyObservable=EmptyObservable},QjM8:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),timeoutWith_1=__webpack_require__("RLle");Observable_1.Observable.prototype.timeoutWith=timeoutWith_1.timeoutWith},QuRd:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),from_1=__webpack_require__("rjTF");Observable_1.Observable.from=from_1.from},R2hF:function(module,exports,__webpack_require__){"use strict";var filter_1=__webpack_require__("MezQ");exports.filter=function(predicate,thisArg){return filter_1.filter(predicate,thisArg)(this)}},RCUi:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),exhaust_1=__webpack_require__("RbQl");Observable_1.Observable.prototype.exhaust=exhaust_1.exhaust},RDcS:function(module,exports,__webpack_require__){"use strict";var skipUntil_1=__webpack_require__("7XK+");exports.skipUntil=function(notifier){return skipUntil_1.skipUntil(notifier)(this)}},RECq:function(module,exports,__webpack_require__){"use strict";var skipLast_1=__webpack_require__("Rkz6");exports.skipLast=function(count){return skipLast_1.skipLast(count)(this)}},RLle:function(module,exports,__webpack_require__){"use strict";var async_1=__webpack_require__("gKc2"),timeoutWith_1=__webpack_require__("owEk");exports.timeoutWith=function(due,withObservable,scheduler){return void 0===scheduler&&(scheduler=async_1.async),timeoutWith_1.timeoutWith(due,withObservable,scheduler)(this)}},RPO6:function(module,exports,__webpack_require__){"use strict";exports.errorObject={e:{}}},RXIN:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),mergeScan_1=__webpack_require__("cLE3");Observable_1.Observable.prototype.mergeScan=mergeScan_1.mergeScan},RbQl:function(module,exports,__webpack_require__){"use strict";var exhaust_1=__webpack_require__("9RDM");exports.exhaust=function(){return exhaust_1.exhaust()(this)}},Rkz6:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),ArgumentOutOfRangeError_1=__webpack_require__("y85y");exports.skipLast=function(count){return function(source){return source.lift(new SkipLastOperator(count))}};var SkipLastOperator=function(){function SkipLastOperator(_skipCount){if(this._skipCount=_skipCount,this._skipCount<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return SkipLastOperator.prototype.call=function(subscriber,source){return 0===this._skipCount?source.subscribe(new Subscriber_1.Subscriber(subscriber)):source.subscribe(new SkipLastSubscriber(subscriber,this._skipCount))},SkipLastOperator}(),SkipLastSubscriber=function(_super){function SkipLastSubscriber(destination,_skipCount){_super.call(this,destination),this._skipCount=_skipCount,this._count=0,this._ring=new Array(_skipCount)}return __extends(SkipLastSubscriber,_super),SkipLastSubscriber.prototype._next=function(value){var skipCount=this._skipCount,count=this._count++;if(count<skipCount)this._ring[count]=value;else{var currentIndex=count%skipCount,ring=this._ring,oldValue=ring[currentIndex];ring[currentIndex]=value,this.destination.next(oldValue)}},SkipLastSubscriber}(Subscriber_1.Subscriber)},Ro5u:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isFunction_1=__webpack_require__("WQRc"),Subscription_1=__webpack_require__("CauQ"),Observer_1=__webpack_require__("cLWh"),rxSubscriber_1=__webpack_require__("qUV8"),Subscriber=function(_super){function Subscriber(destinationOrNext,error,complete){switch(_super.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer_1.empty;break;case 1:if(!destinationOrNext){this.destination=Observer_1.empty;break}if("object"==typeof destinationOrNext){if(isTrustedSubscriber(destinationOrNext)){var trustedSubscriber=destinationOrNext[rxSubscriber_1.rxSubscriber]();this.syncErrorThrowable=trustedSubscriber.syncErrorThrowable,this.destination=trustedSubscriber,trustedSubscriber.add(this)}else this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext);break}default:this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,destinationOrNext,error,complete)}}return __extends(Subscriber,_super),Subscriber.prototype[rxSubscriber_1.rxSubscriber]=function(){return this},Subscriber.create=function(next,error,complete){var subscriber=new Subscriber(next,error,complete);return subscriber.syncErrorThrowable=!1,subscriber},Subscriber.prototype.next=function(value){this.isStopped||this._next(value)},Subscriber.prototype.error=function(err){this.isStopped||(this.isStopped=!0,this._error(err))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,_super.prototype.unsubscribe.call(this))},Subscriber.prototype._next=function(value){this.destination.next(value)},Subscriber.prototype._error=function(err){this.destination.error(err),this.unsubscribe()},Subscriber.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Subscriber.prototype._unsubscribeAndRecycle=function(){var _parent=this._parent,_parents=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=_parent,this._parents=_parents,this},Subscriber}(Subscription_1.Subscription);exports.Subscriber=Subscriber;var SafeSubscriber=function(_super){function SafeSubscriber(_parentSubscriber,observerOrNext,error,complete){var next;_super.call(this),this._parentSubscriber=_parentSubscriber;var context=this;isFunction_1.isFunction(observerOrNext)?next=observerOrNext:observerOrNext&&(next=observerOrNext.next,error=observerOrNext.error,complete=observerOrNext.complete,observerOrNext!==Observer_1.empty&&(context=Object.create(observerOrNext),isFunction_1.isFunction(context.unsubscribe)&&this.add(context.unsubscribe.bind(context)),context.unsubscribe=this.unsubscribe.bind(this))),this._context=context,this._next=next,this._error=error,this._complete=complete}return __extends(SafeSubscriber,_super),SafeSubscriber.prototype.next=function(value){if(!this.isStopped&&this._next){var _parentSubscriber=this._parentSubscriber;_parentSubscriber.syncErrorThrowable?this.__tryOrSetError(_parentSubscriber,this._next,value)&&this.unsubscribe():this.__tryOrUnsub(this._next,value)}},SafeSubscriber.prototype.error=function(err){if(!this.isStopped){var _parentSubscriber=this._parentSubscriber;if(this._error)_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,this._error,err),this.unsubscribe()):(this.__tryOrUnsub(this._error,err),this.unsubscribe());else{if(!_parentSubscriber.syncErrorThrowable)throw this.unsubscribe(),err;_parentSubscriber.syncErrorValue=err,_parentSubscriber.syncErrorThrown=!0,this.unsubscribe()}}},SafeSubscriber.prototype.complete=function(){var _this=this;if(!this.isStopped){var _parentSubscriber=this._parentSubscriber;if(this._complete){var wrappedComplete=function(){return _this._complete.call(_this._context)};_parentSubscriber.syncErrorThrowable?(this.__tryOrSetError(_parentSubscriber,wrappedComplete),this.unsubscribe()):(this.__tryOrUnsub(wrappedComplete),this.unsubscribe())}else this.unsubscribe()}},SafeSubscriber.prototype.__tryOrUnsub=function(fn,value){try{fn.call(this._context,value)}catch(err){throw this.unsubscribe(),err}},SafeSubscriber.prototype.__tryOrSetError=function(parent,fn,value){try{fn.call(this._context,value)}catch(err){return parent.syncErrorValue=err,parent.syncErrorThrown=!0,!0}return!1},SafeSubscriber.prototype._unsubscribe=function(){var _parentSubscriber=this._parentSubscriber;this._context=null,this._parentSubscriber=null,_parentSubscriber.unsubscribe()},SafeSubscriber}(Subscriber);function isTrustedSubscriber(obj){return obj instanceof Subscriber||"syncErrorThrowable"in obj&&obj[rxSubscriber_1.rxSubscriber]}},RqTh:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),windowToggle_1=__webpack_require__("373Y");Observable_1.Observable.prototype.windowToggle=windowToggle_1.windowToggle},RtaT:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},FromObservable_1=__webpack_require__("Bfcd"),isArray_1=__webpack_require__("aS1e"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.onErrorResumeNext=function(){for(var nextSources=[],_i=0;_i<arguments.length;_i++)nextSources[_i-0]=arguments[_i];return 1===nextSources.length&&isArray_1.isArray(nextSources[0])&&(nextSources=nextSources[0]),function(source){return source.lift(new OnErrorResumeNextOperator(nextSources))}},exports.onErrorResumeNextStatic=function(){for(var nextSources=[],_i=0;_i<arguments.length;_i++)nextSources[_i-0]=arguments[_i];var source=null;return 1===nextSources.length&&isArray_1.isArray(nextSources[0])&&(nextSources=nextSources[0]),source=nextSources.shift(),new FromObservable_1.FromObservable(source,null).lift(new OnErrorResumeNextOperator(nextSources))};var OnErrorResumeNextOperator=function(){function OnErrorResumeNextOperator(nextSources){this.nextSources=nextSources}return OnErrorResumeNextOperator.prototype.call=function(subscriber,source){return source.subscribe(new OnErrorResumeNextSubscriber(subscriber,this.nextSources))},OnErrorResumeNextOperator}(),OnErrorResumeNextSubscriber=function(_super){function OnErrorResumeNextSubscriber(destination,nextSources){_super.call(this,destination),this.destination=destination,this.nextSources=nextSources}return __extends(OnErrorResumeNextSubscriber,_super),OnErrorResumeNextSubscriber.prototype.notifyError=function(error,innerSub){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype.notifyComplete=function(innerSub){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype._error=function(err){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype._complete=function(){this.subscribeToNextSource()},OnErrorResumeNextSubscriber.prototype.subscribeToNextSource=function(){var next=this.nextSources.shift();next?this.add(subscribeToResult_1.subscribeToResult(this,next)):this.destination.complete()},OnErrorResumeNextSubscriber}(OuterSubscriber_1.OuterSubscriber)},"S++a":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),publish_1=__webpack_require__("FsyH");Observable_1.Observable.prototype.publish=publish_1.publish},"S/LY":function(module,exports,__webpack_require__){"use strict";var publishReplay_1=__webpack_require__("fnom");exports.publishReplay=function(bufferSize,windowTime,selectorOrScheduler,scheduler){return publishReplay_1.publishReplay(bufferSize,windowTime,selectorOrScheduler,scheduler)(this)}},"S2Z/":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),debounce_1=__webpack_require__("6StA");Observable_1.Observable.prototype.debounce=debounce_1.debounce},S4kW:function(module,exports,__webpack_require__){"use strict";var async_1=__webpack_require__("gKc2"),auditTime_1=__webpack_require__("Yb46");exports.auditTime=function(duration,scheduler){return void 0===scheduler&&(scheduler=async_1.async),auditTime_1.auditTime(duration,scheduler)(this)}},SCPP:function(module,exports,__webpack_require__){"use strict";var reduce_1=__webpack_require__("P3wL");exports.min=function(comparer){var min="function"==typeof comparer?function(x,y){return comparer(x,y)<0?x:y}:function(x,y){return x<y?x:y};return reduce_1.reduce(min)}},SQoA:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),Notification_1=__webpack_require__("uGw4"),ColdObservable_1=__webpack_require__("l5RG"),HotObservable_1=__webpack_require__("qRsd"),SubscriptionLog_1=__webpack_require__("MvhZ"),VirtualTimeScheduler_1=__webpack_require__("VPM4"),TestScheduler=function(_super){function TestScheduler(assertDeepEqual){_super.call(this,VirtualTimeScheduler_1.VirtualAction,750),this.assertDeepEqual=assertDeepEqual,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return __extends(TestScheduler,_super),TestScheduler.prototype.createTime=function(marbles){var indexOf=marbles.indexOf("|");if(-1===indexOf)throw new Error('marble diagram for time should have a completion marker "|"');return indexOf*TestScheduler.frameTimeFactor},TestScheduler.prototype.createColdObservable=function(marbles,values,error){if(-1!==marbles.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==marbles.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var messages=TestScheduler.parseMarbles(marbles,values,error),cold=new ColdObservable_1.ColdObservable(messages,this);return this.coldObservables.push(cold),cold},TestScheduler.prototype.createHotObservable=function(marbles,values,error){if(-1!==marbles.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var messages=TestScheduler.parseMarbles(marbles,values,error),subject=new HotObservable_1.HotObservable(messages,this);return this.hotObservables.push(subject),subject},TestScheduler.prototype.materializeInnerObservable=function(observable,outerFrame){var _this=this,messages=[];return observable.subscribe((function(value){messages.push({frame:_this.frame-outerFrame,notification:Notification_1.Notification.createNext(value)})}),(function(err){messages.push({frame:_this.frame-outerFrame,notification:Notification_1.Notification.createError(err)})}),(function(){messages.push({frame:_this.frame-outerFrame,notification:Notification_1.Notification.createComplete()})})),messages},TestScheduler.prototype.expectObservable=function(observable,unsubscriptionMarbles){var _this=this;void 0===unsubscriptionMarbles&&(unsubscriptionMarbles=null);var subscription,actual=[],flushTest={actual:actual,ready:!1},unsubscriptionFrame=TestScheduler.parseMarblesAsSubscriptions(unsubscriptionMarbles).unsubscribedFrame;return this.schedule((function(){subscription=observable.subscribe((function(x){var value=x;x instanceof Observable_1.Observable&&(value=_this.materializeInnerObservable(value,_this.frame)),actual.push({frame:_this.frame,notification:Notification_1.Notification.createNext(value)})}),(function(err){actual.push({frame:_this.frame,notification:Notification_1.Notification.createError(err)})}),(function(){actual.push({frame:_this.frame,notification:Notification_1.Notification.createComplete()})}))}),0),unsubscriptionFrame!==Number.POSITIVE_INFINITY&&this.schedule((function(){return subscription.unsubscribe()}),unsubscriptionFrame),this.flushTests.push(flushTest),{toBe:function(marbles,values,errorValue){flushTest.ready=!0,flushTest.expected=TestScheduler.parseMarbles(marbles,values,errorValue,!0)}}},TestScheduler.prototype.expectSubscriptions=function(actualSubscriptionLogs){var flushTest={actual:actualSubscriptionLogs,ready:!1};return this.flushTests.push(flushTest),{toBe:function(marbles){var marblesArray="string"==typeof marbles?[marbles]:marbles;flushTest.ready=!0,flushTest.expected=marblesArray.map((function(marbles){return TestScheduler.parseMarblesAsSubscriptions(marbles)}))}}},TestScheduler.prototype.flush=function(){for(var hotObservables=this.hotObservables;hotObservables.length>0;)hotObservables.shift().setup();_super.prototype.flush.call(this);for(var readyFlushTests=this.flushTests.filter((function(test){return test.ready}));readyFlushTests.length>0;){var test=readyFlushTests.shift();this.assertDeepEqual(test.actual,test.expected)}},TestScheduler.parseMarblesAsSubscriptions=function(marbles){if("string"!=typeof marbles)return new SubscriptionLog_1.SubscriptionLog(Number.POSITIVE_INFINITY);for(var len=marbles.length,groupStart=-1,subscriptionFrame=Number.POSITIVE_INFINITY,unsubscriptionFrame=Number.POSITIVE_INFINITY,i=0;i<len;i++){var frame=i*this.frameTimeFactor,c=marbles[i];switch(c){case"-":case" ":break;case"(":groupStart=frame;break;case")":groupStart=-1;break;case"^":if(subscriptionFrame!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");subscriptionFrame=groupStart>-1?groupStart:frame;break;case"!":if(unsubscriptionFrame!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");unsubscriptionFrame=groupStart>-1?groupStart:frame;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+c+"'.")}}return unsubscriptionFrame<0?new SubscriptionLog_1.SubscriptionLog(subscriptionFrame):new SubscriptionLog_1.SubscriptionLog(subscriptionFrame,unsubscriptionFrame)},TestScheduler.parseMarbles=function(marbles,values,errorValue,materializeInnerObservables){if(void 0===materializeInnerObservables&&(materializeInnerObservables=!1),-1!==marbles.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var len=marbles.length,testMessages=[],subIndex=marbles.indexOf("^"),frameOffset=-1===subIndex?0:subIndex*-this.frameTimeFactor,getValue="object"!=typeof values?function(x){return x}:function(x){return materializeInnerObservables&&values[x]instanceof ColdObservable_1.ColdObservable?values[x].messages:values[x]},groupStart=-1,i=0;i<len;i++){var frame=i*this.frameTimeFactor+frameOffset,notification=void 0,c=marbles[i];switch(c){case"-":case" ":break;case"(":groupStart=frame;break;case")":groupStart=-1;break;case"|":notification=Notification_1.Notification.createComplete();break;case"^":break;case"#":notification=Notification_1.Notification.createError(errorValue||"error");break;default:notification=Notification_1.Notification.createNext(getValue(c))}notification&&testMessages.push({frame:groupStart>-1?groupStart:frame,notification:notification})}return testMessages},TestScheduler}(VirtualTimeScheduler_1.VirtualTimeScheduler);exports.TestScheduler=TestScheduler},SVAK:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__("mwCp"),tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.windowWhen=function(closingSelector){return function(source){return source.lift(new WindowOperator(closingSelector))}};var WindowOperator=function(){function WindowOperator(closingSelector){this.closingSelector=closingSelector}return WindowOperator.prototype.call=function(subscriber,source){return source.subscribe(new WindowSubscriber(subscriber,this.closingSelector))},WindowOperator}(),WindowSubscriber=function(_super){function WindowSubscriber(destination,closingSelector){_super.call(this,destination),this.destination=destination,this.closingSelector=closingSelector,this.openWindow()}return __extends(WindowSubscriber,_super),WindowSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openWindow(innerSub)},WindowSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},WindowSubscriber.prototype.notifyComplete=function(innerSub){this.openWindow(innerSub)},WindowSubscriber.prototype._next=function(value){this.window.next(value)},WindowSubscriber.prototype._error=function(err){this.window.error(err),this.destination.error(err),this.unsubscribeClosingNotification()},WindowSubscriber.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},WindowSubscriber.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},WindowSubscriber.prototype.openWindow=function(innerSub){void 0===innerSub&&(innerSub=null),innerSub&&(this.remove(innerSub),innerSub.unsubscribe());var prevWindow=this.window;prevWindow&&prevWindow.complete();var window=this.window=new Subject_1.Subject;this.destination.next(window);var closingNotifier=tryCatch_1.tryCatch(this.closingSelector)();if(closingNotifier===errorObject_1.errorObject){var err=errorObject_1.errorObject.e;this.destination.error(err),this.window.error(err)}else this.add(this.closingNotification=subscribeToResult_1.subscribeToResult(this,closingNotifier))},WindowSubscriber}(OuterSubscriber_1.OuterSubscriber)},SXxM:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isNumeric_1=__webpack_require__("xftq"),Observable_1=__webpack_require__("sI33"),async_1=__webpack_require__("gKc2"),isScheduler_1=__webpack_require__("VtyV"),isDate_1=__webpack_require__("Pz9i"),TimerObservable=function(_super){function TimerObservable(dueTime,period,scheduler){void 0===dueTime&&(dueTime=0),_super.call(this),this.period=-1,this.dueTime=0,isNumeric_1.isNumeric(period)?this.period=Number(period)<1?1:Number(period):isScheduler_1.isScheduler(period)&&(scheduler=period),isScheduler_1.isScheduler(scheduler)||(scheduler=async_1.async),this.scheduler=scheduler,this.dueTime=isDate_1.isDate(dueTime)?+dueTime-this.scheduler.now():dueTime}return __extends(TimerObservable,_super),TimerObservable.create=function(initialDelay,period,scheduler){return void 0===initialDelay&&(initialDelay=0),new TimerObservable(initialDelay,period,scheduler)},TimerObservable.dispatch=function(state){var index=state.index,period=state.period,subscriber=state.subscriber;if(subscriber.next(index),!subscriber.closed){if(-1===period)return subscriber.complete();state.index=index+1,this.schedule(state,period)}},TimerObservable.prototype._subscribe=function(subscriber){var period=this.period,dueTime=this.dueTime;return this.scheduler.schedule(TimerObservable.dispatch,dueTime,{index:0,period:period,subscriber:subscriber})},TimerObservable}(Observable_1.Observable);exports.TimerObservable=TimerObservable},ShWp:function(module,exports,__webpack_require__){"use strict";var buffer_1=__webpack_require__("l+eR");exports.buffer=function(closingNotifier){return buffer_1.buffer(closingNotifier)(this)}},SzEw:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),skipLast_1=__webpack_require__("RECq");Observable_1.Observable.prototype.skipLast=skipLast_1.skipLast},"T/NX":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),zipAll_1=__webpack_require__("VOXW");Observable_1.Observable.prototype.zipAll=zipAll_1.zipAll},TOeH:function(module,exports,__webpack_require__){"use strict";var reduce_1=__webpack_require__("P3wL");exports.reduce=function(accumulator,seed){return arguments.length>=2?reduce_1.reduce(accumulator,seed)(this):reduce_1.reduce(accumulator)(this)}},Txlp:function(module,exports,__webpack_require__){"use strict";var first_1=__webpack_require__("uwmc");exports.first=function(predicate,resultSelector,defaultValue){return first_1.first(predicate,resultSelector,defaultValue)(this)}},TzVV:function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},"U+Yh":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),fromPromise_1=__webpack_require__("tz5a");Observable_1.Observable.fromPromise=fromPromise_1.fromPromise},U8RT:function(module,exports,__webpack_require__){"use strict";var root_1=__webpack_require__("UbR+"),RequestAnimationFrameDefinition=function(root){root.requestAnimationFrame?(this.cancelAnimationFrame=root.cancelAnimationFrame.bind(root),this.requestAnimationFrame=root.requestAnimationFrame.bind(root)):root.mozRequestAnimationFrame?(this.cancelAnimationFrame=root.mozCancelAnimationFrame.bind(root),this.requestAnimationFrame=root.mozRequestAnimationFrame.bind(root)):root.webkitRequestAnimationFrame?(this.cancelAnimationFrame=root.webkitCancelAnimationFrame.bind(root),this.requestAnimationFrame=root.webkitRequestAnimationFrame.bind(root)):root.msRequestAnimationFrame?(this.cancelAnimationFrame=root.msCancelAnimationFrame.bind(root),this.requestAnimationFrame=root.msRequestAnimationFrame.bind(root)):root.oRequestAnimationFrame?(this.cancelAnimationFrame=root.oCancelAnimationFrame.bind(root),this.requestAnimationFrame=root.oRequestAnimationFrame.bind(root)):(this.cancelAnimationFrame=root.clearTimeout.bind(root),this.requestAnimationFrame=function(cb){return root.setTimeout(cb,1e3/60)})};exports.RequestAnimationFrameDefinition=RequestAnimationFrameDefinition,exports.AnimationFrame=new RequestAnimationFrameDefinition(root_1.root)},UGhx:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.switchMap=function(project,resultSelector){return function(source){return source.lift(new SwitchMapOperator(project,resultSelector))}};var SwitchMapOperator=function(){function SwitchMapOperator(project,resultSelector){this.project=project,this.resultSelector=resultSelector}return SwitchMapOperator.prototype.call=function(subscriber,source){return source.subscribe(new SwitchMapSubscriber(subscriber,this.project,this.resultSelector))},SwitchMapOperator}(),SwitchMapSubscriber=function(_super){function SwitchMapSubscriber(destination,project,resultSelector){_super.call(this,destination),this.project=project,this.resultSelector=resultSelector,this.index=0}return __extends(SwitchMapSubscriber,_super),SwitchMapSubscriber.prototype._next=function(value){var result,index=this.index++;try{result=this.project(value,index)}catch(error){return void this.destination.error(error)}this._innerSub(result,value,index)},SwitchMapSubscriber.prototype._innerSub=function(result,value,index){var innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe(),this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,result,value,index))},SwitchMapSubscriber.prototype._complete=function(){var innerSubscription=this.innerSubscription;innerSubscription&&!innerSubscription.closed||_super.prototype._complete.call(this)},SwitchMapSubscriber.prototype._unsubscribe=function(){this.innerSubscription=null},SwitchMapSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub),this.innerSubscription=null,this.isStopped&&_super.prototype._complete.call(this)},SwitchMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.resultSelector?this._tryNotifyNext(outerValue,innerValue,outerIndex,innerIndex):this.destination.next(innerValue)},SwitchMapSubscriber.prototype._tryNotifyNext=function(outerValue,innerValue,outerIndex,innerIndex){var result;try{result=this.resultSelector(outerValue,innerValue,outerIndex,innerIndex)}catch(err){return void this.destination.error(err)}this.destination.next(result)},SwitchMapSubscriber}(OuterSubscriber_1.OuterSubscriber)},UOAa:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__("mwCp"),Subscription_1=__webpack_require__("CauQ"),tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.windowToggle=function(openings,closingSelector){return function(source){return source.lift(new WindowToggleOperator(openings,closingSelector))}};var WindowToggleOperator=function(){function WindowToggleOperator(openings,closingSelector){this.openings=openings,this.closingSelector=closingSelector}return WindowToggleOperator.prototype.call=function(subscriber,source){return source.subscribe(new WindowToggleSubscriber(subscriber,this.openings,this.closingSelector))},WindowToggleOperator}(),WindowToggleSubscriber=function(_super){function WindowToggleSubscriber(destination,openings,closingSelector){_super.call(this,destination),this.openings=openings,this.closingSelector=closingSelector,this.contexts=[],this.add(this.openSubscription=subscribeToResult_1.subscribeToResult(this,openings,openings))}return __extends(WindowToggleSubscriber,_super),WindowToggleSubscriber.prototype._next=function(value){var contexts=this.contexts;if(contexts)for(var len=contexts.length,i=0;i<len;i++)contexts[i].window.next(value)},WindowToggleSubscriber.prototype._error=function(err){var contexts=this.contexts;if(this.contexts=null,contexts)for(var len=contexts.length,index=-1;++index<len;){var context=contexts[index];context.window.error(err),context.subscription.unsubscribe()}_super.prototype._error.call(this,err)},WindowToggleSubscriber.prototype._complete=function(){var contexts=this.contexts;if(this.contexts=null,contexts)for(var len=contexts.length,index=-1;++index<len;){var context=contexts[index];context.window.complete(),context.subscription.unsubscribe()}_super.prototype._complete.call(this)},WindowToggleSubscriber.prototype._unsubscribe=function(){var contexts=this.contexts;if(this.contexts=null,contexts)for(var len=contexts.length,index=-1;++index<len;){var context=contexts[index];context.window.unsubscribe(),context.subscription.unsubscribe()}},WindowToggleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){if(outerValue===this.openings){var closingSelector=this.closingSelector,closingNotifier=tryCatch_1.tryCatch(closingSelector)(innerValue);if(closingNotifier===errorObject_1.errorObject)return this.error(errorObject_1.errorObject.e);var window_1=new Subject_1.Subject,subscription=new Subscription_1.Subscription,context={window:window_1,subscription:subscription};this.contexts.push(context);var innerSubscription=subscribeToResult_1.subscribeToResult(this,closingNotifier,context);innerSubscription.closed?this.closeWindow(this.contexts.length-1):(innerSubscription.context=context,subscription.add(innerSubscription)),this.destination.next(window_1)}else this.closeWindow(this.contexts.indexOf(outerValue))},WindowToggleSubscriber.prototype.notifyError=function(err){this.error(err)},WindowToggleSubscriber.prototype.notifyComplete=function(inner){inner!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(inner.context))},WindowToggleSubscriber.prototype.closeWindow=function(index){if(-1!==index){var contexts=this.contexts,context=contexts[index],window=context.window,subscription=context.subscription;contexts.splice(index,1),window.complete(),subscription.unsubscribe()}},WindowToggleSubscriber}(OuterSubscriber_1.OuterSubscriber)},"UbR+":function(module,exports,__webpack_require__){"use strict";(function(global){var __window="undefined"!=typeof window&&window,__self="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_root=__window||void 0!==global&&global||__self;exports.root=_root,function(){if(!_root)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(this,__webpack_require__("uKge"))},Uk6t:function(module,exports,__webpack_require__){"use strict";var materialize_1=__webpack_require__("gwBV");exports.materialize=function(){return materialize_1.materialize()(this)}},"V+UX":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.isEmpty=function(){return function(source){return source.lift(new IsEmptyOperator)}};var IsEmptyOperator=function(){function IsEmptyOperator(){}return IsEmptyOperator.prototype.call=function(observer,source){return source.subscribe(new IsEmptySubscriber(observer))},IsEmptyOperator}(),IsEmptySubscriber=function(_super){function IsEmptySubscriber(destination){_super.call(this,destination)}return __extends(IsEmptySubscriber,_super),IsEmptySubscriber.prototype.notifyComplete=function(isEmpty){var destination=this.destination;destination.next(isEmpty),destination.complete()},IsEmptySubscriber.prototype._next=function(value){this.notifyComplete(!1)},IsEmptySubscriber.prototype._complete=function(){this.notifyComplete(!0)},IsEmptySubscriber}(Subscriber_1.Subscriber)},VJ6T:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),elementAt_1=__webpack_require__("m0J5");Observable_1.Observable.prototype.elementAt=elementAt_1.elementAt},VOXW:function(module,exports,__webpack_require__){"use strict";var zipAll_1=__webpack_require__("tiP0");exports.zipAll=function(project){return zipAll_1.zipAll(project)(this)}},VPM4:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AsyncAction_1=__webpack_require__("LP9p"),VirtualTimeScheduler=function(_super){function VirtualTimeScheduler(SchedulerAction,maxFrames){var _this=this;void 0===SchedulerAction&&(SchedulerAction=VirtualAction),void 0===maxFrames&&(maxFrames=Number.POSITIVE_INFINITY),_super.call(this,SchedulerAction,(function(){return _this.frame})),this.maxFrames=maxFrames,this.frame=0,this.index=-1}return __extends(VirtualTimeScheduler,_super),VirtualTimeScheduler.prototype.flush=function(){for(var error,action,actions=this.actions,maxFrames=this.maxFrames;(action=actions.shift())&&(this.frame=action.delay)<=maxFrames&&!(error=action.execute(action.state,action.delay)););if(error){for(;action=actions.shift();)action.unsubscribe();throw error}},VirtualTimeScheduler.frameTimeFactor=10,VirtualTimeScheduler}(__webpack_require__("jC1i").AsyncScheduler);exports.VirtualTimeScheduler=VirtualTimeScheduler;var VirtualAction=function(_super){function VirtualAction(scheduler,work,index){void 0===index&&(index=scheduler.index+=1),_super.call(this,scheduler,work),this.scheduler=scheduler,this.work=work,this.index=index,this.active=!0,this.index=scheduler.index=index}return __extends(VirtualAction,_super),VirtualAction.prototype.schedule=function(state,delay){if(void 0===delay&&(delay=0),!this.id)return _super.prototype.schedule.call(this,state,delay);this.active=!1;var action=new VirtualAction(this.scheduler,this.work);return this.add(action),action.schedule(state,delay)},VirtualAction.prototype.requestAsyncId=function(scheduler,id,delay){void 0===delay&&(delay=0),this.delay=scheduler.frame+delay;var actions=scheduler.actions;return actions.push(this),actions.sort(VirtualAction.sortActions),!0},VirtualAction.prototype.recycleAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),undefined},VirtualAction.prototype._execute=function(state,delay){if(!0===this.active)return _super.prototype._execute.call(this,state,delay)},VirtualAction.sortActions=function(a,b){return a.delay===b.delay?a.index===b.index?0:a.index>b.index?1:-1:a.delay>b.delay?1:-1},VirtualAction}(AsyncAction_1.AsyncAction);exports.VirtualAction=VirtualAction},VaAN:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),zip_1=__webpack_require__("/lPm");Observable_1.Observable.prototype.zip=zip_1.zipProto},VriW:function(module,exports,__webpack_require__){"use strict";var distinctUntilChanged_1=__webpack_require__("9dF8");exports.distinctUntilChanged=function(compare,keySelector){return distinctUntilChanged_1.distinctUntilChanged(compare,keySelector)(this)}},VtyV:function(module,exports,__webpack_require__){"use strict";exports.isScheduler=function(value){return value&&"function"==typeof value.schedule}},Vui3:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),interval_1=__webpack_require__("2Zar");Observable_1.Observable.interval=interval_1.interval},W1Df:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),EmptyObservable_1=__webpack_require__("QUkR"),isArray_1=__webpack_require__("aS1e"),subscribeToResult_1=__webpack_require__("7/JB"),OuterSubscriber_1=__webpack_require__("Zyg3"),ForkJoinObservable=function(_super){function ForkJoinObservable(sources,resultSelector){_super.call(this),this.sources=sources,this.resultSelector=resultSelector}return __extends(ForkJoinObservable,_super),ForkJoinObservable.create=function(){for(var sources=[],_i=0;_i<arguments.length;_i++)sources[_i-0]=arguments[_i];if(null===sources||0===arguments.length)return new EmptyObservable_1.EmptyObservable;var resultSelector=null;return"function"==typeof sources[sources.length-1]&&(resultSelector=sources.pop()),1===sources.length&&isArray_1.isArray(sources[0])&&(sources=sources[0]),0===sources.length?new EmptyObservable_1.EmptyObservable:new ForkJoinObservable(sources,resultSelector)},ForkJoinObservable.prototype._subscribe=function(subscriber){return new ForkJoinSubscriber(subscriber,this.sources,this.resultSelector)},ForkJoinObservable}(Observable_1.Observable);exports.ForkJoinObservable=ForkJoinObservable;var ForkJoinSubscriber=function(_super){function ForkJoinSubscriber(destination,sources,resultSelector){_super.call(this,destination),this.sources=sources,this.resultSelector=resultSelector,this.completed=0,this.haveValues=0;var len=sources.length;this.total=len,this.values=new Array(len);for(var i=0;i<len;i++){var source=sources[i],innerSubscription=subscribeToResult_1.subscribeToResult(this,source,null,i);innerSubscription&&(innerSubscription.outerIndex=i,this.add(innerSubscription))}}return __extends(ForkJoinSubscriber,_super),ForkJoinSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values[outerIndex]=innerValue,innerSub._hasValue||(innerSub._hasValue=!0,this.haveValues++)},ForkJoinSubscriber.prototype.notifyComplete=function(innerSub){var destination=this.destination,haveValues=this.haveValues,resultSelector=this.resultSelector,values=this.values,len=values.length;if(innerSub._hasValue){if(this.completed++,this.completed===len){if(haveValues===len){var value=resultSelector?resultSelector.apply(this,values):values;destination.next(value)}destination.complete()}}else destination.complete()},ForkJoinSubscriber}(OuterSubscriber_1.OuterSubscriber)},W28c:function(module,exports,__webpack_require__){"use strict";var ErrorObservable_1=__webpack_require__("LljR");exports._throw=ErrorObservable_1.ErrorObservable.create},W5RZ:function(module,exports,__webpack_require__){"use strict";var single_1=__webpack_require__("oTak");exports.single=function(predicate){return single_1.single(predicate)(this)}},W8nP:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),mergeMapTo_1=__webpack_require__("Ae56");Observable_1.Observable.prototype.flatMapTo=mergeMapTo_1.mergeMapTo,Observable_1.Observable.prototype.mergeMapTo=mergeMapTo_1.mergeMapTo},WEWy:function(module,exports,__webpack_require__){"use strict";var FromEventPatternObservable_1=__webpack_require__("f0I/");exports.fromEventPattern=FromEventPatternObservable_1.FromEventPatternObservable.create},WHxu:function(module,exports,__webpack_require__){"use strict";var sample_1=__webpack_require__("pVu0");exports.sample=function(notifier){return sample_1.sample(notifier)(this)}},WQRc:function(module,exports,__webpack_require__){"use strict";exports.isFunction=function(x){return"function"==typeof x}},Weuy:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),windowWhen_1=__webpack_require__("qKEq");Observable_1.Observable.prototype.windowWhen=windowWhen_1.windowWhen},WiUb:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),shareReplay_1=__webpack_require__("bNsi");Observable_1.Observable.prototype.shareReplay=shareReplay_1.shareReplay},Wr2u:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),windowTime_1=__webpack_require__("lG4q");Observable_1.Observable.prototype.windowTime=windowTime_1.windowTime},WuCd:function(module,exports,__webpack_require__){"use strict";var async_1=__webpack_require__("gKc2"),timestamp_1=__webpack_require__("r8CI");exports.timestamp=function(scheduler){return void 0===scheduler&&(scheduler=async_1.async),timestamp_1.timestamp(scheduler)(this)}},XGav:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.audit=function(durationSelector){return function(source){return source.lift(new AuditOperator(durationSelector))}};var AuditOperator=function(){function AuditOperator(durationSelector){this.durationSelector=durationSelector}return AuditOperator.prototype.call=function(subscriber,source){return source.subscribe(new AuditSubscriber(subscriber,this.durationSelector))},AuditOperator}(),AuditSubscriber=function(_super){function AuditSubscriber(destination,durationSelector){_super.call(this,destination),this.durationSelector=durationSelector,this.hasValue=!1}return __extends(AuditSubscriber,_super),AuditSubscriber.prototype._next=function(value){if(this.value=value,this.hasValue=!0,!this.throttled){var duration=tryCatch_1.tryCatch(this.durationSelector)(value);if(duration===errorObject_1.errorObject)this.destination.error(errorObject_1.errorObject.e);else{var innerSubscription=subscribeToResult_1.subscribeToResult(this,duration);innerSubscription.closed?this.clearThrottle():this.add(this.throttled=innerSubscription)}}},AuditSubscriber.prototype.clearThrottle=function(){var value=this.value,hasValue=this.hasValue,throttled=this.throttled;throttled&&(this.remove(throttled),this.throttled=null,throttled.unsubscribe()),hasValue&&(this.value=null,this.hasValue=!1,this.destination.next(value))},AuditSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex){this.clearThrottle()},AuditSubscriber.prototype.notifyComplete=function(){this.clearThrottle()},AuditSubscriber}(OuterSubscriber_1.OuterSubscriber)},XNsz:function(module,exports,__webpack_require__){"use strict";var distinctUntilChanged_1=__webpack_require__("9dF8");exports.distinctUntilKeyChanged=function(key,compare){return distinctUntilChanged_1.distinctUntilChanged((function(x,y){return compare?compare(x[key],y[key]):x[key]===y[key]}))}},XehH:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),Notification_1=__webpack_require__("uGw4");exports.observeOn=function(scheduler,delay){return void 0===delay&&(delay=0),function(source){return source.lift(new ObserveOnOperator(scheduler,delay))}};var ObserveOnOperator=function(){function ObserveOnOperator(scheduler,delay){void 0===delay&&(delay=0),this.scheduler=scheduler,this.delay=delay}return ObserveOnOperator.prototype.call=function(subscriber,source){return source.subscribe(new ObserveOnSubscriber(subscriber,this.scheduler,this.delay))},ObserveOnOperator}();exports.ObserveOnOperator=ObserveOnOperator;var ObserveOnSubscriber=function(_super){function ObserveOnSubscriber(destination,scheduler,delay){void 0===delay&&(delay=0),_super.call(this,destination),this.scheduler=scheduler,this.delay=delay}return __extends(ObserveOnSubscriber,_super),ObserveOnSubscriber.dispatch=function(arg){var notification=arg.notification,destination=arg.destination;notification.observe(destination),this.unsubscribe()},ObserveOnSubscriber.prototype.scheduleMessage=function(notification){this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch,this.delay,new ObserveOnMessage(notification,this.destination)))},ObserveOnSubscriber.prototype._next=function(value){this.scheduleMessage(Notification_1.Notification.createNext(value))},ObserveOnSubscriber.prototype._error=function(err){this.scheduleMessage(Notification_1.Notification.createError(err))},ObserveOnSubscriber.prototype._complete=function(){this.scheduleMessage(Notification_1.Notification.createComplete())},ObserveOnSubscriber}(Subscriber_1.Subscriber);exports.ObserveOnSubscriber=ObserveOnSubscriber;var ObserveOnMessage=function(notification,destination){this.notification=notification,this.destination=destination};exports.ObserveOnMessage=ObserveOnMessage},Xgp1:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),share_1=__webpack_require__("91o8");Observable_1.Observable.prototype.share=share_1.share},Y0tw:function(module,exports,__webpack_require__){(function(global,process){!function(global,undefined){"use strict";if(!global.setImmediate){var registerImmediate,html,channel,messagePrefix,onGlobalMessage,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?registerImmediate=function(handle){process.nextTick((function(){runIfPresent(handle)}))}:!function(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?global.MessageChannel?((channel=new MessageChannel).port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}):doc&&"onreadystatechange"in doc.createElement("script")?(html=doc.documentElement,registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}):registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}:(messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))},global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}),attachTo.setImmediate=function(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++},attachTo.clearImmediate=clearImmediate}function clearImmediate(handle){delete tasksByHandle[handle]}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{!function(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(void 0,args)}}(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}}("undefined"==typeof self?void 0===global?this:global:self)}).call(this,__webpack_require__("uKge"),__webpack_require__("TzVV"))},Y3SC:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},root_1=__webpack_require__("UbR+"),tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6"),Observable_1=__webpack_require__("sI33"),Subscriber_1=__webpack_require__("Ro5u"),map_1=__webpack_require__("MWq+");function getCORSRequest(){if(root_1.root.XMLHttpRequest)return new root_1.root.XMLHttpRequest;if(root_1.root.XDomainRequest)return new root_1.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function ajaxGet(url,headers){return void 0===headers&&(headers=null),new AjaxObservable({method:"GET",url:url,headers:headers})}function ajaxPost(url,body,headers){return new AjaxObservable({method:"POST",url:url,body:body,headers:headers})}function ajaxDelete(url,headers){return new AjaxObservable({method:"DELETE",url:url,headers:headers})}function ajaxPut(url,body,headers){return new AjaxObservable({method:"PUT",url:url,body:body,headers:headers})}function ajaxPatch(url,body,headers){return new AjaxObservable({method:"PATCH",url:url,body:body,headers:headers})}exports.ajaxGet=ajaxGet,exports.ajaxPost=ajaxPost,exports.ajaxDelete=ajaxDelete,exports.ajaxPut=ajaxPut,exports.ajaxPatch=ajaxPatch;var mapResponse=map_1.map((function(x,index){return x.response}));function ajaxGetJSON(url,headers){return mapResponse(new AjaxObservable({method:"GET",url:url,responseType:"json",headers:headers}))}exports.ajaxGetJSON=ajaxGetJSON;var AjaxObservable=function(_super){function AjaxObservable(urlOrRequest){_super.call(this);var request={async:!0,createXHR:function(){return this.crossDomain?getCORSRequest.call(this):function(){if(root_1.root.XMLHttpRequest)return new root_1.root.XMLHttpRequest;var progId=void 0;try{for(var progIds=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=0;i<3;i++)try{if(progId=progIds[i],new root_1.root.ActiveXObject(progId))break}catch(e){}return new root_1.root.ActiveXObject(progId)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof urlOrRequest)request.url=urlOrRequest;else for(var prop in urlOrRequest)urlOrRequest.hasOwnProperty(prop)&&(request[prop]=urlOrRequest[prop]);this.request=request}var create;return __extends(AjaxObservable,_super),AjaxObservable.prototype._subscribe=function(subscriber){return new AjaxSubscriber(subscriber,this.request)},AjaxObservable.create=((create=function(urlOrRequest){return new AjaxObservable(urlOrRequest)}).get=ajaxGet,create.post=ajaxPost,create["delete"]=ajaxDelete,create.put=ajaxPut,create.patch=ajaxPatch,create.getJSON=ajaxGetJSON,create),AjaxObservable}(Observable_1.Observable);exports.AjaxObservable=AjaxObservable;var AjaxSubscriber=function(_super){function AjaxSubscriber(destination,request){_super.call(this,destination),this.request=request,this.done=!1;var headers=request.headers=request.headers||{};request.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in headers||root_1.root.FormData&&request.body instanceof root_1.root.FormData||"undefined"==typeof request.body||(headers["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),request.body=this.serializeBody(request.body,request.headers["Content-Type"]),this.send()}return __extends(AjaxSubscriber,_super),AjaxSubscriber.prototype.next=function(e){this.done=!0;var xhr=this.xhr,request=this.request,destination=this.destination,response=new AjaxResponse(e,xhr,request);destination.next(response)},AjaxSubscriber.prototype.send=function(){var request=this.request,_b=this.request,user=_b.user,method=_b.method,url=_b.url,async=_b.async,password=_b.password,headers=_b.headers,body=_b.body,createXHR=request.createXHR,xhr=tryCatch_1.tryCatch(createXHR).call(request);if(xhr===errorObject_1.errorObject)this.error(errorObject_1.errorObject.e);else{this.xhr=xhr,this.setupEvents(xhr,request);if((user?tryCatch_1.tryCatch(xhr.open).call(xhr,method,url,async,user,password):tryCatch_1.tryCatch(xhr.open).call(xhr,method,url,async))===errorObject_1.errorObject)return this.error(errorObject_1.errorObject.e),null;if(async&&(xhr.timeout=request.timeout,xhr.responseType=request.responseType),"withCredentials"in xhr&&(xhr.withCredentials=!!request.withCredentials),this.setHeaders(xhr,headers),(body?tryCatch_1.tryCatch(xhr.send).call(xhr,body):tryCatch_1.tryCatch(xhr.send).call(xhr))===errorObject_1.errorObject)return this.error(errorObject_1.errorObject.e),null}return xhr},AjaxSubscriber.prototype.serializeBody=function(body,contentType){if(!body||"string"==typeof body)return body;if(root_1.root.FormData&&body instanceof root_1.root.FormData)return body;if(contentType){var splitIndex=contentType.indexOf(";");-1!==splitIndex&&(contentType=contentType.substring(0,splitIndex))}switch(contentType){case"application/x-www-form-urlencoded":return Object.keys(body).map((function(key){return encodeURIComponent(key)+"="+encodeURIComponent(body[key])})).join("&");case"application/json":return JSON.stringify(body);default:return body}},AjaxSubscriber.prototype.setHeaders=function(xhr,headers){for(var key in headers)headers.hasOwnProperty(key)&&xhr.setRequestHeader(key,headers[key])},AjaxSubscriber.prototype.setupEvents=function(xhr,request){var progressSubscriber=request.progressSubscriber;function xhrTimeout(e){var _a=xhrTimeout,subscriber=_a.subscriber,progressSubscriber=_a.progressSubscriber,request=_a.request;progressSubscriber&&progressSubscriber.error(e),subscriber.error(new AjaxTimeoutError(this,request))}if(xhr.ontimeout=xhrTimeout,xhrTimeout.request=request,xhrTimeout.subscriber=this,xhrTimeout.progressSubscriber=progressSubscriber,xhr.upload&&"withCredentials"in xhr){var xhrProgress_1,xhrError_1;if(progressSubscriber)xhrProgress_1=function(e){xhrProgress_1.progressSubscriber.next(e)},root_1.root.XDomainRequest?xhr.onprogress=xhrProgress_1:xhr.upload.onprogress=xhrProgress_1,xhrProgress_1.progressSubscriber=progressSubscriber;xhrError_1=function(e){var _a=xhrError_1,progressSubscriber=_a.progressSubscriber,subscriber=_a.subscriber,request=_a.request;progressSubscriber&&progressSubscriber.error(e),subscriber.error(new AjaxError("ajax error",this,request))},xhr.onerror=xhrError_1,xhrError_1.request=request,xhrError_1.subscriber=this,xhrError_1.progressSubscriber=progressSubscriber}function xhrReadyStateChange(e){var _a=xhrReadyStateChange,subscriber=_a.subscriber,progressSubscriber=_a.progressSubscriber,request=_a.request;if(4===this.readyState){var status_1=1223===this.status?204:this.status,response="text"===this.responseType?this.response||this.responseText:this.response;0===status_1&&(status_1=response?200:0),200<=status_1&&status_1<300?(progressSubscriber&&progressSubscriber.complete(),subscriber.next(e),subscriber.complete()):(progressSubscriber&&progressSubscriber.error(e),subscriber.error(new AjaxError("ajax error "+status_1,this,request)))}}xhr.onreadystatechange=xhrReadyStateChange,xhrReadyStateChange.subscriber=this,xhrReadyStateChange.progressSubscriber=progressSubscriber,xhrReadyStateChange.request=request},AjaxSubscriber.prototype.unsubscribe=function(){var done=this.done,xhr=this.xhr;!done&&xhr&&4!==xhr.readyState&&"function"==typeof xhr.abort&&xhr.abort(),_super.prototype.unsubscribe.call(this)},AjaxSubscriber}(Subscriber_1.Subscriber);exports.AjaxSubscriber=AjaxSubscriber;var AjaxResponse=function(originalEvent,xhr,request){this.originalEvent=originalEvent,this.xhr=xhr,this.request=request,this.status=xhr.status,this.responseType=xhr.responseType||request.responseType,this.response=parseXhrResponse(this.responseType,xhr)};exports.AjaxResponse=AjaxResponse;var AjaxError=function(_super){function AjaxError(message,xhr,request){_super.call(this,message),this.message=message,this.xhr=xhr,this.request=request,this.status=xhr.status,this.responseType=xhr.responseType||request.responseType,this.response=parseXhrResponse(this.responseType,xhr)}return __extends(AjaxError,_super),AjaxError}(Error);function parseXhrResponse(responseType,xhr){switch(responseType){case"json":return"response"in xhr?xhr.responseType?xhr.response:JSON.parse(xhr.response||xhr.responseText||"null"):JSON.parse(xhr.responseText||"null");case"xml":return xhr.responseXML;case"text":default:return"response"in xhr?xhr.response:xhr.responseText}}exports.AjaxError=AjaxError;var AjaxTimeoutError=function(_super){function AjaxTimeoutError(xhr,request){_super.call(this,"ajax timeout",xhr,request)}return __extends(AjaxTimeoutError,_super),AjaxTimeoutError}(AjaxError);exports.AjaxTimeoutError=AjaxTimeoutError},Y3Wp:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),merge_1=__webpack_require__("oi4s");Observable_1.Observable.prototype.merge=merge_1.merge},YYlK:function(module,exports,__webpack_require__){"use strict";var not_1=__webpack_require__("nIQF"),filter_1=__webpack_require__("MezQ");exports.partition=function(predicate,thisArg){return function(source){return[filter_1.filter(predicate,thisArg)(source),filter_1.filter(not_1.not(predicate,thisArg))(source)]}}},Yb46:function(module,exports,__webpack_require__){"use strict";var async_1=__webpack_require__("gKc2"),audit_1=__webpack_require__("XGav"),timer_1=__webpack_require__("BZXN");exports.auditTime=function(duration,scheduler){return void 0===scheduler&&(scheduler=async_1.async),audit_1.audit((function(){return timer_1.timer(duration,scheduler)}))}},YoEO:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),expand_1=__webpack_require__("rkeQ");Observable_1.Observable.prototype.expand=expand_1.expand},YrCx:function(module,exports,__webpack_require__){"use strict";var AsyncSubject_1=__webpack_require__("ysw+"),multicast_1=__webpack_require__("G8Kb");exports.publishLast=function(){return function(source){return multicast_1.multicast(new AsyncSubject_1.AsyncSubject)(source)}}},Z4Qc:function(module,exports,__webpack_require__){"use strict";var combineLatest_1=__webpack_require__("3RRF");exports.combineAll=function(project){return function(source){return source.lift(new combineLatest_1.CombineLatestOperator(project))}}},Z97H:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),skip_1=__webpack_require__("8agR");Observable_1.Observable.prototype.skip=skip_1.skip},ZEqe:function(module,exports,__webpack_require__){"use strict";var concat_1=__webpack_require__("oCCF"),concat_2=__webpack_require__("iR9U");exports.concatStatic=concat_2.concat,exports.concat=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return concat_1.concat.apply(void 0,observables)(this)}},Zfzi:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),timeout_1=__webpack_require__("lUNC");Observable_1.Observable.prototype.timeout=timeout_1.timeout},Zyg3:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber=function(_super){function OuterSubscriber(){_super.apply(this,arguments)}return __extends(OuterSubscriber,_super),OuterSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(innerValue)},OuterSubscriber.prototype.notifyError=function(error,innerSub){this.destination.error(error)},OuterSubscriber.prototype.notifyComplete=function(innerSub){this.destination.complete()},OuterSubscriber}(__webpack_require__("Ro5u").Subscriber);exports.OuterSubscriber=OuterSubscriber},aPva:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),of_1=__webpack_require__("mhDL");Observable_1.Observable.of=of_1.of},aS1e:function(module,exports,__webpack_require__){"use strict";exports.isArray=Array.isArray||function(x){return x&&"number"==typeof x.length}},aiDq:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.takeWhile=function(predicate){return function(source){return source.lift(new TakeWhileOperator(predicate))}};var TakeWhileOperator=function(){function TakeWhileOperator(predicate){this.predicate=predicate}return TakeWhileOperator.prototype.call=function(subscriber,source){return source.subscribe(new TakeWhileSubscriber(subscriber,this.predicate))},TakeWhileOperator}(),TakeWhileSubscriber=function(_super){function TakeWhileSubscriber(destination,predicate){_super.call(this,destination),this.predicate=predicate,this.index=0}return __extends(TakeWhileSubscriber,_super),TakeWhileSubscriber.prototype._next=function(value){var result,destination=this.destination;try{result=this.predicate(value,this.index++)}catch(err){return void destination.error(err)}this.nextOrComplete(value,result)},TakeWhileSubscriber.prototype.nextOrComplete=function(value,predicateResult){var destination=this.destination;Boolean(predicateResult)?destination.next(value):destination.complete()},TakeWhileSubscriber}(Subscriber_1.Subscriber)},as8n:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},UnsubscriptionError=function(_super){function UnsubscriptionError(errors){_super.call(this),this.errors=errors;var err=Error.call(this,errors?errors.length+" errors occurred during unsubscription:\n  "+errors.map((function(err,i){return i+1+") "+err.toString()})).join("\n  "):"");this.name=err.name="UnsubscriptionError",this.stack=err.stack,this.message=err.message}return __extends(UnsubscriptionError,_super),UnsubscriptionError}(Error);exports.UnsubscriptionError=UnsubscriptionError},"b/A/":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),concatMap_1=__webpack_require__("qOh9");Observable_1.Observable.prototype.concatMap=concatMap_1.concatMap},b0vB:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__("mwCp"),Subscriber_1=__webpack_require__("Ro5u"),Observable_1=__webpack_require__("sI33"),Subscription_1=__webpack_require__("CauQ"),root_1=__webpack_require__("UbR+"),ReplaySubject_1=__webpack_require__("NpG6"),tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6"),assign_1=__webpack_require__("mC6o"),WebSocketSubject=function(_super){function WebSocketSubject(urlConfigOrSource,destination){if(urlConfigOrSource instanceof Observable_1.Observable)_super.call(this,destination,urlConfigOrSource);else{if(_super.call(this),this.WebSocketCtor=root_1.root.WebSocket,this._output=new Subject_1.Subject,"string"==typeof urlConfigOrSource?this.url=urlConfigOrSource:assign_1.assign(this,urlConfigOrSource),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new ReplaySubject_1.ReplaySubject}}return __extends(WebSocketSubject,_super),WebSocketSubject.prototype.resultSelector=function(e){return JSON.parse(e.data)},WebSocketSubject.create=function(urlConfigOrSource){return new WebSocketSubject(urlConfigOrSource)},WebSocketSubject.prototype.lift=function(operator){var sock=new WebSocketSubject(this,this.destination);return sock.operator=operator,sock},WebSocketSubject.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new ReplaySubject_1.ReplaySubject),this._output=new Subject_1.Subject},WebSocketSubject.prototype.multiplex=function(subMsg,unsubMsg,messageFilter){var self=this;return new Observable_1.Observable((function(observer){var result=tryCatch_1.tryCatch(subMsg)();result===errorObject_1.errorObject?observer.error(errorObject_1.errorObject.e):self.next(result);var subscription=self.subscribe((function(x){var result=tryCatch_1.tryCatch(messageFilter)(x);result===errorObject_1.errorObject?observer.error(errorObject_1.errorObject.e):result&&observer.next(x)}),(function(err){return observer.error(err)}),(function(){return observer.complete()}));return function(){var result=tryCatch_1.tryCatch(unsubMsg)();result===errorObject_1.errorObject?observer.error(errorObject_1.errorObject.e):self.next(result),subscription.unsubscribe()}}))},WebSocketSubject.prototype._connectSocket=function(){var _this=this,WebSocketCtor=this.WebSocketCtor,observer=this._output,socket=null;try{socket=this.protocol?new WebSocketCtor(this.url,this.protocol):new WebSocketCtor(this.url),this.socket=socket,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(e){return void observer.error(e)}var subscription=new Subscription_1.Subscription((function(){_this.socket=null,socket&&1===socket.readyState&&socket.close()}));socket.onopen=function(e){var openObserver=_this.openObserver;openObserver&&openObserver.next(e);var queue=_this.destination;_this.destination=Subscriber_1.Subscriber.create((function(x){return 1===socket.readyState&&socket.send(x)}),(function(e){var closingObserver=_this.closingObserver;closingObserver&&closingObserver.next(undefined),e&&e.code?socket.close(e.code,e.reason):observer.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),_this._resetState()}),(function(){var closingObserver=_this.closingObserver;closingObserver&&closingObserver.next(undefined),socket.close(),_this._resetState()})),queue&&queue instanceof ReplaySubject_1.ReplaySubject&&subscription.add(queue.subscribe(_this.destination))},socket.onerror=function(e){_this._resetState(),observer.error(e)},socket.onclose=function(e){_this._resetState();var closeObserver=_this.closeObserver;closeObserver&&closeObserver.next(e),e.wasClean?observer.complete():observer.error(e)},socket.onmessage=function(e){var result=tryCatch_1.tryCatch(_this.resultSelector)(e);result===errorObject_1.errorObject?observer.error(errorObject_1.errorObject.e):observer.next(result)}},WebSocketSubject.prototype._subscribe=function(subscriber){var _this=this,source=this.source;if(source)return source.subscribe(subscriber);this.socket||this._connectSocket();var subscription=new Subscription_1.Subscription;return subscription.add(this._output.subscribe(subscriber)),subscription.add((function(){var socket=_this.socket;0===_this._output.observers.length&&(socket&&1===socket.readyState&&socket.close(),_this._resetState())})),subscription},WebSocketSubject.prototype.unsubscribe=function(){var source=this.source,socket=this.socket;socket&&1===socket.readyState&&(socket.close(),this._resetState()),_super.prototype.unsubscribe.call(this),source||(this.destination=new ReplaySubject_1.ReplaySubject)},WebSocketSubject}(Subject_1.AnonymousSubject);exports.WebSocketSubject=WebSocketSubject},b2cM:function(module,exports,__webpack_require__){"use strict";var retryWhen_1=__webpack_require__("DOP2");exports.retryWhen=function(notifier){return retryWhen_1.retryWhen(notifier)(this)}},b43D:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),Subscription_1=__webpack_require__("CauQ");exports.finalize=function(callback){return function(source){return source.lift(new FinallyOperator(callback))}};var FinallyOperator=function(){function FinallyOperator(callback){this.callback=callback}return FinallyOperator.prototype.call=function(subscriber,source){return source.subscribe(new FinallySubscriber(subscriber,this.callback))},FinallyOperator}(),FinallySubscriber=function(_super){function FinallySubscriber(destination,callback){_super.call(this,destination),this.add(new Subscription_1.Subscription(callback))}return __extends(FinallySubscriber,_super),FinallySubscriber}(Subscriber_1.Subscriber)},bAyp:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),map_1=__webpack_require__("j6pe");Observable_1.Observable.prototype.map=map_1.map},bNsi:function(module,exports,__webpack_require__){"use strict";var shareReplay_1=__webpack_require__("dDLQ");exports.shareReplay=function(bufferSize,windowTime,scheduler){return shareReplay_1.shareReplay(bufferSize,windowTime,scheduler)(this)}},bOWM:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.tap=function(nextOrObserver,error,complete){return function(source){return source.lift(new DoOperator(nextOrObserver,error,complete))}};var DoOperator=function(){function DoOperator(nextOrObserver,error,complete){this.nextOrObserver=nextOrObserver,this.error=error,this.complete=complete}return DoOperator.prototype.call=function(subscriber,source){return source.subscribe(new DoSubscriber(subscriber,this.nextOrObserver,this.error,this.complete))},DoOperator}(),DoSubscriber=function(_super){function DoSubscriber(destination,nextOrObserver,error,complete){_super.call(this,destination);var safeSubscriber=new Subscriber_1.Subscriber(nextOrObserver,error,complete);safeSubscriber.syncErrorThrowable=!0,this.add(safeSubscriber),this.safeSubscriber=safeSubscriber}return __extends(DoSubscriber,_super),DoSubscriber.prototype._next=function(value){var safeSubscriber=this.safeSubscriber;safeSubscriber.next(value),safeSubscriber.syncErrorThrown?this.destination.error(safeSubscriber.syncErrorValue):this.destination.next(value)},DoSubscriber.prototype._error=function(err){var safeSubscriber=this.safeSubscriber;safeSubscriber.error(err),safeSubscriber.syncErrorThrown?this.destination.error(safeSubscriber.syncErrorValue):this.destination.error(err)},DoSubscriber.prototype._complete=function(){var safeSubscriber=this.safeSubscriber;safeSubscriber.complete(),safeSubscriber.syncErrorThrown?this.destination.error(safeSubscriber.syncErrorValue):this.destination.complete()},DoSubscriber}(Subscriber_1.Subscriber)},bRN3:function(module,exports,__webpack_require__){"use strict";var scan_1=__webpack_require__("sCcm");exports.scan=function(accumulator,seed){return arguments.length>=2?scan_1.scan(accumulator,seed)(this):scan_1.scan(accumulator)(this)}},bUBz:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),distinctUntilChanged_1=__webpack_require__("VriW");Observable_1.Observable.prototype.distinctUntilChanged=distinctUntilChanged_1.distinctUntilChanged},"c/nj":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),throttle_1=__webpack_require__("MiZ4");Observable_1.Observable.prototype.throttle=throttle_1.throttle},c0gh:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AsyncAction_1=__webpack_require__("LP9p"),AnimationFrame_1=__webpack_require__("U8RT"),AnimationFrameAction=function(_super){function AnimationFrameAction(scheduler,work){_super.call(this,scheduler,work),this.scheduler=scheduler,this.work=work}return __extends(AnimationFrameAction,_super),AnimationFrameAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0?_super.prototype.requestAsyncId.call(this,scheduler,id,delay):(scheduler.actions.push(this),scheduler.scheduled||(scheduler.scheduled=AnimationFrame_1.AnimationFrame.requestAnimationFrame(scheduler.flush.bind(scheduler,null))))},AnimationFrameAction.prototype.recycleAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0||null===delay&&this.delay>0?_super.prototype.recycleAsyncId.call(this,scheduler,id,delay):(0===scheduler.actions.length&&(AnimationFrame_1.AnimationFrame.cancelAnimationFrame(id),scheduler.scheduled=undefined),undefined)},AnimationFrameAction}(AsyncAction_1.AsyncAction);exports.AnimationFrameAction=AnimationFrameAction},c8hK:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),concat_1=__webpack_require__("ZEqe");Observable_1.Observable.prototype.concat=concat_1.concat},cEiL:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.switchMapTo=function(innerObservable,resultSelector){return function(source){return source.lift(new SwitchMapToOperator(innerObservable,resultSelector))}};var SwitchMapToOperator=function(){function SwitchMapToOperator(observable,resultSelector){this.observable=observable,this.resultSelector=resultSelector}return SwitchMapToOperator.prototype.call=function(subscriber,source){return source.subscribe(new SwitchMapToSubscriber(subscriber,this.observable,this.resultSelector))},SwitchMapToOperator}(),SwitchMapToSubscriber=function(_super){function SwitchMapToSubscriber(destination,inner,resultSelector){_super.call(this,destination),this.inner=inner,this.resultSelector=resultSelector,this.index=0}return __extends(SwitchMapToSubscriber,_super),SwitchMapToSubscriber.prototype._next=function(value){var innerSubscription=this.innerSubscription;innerSubscription&&innerSubscription.unsubscribe(),this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,this.inner,value,this.index++))},SwitchMapToSubscriber.prototype._complete=function(){var innerSubscription=this.innerSubscription;innerSubscription&&!innerSubscription.closed||_super.prototype._complete.call(this)},SwitchMapToSubscriber.prototype._unsubscribe=function(){this.innerSubscription=null},SwitchMapToSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub),this.innerSubscription=null,this.isStopped&&_super.prototype._complete.call(this)},SwitchMapToSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var resultSelector=this.resultSelector,destination=this.destination;resultSelector?this.tryResultSelector(outerValue,innerValue,outerIndex,innerIndex):destination.next(innerValue)},SwitchMapToSubscriber.prototype.tryResultSelector=function(outerValue,innerValue,outerIndex,innerIndex){var result,resultSelector=this.resultSelector,destination=this.destination;try{result=resultSelector(outerValue,innerValue,outerIndex,innerIndex)}catch(err){return void destination.error(err)}destination.next(result)},SwitchMapToSubscriber}(OuterSubscriber_1.OuterSubscriber)},cLE3:function(module,exports,__webpack_require__){"use strict";var mergeScan_1=__webpack_require__("DJm4");exports.mergeScan=function(accumulator,seed,concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),mergeScan_1.mergeScan(accumulator,seed,concurrent)(this)}},cLWh:function(module,exports,__webpack_require__){"use strict";exports.empty={closed:!0,next:function(value){},error:function(err){throw err},complete:function(){}}},cgWY:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.pairwise=function(){return function(source){return source.lift(new PairwiseOperator)}};var PairwiseOperator=function(){function PairwiseOperator(){}return PairwiseOperator.prototype.call=function(subscriber,source){return source.subscribe(new PairwiseSubscriber(subscriber))},PairwiseOperator}(),PairwiseSubscriber=function(_super){function PairwiseSubscriber(destination){_super.call(this,destination),this.hasPrev=!1}return __extends(PairwiseSubscriber,_super),PairwiseSubscriber.prototype._next=function(value){this.hasPrev?this.destination.next([this.prev,value]):this.hasPrev=!0,this.prev=value},PairwiseSubscriber}(Subscriber_1.Subscriber)},cgsq:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.takeUntil=function(notifier){return function(source){return source.lift(new TakeUntilOperator(notifier))}};var TakeUntilOperator=function(){function TakeUntilOperator(notifier){this.notifier=notifier}return TakeUntilOperator.prototype.call=function(subscriber,source){return source.subscribe(new TakeUntilSubscriber(subscriber,this.notifier))},TakeUntilOperator}(),TakeUntilSubscriber=function(_super){function TakeUntilSubscriber(destination,notifier){_super.call(this,destination),this.notifier=notifier,this.add(subscribeToResult_1.subscribeToResult(this,notifier))}return __extends(TakeUntilSubscriber,_super),TakeUntilSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.complete()},TakeUntilSubscriber.prototype.notifyComplete=function(){},TakeUntilSubscriber}(OuterSubscriber_1.OuterSubscriber)},dDLQ:function(module,exports,__webpack_require__){"use strict";var ReplaySubject_1=__webpack_require__("NpG6");exports.shareReplay=function(bufferSize,windowTime,scheduler){return function(source){return source.lift(function(bufferSize,windowTime,scheduler){var subject,subscription,refCount=0,hasError=!1,isComplete=!1;return function(source){refCount++,subject&&!hasError||(hasError=!1,subject=new ReplaySubject_1.ReplaySubject(bufferSize,windowTime,scheduler),subscription=source.subscribe({next:function(value){subject.next(value)},error:function(err){hasError=!0,subject.error(err)},complete:function(){isComplete=!0,subject.complete()}}));var innerSub=subject.subscribe(this);return function(){refCount--,innerSub.unsubscribe(),subscription&&0===refCount&&isComplete&&subscription.unsubscribe()}}}(bufferSize,windowTime,scheduler))}}},de4H:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.mergeMapTo=function(innerObservable,resultSelector,concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),"number"==typeof resultSelector&&(concurrent=resultSelector,resultSelector=null),function(source){return source.lift(new MergeMapToOperator(innerObservable,resultSelector,concurrent))}};var MergeMapToOperator=function(){function MergeMapToOperator(ish,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),this.ish=ish,this.resultSelector=resultSelector,this.concurrent=concurrent}return MergeMapToOperator.prototype.call=function(observer,source){return source.subscribe(new MergeMapToSubscriber(observer,this.ish,this.resultSelector,this.concurrent))},MergeMapToOperator}();exports.MergeMapToOperator=MergeMapToOperator;var MergeMapToSubscriber=function(_super){function MergeMapToSubscriber(destination,ish,resultSelector,concurrent){void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),_super.call(this,destination),this.ish=ish,this.resultSelector=resultSelector,this.concurrent=concurrent,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends(MergeMapToSubscriber,_super),MergeMapToSubscriber.prototype._next=function(value){if(this.active<this.concurrent){var resultSelector=this.resultSelector,index=this.index++,ish=this.ish,destination=this.destination;this.active++,this._innerSub(ish,destination,resultSelector,value,index)}else this.buffer.push(value)},MergeMapToSubscriber.prototype._innerSub=function(ish,destination,resultSelector,value,index){this.add(subscribeToResult_1.subscribeToResult(this,ish,value,index))},MergeMapToSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},MergeMapToSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var resultSelector=this.resultSelector,destination=this.destination;resultSelector?this.trySelectResult(outerValue,innerValue,outerIndex,innerIndex):destination.next(innerValue)},MergeMapToSubscriber.prototype.trySelectResult=function(outerValue,innerValue,outerIndex,innerIndex){var result,resultSelector=this.resultSelector,destination=this.destination;try{result=resultSelector(outerValue,innerValue,outerIndex,innerIndex)}catch(err){return void destination.error(err)}destination.next(result)},MergeMapToSubscriber.prototype.notifyError=function(err){this.destination.error(err)},MergeMapToSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer.length>0?this._next(buffer.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeMapToSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.MergeMapToSubscriber=MergeMapToSubscriber},dncd:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),combineLatest_1=__webpack_require__("xp9n");Observable_1.Observable.prototype.combineLatest=combineLatest_1.combineLatest},doOu:function(module,exports,__webpack_require__){"use strict";var switchMap_1=__webpack_require__("UGhx"),identity_1=__webpack_require__("4VVS");exports.switchAll=function(){return switchMap_1.switchMap(identity_1.identity)}},dpQw:function(module,exports,__webpack_require__){"use strict";var isEmpty_1=__webpack_require__("V+UX");exports.isEmpty=function(){return isEmpty_1.isEmpty()(this)}},eVar:function(module,exports,__webpack_require__){"use strict";var SubscriptionLog_1=__webpack_require__("MvhZ"),SubscriptionLoggable=function(){function SubscriptionLoggable(){this.subscriptions=[]}return SubscriptionLoggable.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new SubscriptionLog_1.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},SubscriptionLoggable.prototype.logUnsubscribedFrame=function(index){var subscriptionLogs=this.subscriptions,oldSubscriptionLog=subscriptionLogs[index];subscriptionLogs[index]=new SubscriptionLog_1.SubscriptionLog(oldSubscriptionLog.subscribedFrame,this.scheduler.now())},SubscriptionLoggable}();exports.SubscriptionLoggable=SubscriptionLoggable},ex1c:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),debounceTime_1=__webpack_require__("uEAb");Observable_1.Observable.prototype.debounceTime=debounceTime_1.debounceTime},"f0I/":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},isFunction_1=__webpack_require__("WQRc"),Observable_1=__webpack_require__("sI33"),Subscription_1=__webpack_require__("CauQ"),FromEventPatternObservable=function(_super){function FromEventPatternObservable(addHandler,removeHandler,selector){_super.call(this),this.addHandler=addHandler,this.removeHandler=removeHandler,this.selector=selector}return __extends(FromEventPatternObservable,_super),FromEventPatternObservable.create=function(addHandler,removeHandler,selector){return new FromEventPatternObservable(addHandler,removeHandler,selector)},FromEventPatternObservable.prototype._subscribe=function(subscriber){var _this=this,removeHandler=this.removeHandler,handler=this.selector?function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];_this._callSelector(subscriber,args)}:function(e){subscriber.next(e)},retValue=this._callAddHandler(handler,subscriber);isFunction_1.isFunction(removeHandler)&&subscriber.add(new Subscription_1.Subscription((function(){removeHandler(handler,retValue)})))},FromEventPatternObservable.prototype._callSelector=function(subscriber,args){try{var result=this.selector.apply(this,args);subscriber.next(result)}catch(e){subscriber.error(e)}},FromEventPatternObservable.prototype._callAddHandler=function(handler,errorSubscriber){try{return this.addHandler(handler)||null}catch(e){errorSubscriber.error(e)}},FromEventPatternObservable}(Observable_1.Observable);exports.FromEventPatternObservable=FromEventPatternObservable},f19c:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),bufferCount_1=__webpack_require__("/UjX");Observable_1.Observable.prototype.bufferCount=bufferCount_1.bufferCount},f27U:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),bufferToggle_1=__webpack_require__("I5ER");Observable_1.Observable.prototype.bufferToggle=bufferToggle_1.bufferToggle},fEyj:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),concatMapTo_1=__webpack_require__("D6wt");Observable_1.Observable.prototype.concatMapTo=concatMapTo_1.concatMapTo},fY0M:function(module,exports,__webpack_require__){"use strict";var groupBy_1=__webpack_require__("69pS");exports.GroupedObservable=groupBy_1.GroupedObservable,exports.groupBy=function(keySelector,elementSelector,durationSelector,subjectSelector){return groupBy_1.groupBy(keySelector,elementSelector,durationSelector,subjectSelector)(this)}},fnom:function(module,exports,__webpack_require__){"use strict";var ReplaySubject_1=__webpack_require__("NpG6"),multicast_1=__webpack_require__("G8Kb");exports.publishReplay=function(bufferSize,windowTime,selectorOrScheduler,scheduler){selectorOrScheduler&&"function"!=typeof selectorOrScheduler&&(scheduler=selectorOrScheduler);var selector="function"==typeof selectorOrScheduler?selectorOrScheduler:undefined,subject=new ReplaySubject_1.ReplaySubject(bufferSize,windowTime,scheduler);return function(source){return multicast_1.multicast((function(){return subject}),selector)(source)}}},fuCZ:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),isEmpty_1=__webpack_require__("dpQw");Observable_1.Observable.prototype.isEmpty=isEmpty_1.isEmpty},fzcI:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),findIndex_1=__webpack_require__("sE3d");Observable_1.Observable.prototype.findIndex=findIndex_1.findIndex},g0kP:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),EmptyObservable_1=__webpack_require__("QUkR");exports.repeat=function(count){return void 0===count&&(count=-1),function(source){return 0===count?new EmptyObservable_1.EmptyObservable:count<0?source.lift(new RepeatOperator(-1,source)):source.lift(new RepeatOperator(count-1,source))}};var RepeatOperator=function(){function RepeatOperator(count,source){this.count=count,this.source=source}return RepeatOperator.prototype.call=function(subscriber,source){return source.subscribe(new RepeatSubscriber(subscriber,this.count,this.source))},RepeatOperator}(),RepeatSubscriber=function(_super){function RepeatSubscriber(destination,count,source){_super.call(this,destination),this.count=count,this.source=source}return __extends(RepeatSubscriber,_super),RepeatSubscriber.prototype.complete=function(){if(!this.isStopped){var source=this.source,count=this.count;if(0===count)return _super.prototype.complete.call(this);count>-1&&(this.count=count-1),source.subscribe(this._unsubscribeAndRecycle())}},RepeatSubscriber}(Subscriber_1.Subscriber)},g8a7:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.every=function(predicate,thisArg){return function(source){return source.lift(new EveryOperator(predicate,thisArg,source))}};var EveryOperator=function(){function EveryOperator(predicate,thisArg,source){this.predicate=predicate,this.thisArg=thisArg,this.source=source}return EveryOperator.prototype.call=function(observer,source){return source.subscribe(new EverySubscriber(observer,this.predicate,this.thisArg,this.source))},EveryOperator}(),EverySubscriber=function(_super){function EverySubscriber(destination,predicate,thisArg,source){_super.call(this,destination),this.predicate=predicate,this.thisArg=thisArg,this.source=source,this.index=0,this.thisArg=thisArg||this}return __extends(EverySubscriber,_super),EverySubscriber.prototype.notifyComplete=function(everyValueMatch){this.destination.next(everyValueMatch),this.destination.complete()},EverySubscriber.prototype._next=function(value){var result=!1;try{result=this.predicate.call(this.thisArg,value,this.index++,this.source)}catch(err){return void this.destination.error(err)}result||this.notifyComplete(!1)},EverySubscriber.prototype._complete=function(){this.notifyComplete(!0)},EverySubscriber}(Subscriber_1.Subscriber)},gG68:function(module,exports,__webpack_require__){"use strict";var windowCount_1=__webpack_require__("/64D");exports.windowCount=function(windowSize,startWindowEvery){return void 0===startWindowEvery&&(startWindowEvery=0),windowCount_1.windowCount(windowSize,startWindowEvery)(this)}},gISr:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ObjectUnsubscribedError=function(_super){function ObjectUnsubscribedError(){var err=_super.call(this,"object unsubscribed");this.name=err.name="ObjectUnsubscribedError",this.stack=err.stack,this.message=err.message}return __extends(ObjectUnsubscribedError,_super),ObjectUnsubscribedError}(Error);exports.ObjectUnsubscribedError=ObjectUnsubscribedError},gKc2:function(module,exports,__webpack_require__){"use strict";var AsyncAction_1=__webpack_require__("LP9p"),AsyncScheduler_1=__webpack_require__("jC1i");exports.async=new AsyncScheduler_1.AsyncScheduler(AsyncAction_1.AsyncAction)},gQB6:function(module,exports,__webpack_require__){"use strict";var startWith_1=__webpack_require__("jWGe");exports.startWith=function(){for(var array=[],_i=0;_i<arguments.length;_i++)array[_i-0]=arguments[_i];return startWith_1.startWith.apply(void 0,array)(this)}},gXtt:function(module,exports,__webpack_require__){"use strict";var dematerialize_1=__webpack_require__("Ch3i");exports.dematerialize=function(){return dematerialize_1.dematerialize()(this)}},gg3e:function(module,exports,__webpack_require__){"use strict";var mergeAll_1=__webpack_require__("hnjD");exports.concatAll=function(){return mergeAll_1.mergeAll(1)}},gi1Y:function(module,exports,__webpack_require__){"use strict";var async_1=__webpack_require__("gKc2"),isScheduler_1=__webpack_require__("VtyV"),bufferTime_1=__webpack_require__("/j9X");exports.bufferTime=function(bufferTimeSpan){var length=arguments.length,scheduler=async_1.async;isScheduler_1.isScheduler(arguments[arguments.length-1])&&(scheduler=arguments[arguments.length-1],length--);var bufferCreationInterval=null;length>=2&&(bufferCreationInterval=arguments[1]);var maxBufferSize=Number.POSITIVE_INFINITY;return length>=3&&(maxBufferSize=arguments[2]),bufferTime_1.bufferTime(bufferTimeSpan,bufferCreationInterval,maxBufferSize,scheduler)(this)}},gu3L:function(module,exports,__webpack_require__){"use strict";var min_1=__webpack_require__("SCPP");exports.min=function(comparer){return min_1.min(comparer)(this)}},gwBV:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),Notification_1=__webpack_require__("uGw4");exports.materialize=function(){return function(source){return source.lift(new MaterializeOperator)}};var MaterializeOperator=function(){function MaterializeOperator(){}return MaterializeOperator.prototype.call=function(subscriber,source){return source.subscribe(new MaterializeSubscriber(subscriber))},MaterializeOperator}(),MaterializeSubscriber=function(_super){function MaterializeSubscriber(destination){_super.call(this,destination)}return __extends(MaterializeSubscriber,_super),MaterializeSubscriber.prototype._next=function(value){this.destination.next(Notification_1.Notification.createNext(value))},MaterializeSubscriber.prototype._error=function(err){var destination=this.destination;destination.next(Notification_1.Notification.createError(err)),destination.complete()},MaterializeSubscriber.prototype._complete=function(){var destination=this.destination;destination.next(Notification_1.Notification.createComplete()),destination.complete()},MaterializeSubscriber}(Subscriber_1.Subscriber)},hCN0:function(module,exports,__webpack_require__){"use strict";var publishLast_1=__webpack_require__("YrCx");exports.publishLast=function(){return publishLast_1.publishLast()(this)}},heBp:function(module,exports,__webpack_require__){"use strict";var max_1=__webpack_require__("uMKd");exports.max=function(comparer){return max_1.max(comparer)(this)}},hnjD:function(module,exports,__webpack_require__){"use strict";var mergeMap_1=__webpack_require__("Dbms"),identity_1=__webpack_require__("4VVS");exports.mergeAll=function(concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),mergeMap_1.mergeMap(identity_1.identity,null,concurrent)}},hpFD:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},QueueAction=function(_super){function QueueAction(scheduler,work){_super.call(this,scheduler,work),this.scheduler=scheduler,this.work=work}return __extends(QueueAction,_super),QueueAction.prototype.schedule=function(state,delay){return void 0===delay&&(delay=0),delay>0?_super.prototype.schedule.call(this,state,delay):(this.delay=delay,this.state=state,this.scheduler.flush(this),this)},QueueAction.prototype.execute=function(state,delay){return delay>0||this.closed?_super.prototype.execute.call(this,state,delay):this._execute(state,delay)},QueueAction.prototype.requestAsyncId=function(scheduler,id,delay){return void 0===delay&&(delay=0),null!==delay&&delay>0||null===delay&&this.delay>0?_super.prototype.requestAsyncId.call(this,scheduler,id,delay):scheduler.flush(this)},QueueAction}(__webpack_require__("LP9p").AsyncAction);exports.QueueAction=QueueAction},iQQu:function(module,exports,__webpack_require__){"use strict";var race_1=__webpack_require__("HET0"),race_2=__webpack_require__("Kh0r");exports.raceStatic=race_2.race,exports.race=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return race_1.race.apply(void 0,observables)(this)}},iR9U:function(module,exports,__webpack_require__){"use strict";var isScheduler_1=__webpack_require__("VtyV"),of_1=__webpack_require__("mhDL"),from_1=__webpack_require__("rjTF"),concatAll_1=__webpack_require__("gg3e");exports.concat=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return 1===observables.length||2===observables.length&&isScheduler_1.isScheduler(observables[1])?from_1.from(observables[0]):concatAll_1.concatAll()(of_1.of.apply(void 0,observables))}},icAL:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),repeatWhen_1=__webpack_require__("x5i1");Observable_1.Observable.prototype.repeatWhen=repeatWhen_1.repeatWhen},ifwo:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),delay_1=__webpack_require__("N5du");Observable_1.Observable.prototype.delay=delay_1.delay},imLd:function(module,exports,__webpack_require__){"use strict";exports.applyMixins=function(derivedCtor,baseCtors){for(var i=0,len=baseCtors.length;i<len;i++)for(var baseCtor=baseCtors[i],propertyKeys=Object.getOwnPropertyNames(baseCtor.prototype),j=0,len2=propertyKeys.length;j<len2;j++){var name_1=propertyKeys[j];derivedCtor.prototype[name_1]=baseCtor.prototype[name_1]}}},in6I:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),ArgumentOutOfRangeError_1=__webpack_require__("y85y");exports.elementAt=function(index,defaultValue){return function(source){return source.lift(new ElementAtOperator(index,defaultValue))}};var ElementAtOperator=function(){function ElementAtOperator(index,defaultValue){if(this.index=index,this.defaultValue=defaultValue,index<0)throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError}return ElementAtOperator.prototype.call=function(subscriber,source){return source.subscribe(new ElementAtSubscriber(subscriber,this.index,this.defaultValue))},ElementAtOperator}(),ElementAtSubscriber=function(_super){function ElementAtSubscriber(destination,index,defaultValue){_super.call(this,destination),this.index=index,this.defaultValue=defaultValue}return __extends(ElementAtSubscriber,_super),ElementAtSubscriber.prototype._next=function(x){0==this.index--&&(this.destination.next(x),this.destination.complete())},ElementAtSubscriber.prototype._complete=function(){var destination=this.destination;this.index>=0&&("undefined"!=typeof this.defaultValue?destination.next(this.defaultValue):destination.error(new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError)),destination.complete()},ElementAtSubscriber}(Subscriber_1.Subscriber)},ivCa:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__("mwCp"),ObjectUnsubscribedError_1=__webpack_require__("gISr"),BehaviorSubject=function(_super){function BehaviorSubject(_value){_super.call(this),this._value=_value}return __extends(BehaviorSubject,_super),Object.defineProperty(BehaviorSubject.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),BehaviorSubject.prototype._subscribe=function(subscriber){var subscription=_super.prototype._subscribe.call(this,subscriber);return subscription&&!subscription.closed&&subscriber.next(this._value),subscription},BehaviorSubject.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;return this._value},BehaviorSubject.prototype.next=function(value){_super.prototype.next.call(this,this._value=value)},BehaviorSubject}(Subject_1.Subject);exports.BehaviorSubject=BehaviorSubject},izwH:function(module,exports,__webpack_require__){"use strict";var switchMap_1=__webpack_require__("UGhx");exports.switchMap=function(project,resultSelector){return switchMap_1.switchMap(project,resultSelector)(this)}},j6pe:function(module,exports,__webpack_require__){"use strict";var map_1=__webpack_require__("MWq+");exports.map=function(project,thisArg){return map_1.map(project,thisArg)(this)}},"jAo+":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),subscribeToResult_1=__webpack_require__("7/JB"),OuterSubscriber_1=__webpack_require__("Zyg3"),IfObservable=function(_super){function IfObservable(condition,thenSource,elseSource){_super.call(this),this.condition=condition,this.thenSource=thenSource,this.elseSource=elseSource}return __extends(IfObservable,_super),IfObservable.create=function(condition,thenSource,elseSource){return new IfObservable(condition,thenSource,elseSource)},IfObservable.prototype._subscribe=function(subscriber){var condition=this.condition,thenSource=this.thenSource,elseSource=this.elseSource;return new IfSubscriber(subscriber,condition,thenSource,elseSource)},IfObservable}(Observable_1.Observable);exports.IfObservable=IfObservable;var IfSubscriber=function(_super){function IfSubscriber(destination,condition,thenSource,elseSource){_super.call(this,destination),this.condition=condition,this.thenSource=thenSource,this.elseSource=elseSource,this.tryIf()}return __extends(IfSubscriber,_super),IfSubscriber.prototype.tryIf=function(){var condition=this.condition,thenSource=this.thenSource,elseSource=this.elseSource;try{var source=condition()?thenSource:elseSource;source?this.add(subscribeToResult_1.subscribeToResult(this,source)):this._complete()}catch(err){this._error(err)}},IfSubscriber}(OuterSubscriber_1.OuterSubscriber)},jC1i:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AsyncScheduler=function(_super){function AsyncScheduler(){_super.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=undefined}return __extends(AsyncScheduler,_super),AsyncScheduler.prototype.flush=function(action){var actions=this.actions;if(this.active)actions.push(action);else{var error;this.active=!0;do{if(error=action.execute(action.state,action.delay))break}while(action=actions.shift());if(this.active=!1,error){for(;action=actions.shift();)action.unsubscribe();throw error}}},AsyncScheduler}(__webpack_require__("rqhX").Scheduler);exports.AsyncScheduler=AsyncScheduler},jMfl:function(module,exports,__webpack_require__){"use strict";var window_1=__webpack_require__("CQc8");exports.window=function(windowBoundaries){return window_1.window(windowBoundaries)(this)}},jOOS:function(module,exports,__webpack_require__){"use strict";var multicast_1=__webpack_require__("G8Kb");exports.multicast=function(subjectOrSubjectFactory,selector){return multicast_1.multicast(subjectOrSubjectFactory,selector)(this)}},jSi4:function(module,exports,__webpack_require__){"use strict";var bufferWhen_1=__webpack_require__("lvP7");exports.bufferWhen=function(closingSelector){return bufferWhen_1.bufferWhen(closingSelector)(this)}},jWGe:function(module,exports,__webpack_require__){"use strict";var ArrayObservable_1=__webpack_require__("N+Z9"),ScalarObservable_1=__webpack_require__("lLGg"),EmptyObservable_1=__webpack_require__("QUkR"),concat_1=__webpack_require__("iR9U"),isScheduler_1=__webpack_require__("VtyV");exports.startWith=function(){for(var array=[],_i=0;_i<arguments.length;_i++)array[_i-0]=arguments[_i];return function(source){var scheduler=array[array.length-1];isScheduler_1.isScheduler(scheduler)?array.pop():scheduler=null;var len=array.length;return 1===len?concat_1.concat(new ScalarObservable_1.ScalarObservable(array[0],scheduler),source):len>1?concat_1.concat(new ArrayObservable_1.ArrayObservable(array,scheduler),source):concat_1.concat(new EmptyObservable_1.EmptyObservable(scheduler),source)}}},jcSU:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},EmptyError=function(_super){function EmptyError(){var err=_super.call(this,"no elements in sequence");this.name=err.name="EmptyError",this.stack=err.stack,this.message=err.message}return __extends(EmptyError,_super),EmptyError}(Error);exports.EmptyError=EmptyError},jf5t:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),bindNodeCallback_1=__webpack_require__("MaBX");Observable_1.Observable.bindNodeCallback=bindNodeCallback_1.bindNodeCallback},jjG0:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),combineAll_1=__webpack_require__("86Au");Observable_1.Observable.prototype.combineAll=combineAll_1.combineAll},jm2w:function(module,exports,__webpack_require__){"use strict";exports.noop=function(){}},"jw/J":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),sample_1=__webpack_require__("WHxu");Observable_1.Observable.prototype.sample=sample_1.sample},jwwl:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),partition_1=__webpack_require__("0FHk");Observable_1.Observable.prototype.partition=partition_1.partition},k3wk:function(module,exports,__webpack_require__){"use strict";var every_1=__webpack_require__("g8a7");exports.every=function(predicate,thisArg){return every_1.every(predicate,thisArg)(this)}},kUUI:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.mapTo=function(value){return function(source){return source.lift(new MapToOperator(value))}};var MapToOperator=function(){function MapToOperator(value){this.value=value}return MapToOperator.prototype.call=function(subscriber,source){return source.subscribe(new MapToSubscriber(subscriber,this.value))},MapToOperator}(),MapToSubscriber=function(_super){function MapToSubscriber(destination,value){_super.call(this,destination),this.value=value}return __extends(MapToSubscriber,_super),MapToSubscriber.prototype._next=function(x){this.destination.next(this.value)},MapToSubscriber}(Subscriber_1.Subscriber)},ky1t:function(module,exports,__webpack_require__){"use strict";var root_1=__webpack_require__("UbR+"),MapPolyfill_1=__webpack_require__("CBwT");exports.Map=root_1.root.Map||MapPolyfill_1.MapPolyfill},"l+eR":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.buffer=function(closingNotifier){return function(source){return source.lift(new BufferOperator(closingNotifier))}};var BufferOperator=function(){function BufferOperator(closingNotifier){this.closingNotifier=closingNotifier}return BufferOperator.prototype.call=function(subscriber,source){return source.subscribe(new BufferSubscriber(subscriber,this.closingNotifier))},BufferOperator}(),BufferSubscriber=function(_super){function BufferSubscriber(destination,closingNotifier){_super.call(this,destination),this.buffer=[],this.add(subscribeToResult_1.subscribeToResult(this,closingNotifier))}return __extends(BufferSubscriber,_super),BufferSubscriber.prototype._next=function(value){this.buffer.push(value)},BufferSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var buffer=this.buffer;this.buffer=[],this.destination.next(buffer)},BufferSubscriber}(OuterSubscriber_1.OuterSubscriber)},l5RG:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),Subscription_1=__webpack_require__("CauQ"),SubscriptionLoggable_1=__webpack_require__("eVar"),applyMixins_1=__webpack_require__("imLd"),ColdObservable=function(_super){function ColdObservable(messages,scheduler){_super.call(this,(function(subscriber){var observable=this,index=observable.logSubscribedFrame();return subscriber.add(new Subscription_1.Subscription((function(){observable.logUnsubscribedFrame(index)}))),observable.scheduleMessages(subscriber),subscriber})),this.messages=messages,this.subscriptions=[],this.scheduler=scheduler}return __extends(ColdObservable,_super),ColdObservable.prototype.scheduleMessages=function(subscriber){for(var messagesLength=this.messages.length,i=0;i<messagesLength;i++){var message=this.messages[i];subscriber.add(this.scheduler.schedule((function(_a){var message=_a.message,subscriber=_a.subscriber;message.notification.observe(subscriber)}),message.frame,{message:message,subscriber:subscriber}))}},ColdObservable}(Observable_1.Observable);exports.ColdObservable=ColdObservable,applyMixins_1.applyMixins(ColdObservable,[SubscriptionLoggable_1.SubscriptionLoggable])},l94k:function(module,exports,__webpack_require__){"use strict";var AnimationFrameAction_1=__webpack_require__("c0gh"),AnimationFrameScheduler_1=__webpack_require__("L2Bm");exports.animationFrame=new AnimationFrameScheduler_1.AnimationFrameScheduler(AnimationFrameAction_1.AnimationFrameAction)},lG4q:function(module,exports,__webpack_require__){"use strict";var async_1=__webpack_require__("gKc2"),isNumeric_1=__webpack_require__("xftq"),isScheduler_1=__webpack_require__("VtyV"),windowTime_1=__webpack_require__("Oz06");exports.windowTime=function(windowTimeSpan){var scheduler=async_1.async,windowCreationInterval=null,maxWindowSize=Number.POSITIVE_INFINITY;return isScheduler_1.isScheduler(arguments[3])&&(scheduler=arguments[3]),isScheduler_1.isScheduler(arguments[2])?scheduler=arguments[2]:isNumeric_1.isNumeric(arguments[2])&&(maxWindowSize=arguments[2]),isScheduler_1.isScheduler(arguments[1])?scheduler=arguments[1]:isNumeric_1.isNumeric(arguments[1])&&(windowCreationInterval=arguments[1]),windowTime_1.windowTime(windowTimeSpan,windowCreationInterval,maxWindowSize,scheduler)(this)}},lLGg:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ScalarObservable=function(_super){function ScalarObservable(value,scheduler){_super.call(this),this.value=value,this.scheduler=scheduler,this._isScalar=!0,scheduler&&(this._isScalar=!1)}return __extends(ScalarObservable,_super),ScalarObservable.create=function(value,scheduler){return new ScalarObservable(value,scheduler)},ScalarObservable.dispatch=function(state){var done=state.done,value=state.value,subscriber=state.subscriber;done?subscriber.complete():(subscriber.next(value),subscriber.closed||(state.done=!0,this.schedule(state)))},ScalarObservable.prototype._subscribe=function(subscriber){var value=this.value,scheduler=this.scheduler;if(scheduler)return scheduler.schedule(ScalarObservable.dispatch,0,{done:!1,value:value,subscriber:subscriber});subscriber.next(value),subscriber.closed||subscriber.complete()},ScalarObservable}(__webpack_require__("sI33").Observable);exports.ScalarObservable=ScalarObservable},lUNC:function(module,exports,__webpack_require__){"use strict";var async_1=__webpack_require__("gKc2"),timeout_1=__webpack_require__("vI3z");exports.timeout=function(due,scheduler){return void 0===scheduler&&(scheduler=async_1.async),timeout_1.timeout(due,scheduler)(this)}},ldoh:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.skip=function(count){return function(source){return source.lift(new SkipOperator(count))}};var SkipOperator=function(){function SkipOperator(total){this.total=total}return SkipOperator.prototype.call=function(subscriber,source){return source.subscribe(new SkipSubscriber(subscriber,this.total))},SkipOperator}(),SkipSubscriber=function(_super){function SkipSubscriber(destination,total){_super.call(this,destination),this.total=total,this.count=0}return __extends(SkipSubscriber,_super),SkipSubscriber.prototype._next=function(x){++this.count>this.total&&this.destination.next(x)},SkipSubscriber}(Subscriber_1.Subscriber)},lfb1:function(module,exports,__webpack_require__){"use strict";var tap_1=__webpack_require__("bOWM");exports._do=function(nextOrObserver,error,complete){return tap_1.tap(nextOrObserver,error,complete)(this)}},lmxm:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),Observable_1=__webpack_require__("sI33"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.delayWhen=function(delayDurationSelector,subscriptionDelay){return subscriptionDelay?function(source){return new SubscriptionDelayObservable(source,subscriptionDelay).lift(new DelayWhenOperator(delayDurationSelector))}:function(source){return source.lift(new DelayWhenOperator(delayDurationSelector))}};var DelayWhenOperator=function(){function DelayWhenOperator(delayDurationSelector){this.delayDurationSelector=delayDurationSelector}return DelayWhenOperator.prototype.call=function(subscriber,source){return source.subscribe(new DelayWhenSubscriber(subscriber,this.delayDurationSelector))},DelayWhenOperator}(),DelayWhenSubscriber=function(_super){function DelayWhenSubscriber(destination,delayDurationSelector){_super.call(this,destination),this.delayDurationSelector=delayDurationSelector,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return __extends(DelayWhenSubscriber,_super),DelayWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.destination.next(outerValue),this.removeSubscription(innerSub),this.tryComplete()},DelayWhenSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},DelayWhenSubscriber.prototype.notifyComplete=function(innerSub){var value=this.removeSubscription(innerSub);value&&this.destination.next(value),this.tryComplete()},DelayWhenSubscriber.prototype._next=function(value){try{var delayNotifier=this.delayDurationSelector(value);delayNotifier&&this.tryDelay(delayNotifier,value)}catch(err){this.destination.error(err)}},DelayWhenSubscriber.prototype._complete=function(){this.completed=!0,this.tryComplete()},DelayWhenSubscriber.prototype.removeSubscription=function(subscription){subscription.unsubscribe();var subscriptionIdx=this.delayNotifierSubscriptions.indexOf(subscription),value=null;return-1!==subscriptionIdx&&(value=this.values[subscriptionIdx],this.delayNotifierSubscriptions.splice(subscriptionIdx,1),this.values.splice(subscriptionIdx,1)),value},DelayWhenSubscriber.prototype.tryDelay=function(delayNotifier,value){var notifierSubscription=subscribeToResult_1.subscribeToResult(this,delayNotifier,value);notifierSubscription&&!notifierSubscription.closed&&(this.add(notifierSubscription),this.delayNotifierSubscriptions.push(notifierSubscription)),this.values.push(value)},DelayWhenSubscriber.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},DelayWhenSubscriber}(OuterSubscriber_1.OuterSubscriber),SubscriptionDelayObservable=function(_super){function SubscriptionDelayObservable(source,subscriptionDelay){_super.call(this),this.source=source,this.subscriptionDelay=subscriptionDelay}return __extends(SubscriptionDelayObservable,_super),SubscriptionDelayObservable.prototype._subscribe=function(subscriber){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber,this.source))},SubscriptionDelayObservable}(Observable_1.Observable),SubscriptionDelaySubscriber=function(_super){function SubscriptionDelaySubscriber(parent,source){_super.call(this),this.parent=parent,this.source=source,this.sourceSubscribed=!1}return __extends(SubscriptionDelaySubscriber,_super),SubscriptionDelaySubscriber.prototype._next=function(unused){this.subscribeToSource()},SubscriptionDelaySubscriber.prototype._error=function(err){this.unsubscribe(),this.parent.error(err)},SubscriptionDelaySubscriber.prototype._complete=function(){this.subscribeToSource()},SubscriptionDelaySubscriber.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},SubscriptionDelaySubscriber}(Subscriber_1.Subscriber)},lvP7:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscription_1=__webpack_require__("CauQ"),tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.bufferWhen=function(closingSelector){return function(source){return source.lift(new BufferWhenOperator(closingSelector))}};var BufferWhenOperator=function(){function BufferWhenOperator(closingSelector){this.closingSelector=closingSelector}return BufferWhenOperator.prototype.call=function(subscriber,source){return source.subscribe(new BufferWhenSubscriber(subscriber,this.closingSelector))},BufferWhenOperator}(),BufferWhenSubscriber=function(_super){function BufferWhenSubscriber(destination,closingSelector){_super.call(this,destination),this.closingSelector=closingSelector,this.subscribing=!1,this.openBuffer()}return __extends(BufferWhenSubscriber,_super),BufferWhenSubscriber.prototype._next=function(value){this.buffer.push(value)},BufferWhenSubscriber.prototype._complete=function(){var buffer=this.buffer;buffer&&this.destination.next(buffer),_super.prototype._complete.call(this)},BufferWhenSubscriber.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},BufferWhenSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.openBuffer()},BufferWhenSubscriber.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},BufferWhenSubscriber.prototype.openBuffer=function(){var closingSubscription=this.closingSubscription;closingSubscription&&(this.remove(closingSubscription),closingSubscription.unsubscribe());var buffer=this.buffer;this.buffer&&this.destination.next(buffer),this.buffer=[];var closingNotifier=tryCatch_1.tryCatch(this.closingSelector)();closingNotifier===errorObject_1.errorObject?this.error(errorObject_1.errorObject.e):(closingSubscription=new Subscription_1.Subscription,this.closingSubscription=closingSubscription,this.add(closingSubscription),this.subscribing=!0,closingSubscription.add(subscribeToResult_1.subscribeToResult(this,closingNotifier)),this.subscribing=!1)},BufferWhenSubscriber}(OuterSubscriber_1.OuterSubscriber)},m0J5:function(module,exports,__webpack_require__){"use strict";var elementAt_1=__webpack_require__("in6I");exports.elementAt=function(index,defaultValue){return elementAt_1.elementAt(index,defaultValue)(this)}},mC6o:function(module,exports,__webpack_require__){"use strict";var root_1=__webpack_require__("UbR+");function assignImpl(target){for(var sources=[],_i=1;_i<arguments.length;_i++)sources[_i-1]=arguments[_i];for(var len=sources.length,i=0;i<len;i++){var source=sources[i];for(var k in source)source.hasOwnProperty(k)&&(target[k]=source[k])}return target}function getAssign(root){return root.Object.assign||assignImpl}exports.assignImpl=assignImpl,exports.getAssign=getAssign,exports.assign=getAssign(root_1.root)},mTkF:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},SubjectSubscription=function(_super){function SubjectSubscription(subject,subscriber){_super.call(this),this.subject=subject,this.subscriber=subscriber,this.closed=!1}return __extends(SubjectSubscription,_super),SubjectSubscription.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var subject=this.subject,observers=subject.observers;if(this.subject=null,observers&&0!==observers.length&&!subject.isStopped&&!subject.closed){var subscriberIndex=observers.indexOf(this.subscriber);-1!==subscriberIndex&&observers.splice(subscriberIndex,1)}}},SubjectSubscription}(__webpack_require__("CauQ").Subscription);exports.SubjectSubscription=SubjectSubscription},mhDL:function(module,exports,__webpack_require__){"use strict";var ArrayObservable_1=__webpack_require__("N+Z9");exports.of=ArrayObservable_1.ArrayObservable.of},mwCp:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),Subscriber_1=__webpack_require__("Ro5u"),Subscription_1=__webpack_require__("CauQ"),ObjectUnsubscribedError_1=__webpack_require__("gISr"),SubjectSubscription_1=__webpack_require__("mTkF"),rxSubscriber_1=__webpack_require__("qUV8"),SubjectSubscriber=function(_super){function SubjectSubscriber(destination){_super.call(this,destination),this.destination=destination}return __extends(SubjectSubscriber,_super),SubjectSubscriber}(Subscriber_1.Subscriber);exports.SubjectSubscriber=SubjectSubscriber;var Subject=function(_super){function Subject(){_super.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return __extends(Subject,_super),Subject.prototype[rxSubscriber_1.rxSubscriber]=function(){return new SubjectSubscriber(this)},Subject.prototype.lift=function(operator){var subject=new AnonymousSubject(this,this);return subject.operator=operator,subject},Subject.prototype.next=function(value){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;if(!this.isStopped)for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;i<len;i++)copy[i].next(value)},Subject.prototype.error=function(err){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=err,this.isStopped=!0;for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;i<len;i++)copy[i].error(err);this.observers.length=0},Subject.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.isStopped=!0;for(var observers=this.observers,len=observers.length,copy=observers.slice(),i=0;i<len;i++)copy[i].complete();this.observers.length=0},Subject.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},Subject.prototype._trySubscribe=function(subscriber){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;return _super.prototype._trySubscribe.call(this,subscriber)},Subject.prototype._subscribe=function(subscriber){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;return this.hasError?(subscriber.error(this.thrownError),Subscription_1.Subscription.EMPTY):this.isStopped?(subscriber.complete(),Subscription_1.Subscription.EMPTY):(this.observers.push(subscriber),new SubjectSubscription_1.SubjectSubscription(this,subscriber))},Subject.prototype.asObservable=function(){var observable=new Observable_1.Observable;return observable.source=this,observable},Subject.create=function(destination,source){return new AnonymousSubject(destination,source)},Subject}(Observable_1.Observable);exports.Subject=Subject;var AnonymousSubject=function(_super){function AnonymousSubject(destination,source){_super.call(this),this.destination=destination,this.source=source}return __extends(AnonymousSubject,_super),AnonymousSubject.prototype.next=function(value){var destination=this.destination;destination&&destination.next&&destination.next(value)},AnonymousSubject.prototype.error=function(err){var destination=this.destination;destination&&destination.error&&this.destination.error(err)},AnonymousSubject.prototype.complete=function(){var destination=this.destination;destination&&destination.complete&&this.destination.complete()},AnonymousSubject.prototype._subscribe=function(subscriber){return this.source?this.source.subscribe(subscriber):Subscription_1.Subscription.EMPTY},AnonymousSubject}(Subject);exports.AnonymousSubject=AnonymousSubject},n3uJ:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),sequenceEqual_1=__webpack_require__("7Ts6");Observable_1.Observable.prototype.sequenceEqual=sequenceEqual_1.sequenceEqual},n5JV:function(module,exports,__webpack_require__){"use strict";var count_1=__webpack_require__("FAwv");exports.count=function(predicate){return count_1.count(predicate)(this)}},nIQF:function(module,exports,__webpack_require__){"use strict";exports.not=function(pred,thisArg){function notPred(){return!notPred.pred.apply(notPred.thisArg,arguments)}return notPred.pred=pred,notPred.thisArg=thisArg,notPred}},nd1r:function(module,exports,__webpack_require__){"use strict";var pairwise_1=__webpack_require__("cgWY");exports.pairwise=function(){return pairwise_1.pairwise()(this)}},nsZZ:function(module,exports,__webpack_require__){"use strict";var distinctUntilKeyChanged_1=__webpack_require__("XNsz");exports.distinctUntilKeyChanged=function(key,compare){return distinctUntilKeyChanged_1.distinctUntilKeyChanged(key,compare)(this)}},oCCF:function(module,exports,__webpack_require__){"use strict";var concat_1=__webpack_require__("iR9U"),concat_2=__webpack_require__("iR9U");exports.concatStatic=concat_2.concat,exports.concat=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return function(source){return source.lift.call(concat_1.concat.apply(void 0,[source].concat(observables)))}}},oSns:function(module,exports,__webpack_require__){"use strict";var async_1=__webpack_require__("gKc2"),timeInterval_1=__webpack_require__("zy0A");exports.TimeInterval=timeInterval_1.TimeInterval,exports.timeInterval=function(scheduler){return void 0===scheduler&&(scheduler=async_1.async),timeInterval_1.timeInterval(scheduler)(this)}},oTak:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),EmptyError_1=__webpack_require__("jcSU");exports.single=function(predicate){return function(source){return source.lift(new SingleOperator(predicate,source))}};var SingleOperator=function(){function SingleOperator(predicate,source){this.predicate=predicate,this.source=source}return SingleOperator.prototype.call=function(subscriber,source){return source.subscribe(new SingleSubscriber(subscriber,this.predicate,this.source))},SingleOperator}(),SingleSubscriber=function(_super){function SingleSubscriber(destination,predicate,source){_super.call(this,destination),this.predicate=predicate,this.source=source,this.seenValue=!1,this.index=0}return __extends(SingleSubscriber,_super),SingleSubscriber.prototype.applySingleValue=function(value){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=value)},SingleSubscriber.prototype._next=function(value){var index=this.index++;this.predicate?this.tryNext(value,index):this.applySingleValue(value)},SingleSubscriber.prototype.tryNext=function(value,index){try{this.predicate(value,index,this.source)&&this.applySingleValue(value)}catch(err){this.destination.error(err)}},SingleSubscriber.prototype._complete=function(){var destination=this.destination;this.index>0?(destination.next(this.seenValue?this.singleValue:undefined),destination.complete()):destination.error(new EmptyError_1.EmptyError)},SingleSubscriber}(Subscriber_1.Subscriber)},oZZJ:function(module,exports,__webpack_require__){"use strict";var EmptyObservable_1=__webpack_require__("QUkR");exports.empty=EmptyObservable_1.EmptyObservable.create},oi4s:function(module,exports,__webpack_require__){"use strict";var merge_1=__webpack_require__("1st3"),merge_2=__webpack_require__("5PtB");exports.mergeStatic=merge_2.merge,exports.merge=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return merge_1.merge.apply(void 0,observables)(this)}},owEk:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=__webpack_require__("gKc2"),isDate_1=__webpack_require__("Pz9i"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.timeoutWith=function(due,withObservable,scheduler){return void 0===scheduler&&(scheduler=async_1.async),function(source){var absoluteTimeout=isDate_1.isDate(due),waitFor=absoluteTimeout?+due-scheduler.now():Math.abs(due);return source.lift(new TimeoutWithOperator(waitFor,absoluteTimeout,withObservable,scheduler))}};var TimeoutWithOperator=function(){function TimeoutWithOperator(waitFor,absoluteTimeout,withObservable,scheduler){this.waitFor=waitFor,this.absoluteTimeout=absoluteTimeout,this.withObservable=withObservable,this.scheduler=scheduler}return TimeoutWithOperator.prototype.call=function(subscriber,source){return source.subscribe(new TimeoutWithSubscriber(subscriber,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},TimeoutWithOperator}(),TimeoutWithSubscriber=function(_super){function TimeoutWithSubscriber(destination,absoluteTimeout,waitFor,withObservable,scheduler){_super.call(this,destination),this.absoluteTimeout=absoluteTimeout,this.waitFor=waitFor,this.withObservable=withObservable,this.scheduler=scheduler,this.action=null,this.scheduleTimeout()}return __extends(TimeoutWithSubscriber,_super),TimeoutWithSubscriber.dispatchTimeout=function(subscriber){var withObservable=subscriber.withObservable;subscriber._unsubscribeAndRecycle(),subscriber.add(subscribeToResult_1.subscribeToResult(subscriber,withObservable))},TimeoutWithSubscriber.prototype.scheduleTimeout=function(){var action=this.action;action?this.action=action.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout,this.waitFor,this))},TimeoutWithSubscriber.prototype._next=function(value){this.absoluteTimeout||this.scheduleTimeout(),_super.prototype._next.call(this,value)},TimeoutWithSubscriber.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},TimeoutWithSubscriber}(OuterSubscriber_1.OuterSubscriber)},ox66:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6"),OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.expand=function(project,concurrent,scheduler){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),void 0===scheduler&&(scheduler=undefined),concurrent=(concurrent||0)<1?Number.POSITIVE_INFINITY:concurrent,function(source){return source.lift(new ExpandOperator(project,concurrent,scheduler))}};var ExpandOperator=function(){function ExpandOperator(project,concurrent,scheduler){this.project=project,this.concurrent=concurrent,this.scheduler=scheduler}return ExpandOperator.prototype.call=function(subscriber,source){return source.subscribe(new ExpandSubscriber(subscriber,this.project,this.concurrent,this.scheduler))},ExpandOperator}();exports.ExpandOperator=ExpandOperator;var ExpandSubscriber=function(_super){function ExpandSubscriber(destination,project,concurrent,scheduler){_super.call(this,destination),this.project=project,this.concurrent=concurrent,this.scheduler=scheduler,this.index=0,this.active=0,this.hasCompleted=!1,concurrent<Number.POSITIVE_INFINITY&&(this.buffer=[])}return __extends(ExpandSubscriber,_super),ExpandSubscriber.dispatch=function(arg){var subscriber=arg.subscriber,result=arg.result,value=arg.value,index=arg.index;subscriber.subscribeToProjection(result,value,index)},ExpandSubscriber.prototype._next=function(value){var destination=this.destination;if(destination.closed)this._complete();else{var index=this.index++;if(this.active<this.concurrent){destination.next(value);var result=tryCatch_1.tryCatch(this.project)(value,index);if(result===errorObject_1.errorObject)destination.error(errorObject_1.errorObject.e);else if(this.scheduler){var state={subscriber:this,result:result,value:value,index:index};this.add(this.scheduler.schedule(ExpandSubscriber.dispatch,0,state))}else this.subscribeToProjection(result,value,index)}else this.buffer.push(value)}},ExpandSubscriber.prototype.subscribeToProjection=function(result,value,index){this.active++,this.add(subscribeToResult_1.subscribeToResult(this,result,value,index))},ExpandSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},ExpandSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this._next(innerValue)},ExpandSubscriber.prototype.notifyComplete=function(innerSub){var buffer=this.buffer;this.remove(innerSub),this.active--,buffer&&buffer.length>0&&this._next(buffer.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},ExpandSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.ExpandSubscriber=ExpandSubscriber},pTlI:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},AsapScheduler=function(_super){function AsapScheduler(){_super.apply(this,arguments)}return __extends(AsapScheduler,_super),AsapScheduler.prototype.flush=function(action){this.active=!0,this.scheduled=undefined;var error,actions=this.actions,index=-1,count=actions.length;action=action||actions.shift();do{if(error=action.execute(action.state,action.delay))break}while(++index<count&&(action=actions.shift()));if(this.active=!1,error){for(;++index<count&&(action=actions.shift());)action.unsubscribe();throw error}},AsapScheduler}(__webpack_require__("jC1i").AsyncScheduler);exports.AsapScheduler=AsapScheduler},pVu0:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.sample=function(notifier){return function(source){return source.lift(new SampleOperator(notifier))}};var SampleOperator=function(){function SampleOperator(notifier){this.notifier=notifier}return SampleOperator.prototype.call=function(subscriber,source){var sampleSubscriber=new SampleSubscriber(subscriber),subscription=source.subscribe(sampleSubscriber);return subscription.add(subscribeToResult_1.subscribeToResult(sampleSubscriber,this.notifier)),subscription},SampleOperator}(),SampleSubscriber=function(_super){function SampleSubscriber(){_super.apply(this,arguments),this.hasValue=!1}return __extends(SampleSubscriber,_super),SampleSubscriber.prototype._next=function(value){this.value=value,this.hasValue=!0},SampleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.emitValue()},SampleSubscriber.prototype.notifyComplete=function(){this.emitValue()},SampleSubscriber.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},SampleSubscriber}(OuterSubscriber_1.OuterSubscriber)},pWL4:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),tryCatch_1=__webpack_require__("N4mU"),errorObject_1=__webpack_require__("RPO6"),AsyncSubject_1=__webpack_require__("ysw+"),BoundNodeCallbackObservable=function(_super){function BoundNodeCallbackObservable(callbackFunc,selector,args,context,scheduler){_super.call(this),this.callbackFunc=callbackFunc,this.selector=selector,this.args=args,this.context=context,this.scheduler=scheduler}return __extends(BoundNodeCallbackObservable,_super),BoundNodeCallbackObservable.create=function(func,selector,scheduler){return void 0===selector&&(selector=undefined),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return new BoundNodeCallbackObservable(func,selector,args,this,scheduler)}},BoundNodeCallbackObservable.prototype._subscribe=function(subscriber){var callbackFunc=this.callbackFunc,args=this.args,scheduler=this.scheduler,subject=this.subject;if(scheduler)return scheduler.schedule(dispatch,0,{source:this,subscriber:subscriber,context:this.context});if(!subject){subject=this.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i-0]=arguments[_i];var source=handlerFn.source,selector=source.selector,subject=source.subject,err=innerArgs.shift();if(err)subject.error(err);else if(selector){var result_1=tryCatch_1.tryCatch(selector).apply(this,innerArgs);result_1===errorObject_1.errorObject?subject.error(errorObject_1.errorObject.e):(subject.next(result_1),subject.complete())}else subject.next(innerArgs.length<=1?innerArgs[0]:innerArgs),subject.complete()};handler.source=this,tryCatch_1.tryCatch(callbackFunc).apply(this.context,args.concat(handler))===errorObject_1.errorObject&&subject.error(errorObject_1.errorObject.e)}return subject.subscribe(subscriber)},BoundNodeCallbackObservable}(Observable_1.Observable);function dispatch(state){var self=this,source=state.source,subscriber=state.subscriber,context=state.context,_a=source,callbackFunc=_a.callbackFunc,args=_a.args,scheduler=_a.scheduler,subject=source.subject;if(!subject){subject=source.subject=new AsyncSubject_1.AsyncSubject;var handler=function handlerFn(){for(var innerArgs=[],_i=0;_i<arguments.length;_i++)innerArgs[_i-0]=arguments[_i];var source=handlerFn.source,selector=source.selector,subject=source.subject,err=innerArgs.shift();if(err)self.add(scheduler.schedule(dispatchError,0,{err:err,subject:subject}));else if(selector){var result_2=tryCatch_1.tryCatch(selector).apply(this,innerArgs);result_2===errorObject_1.errorObject?self.add(scheduler.schedule(dispatchError,0,{err:errorObject_1.errorObject.e,subject:subject})):self.add(scheduler.schedule(dispatchNext,0,{value:result_2,subject:subject}))}else{var value=innerArgs.length<=1?innerArgs[0]:innerArgs;self.add(scheduler.schedule(dispatchNext,0,{value:value,subject:subject}))}};handler.source=source,tryCatch_1.tryCatch(callbackFunc).apply(context,args.concat(handler))===errorObject_1.errorObject&&self.add(scheduler.schedule(dispatchError,0,{err:errorObject_1.errorObject.e,subject:subject}))}self.add(subject.subscribe(subscriber))}function dispatchNext(arg){var value=arg.value,subject=arg.subject;subject.next(value),subject.complete()}function dispatchError(arg){var err=arg.err;arg.subject.error(err)}exports.BoundNodeCallbackObservable=BoundNodeCallbackObservable},paR6:function(module,exports,__webpack_require__){"use strict";var AjaxObservable_1=__webpack_require__("Y3SC");exports.ajax=AjaxObservable_1.AjaxObservable.create},pktH:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.defaultThrottleConfig={leading:!0,trailing:!1},exports.throttle=function(durationSelector,config){return void 0===config&&(config=exports.defaultThrottleConfig),function(source){return source.lift(new ThrottleOperator(durationSelector,config.leading,config.trailing))}};var ThrottleOperator=function(){function ThrottleOperator(durationSelector,leading,trailing){this.durationSelector=durationSelector,this.leading=leading,this.trailing=trailing}return ThrottleOperator.prototype.call=function(subscriber,source){return source.subscribe(new ThrottleSubscriber(subscriber,this.durationSelector,this.leading,this.trailing))},ThrottleOperator}(),ThrottleSubscriber=function(_super){function ThrottleSubscriber(destination,durationSelector,_leading,_trailing){_super.call(this,destination),this.destination=destination,this.durationSelector=durationSelector,this._leading=_leading,this._trailing=_trailing,this._hasTrailingValue=!1}return __extends(ThrottleSubscriber,_super),ThrottleSubscriber.prototype._next=function(value){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=value);else{var duration=this.tryDurationSelector(value);duration&&this.add(this.throttled=subscribeToResult_1.subscribeToResult(this,duration)),this._leading&&(this.destination.next(value),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=value))}},ThrottleSubscriber.prototype.tryDurationSelector=function(value){try{return this.durationSelector(value)}catch(err){return this.destination.error(err),null}},ThrottleSubscriber.prototype._unsubscribe=function(){var throttled=this.throttled;this._trailingValue,this._hasTrailingValue,this._trailing;this._trailingValue=null,this._hasTrailingValue=!1,throttled&&(this.remove(throttled),this.throttled=null,throttled.unsubscribe())},ThrottleSubscriber.prototype._sendTrailing=function(){var _a=this,destination=_a.destination,throttled=_a.throttled,_trailing=_a._trailing,_trailingValue=_a._trailingValue,_hasTrailingValue=_a._hasTrailingValue;throttled&&_trailing&&_hasTrailingValue&&(destination.next(_trailingValue),this._trailingValue=null,this._hasTrailingValue=!1)},ThrottleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this._sendTrailing(),this._unsubscribe()},ThrottleSubscriber.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},ThrottleSubscriber}(OuterSubscriber_1.OuterSubscriber)},pyP5:function(module,exports,__webpack_require__){"use strict";var root_1=__webpack_require__("UbR+");function getSymbolObservable(context){var $$observable,Symbol=context.Symbol;return"function"==typeof Symbol?Symbol.observable?$$observable=Symbol.observable:($$observable=Symbol("observable"),Symbol.observable=$$observable):$$observable="@@observable",$$observable}exports.getSymbolObservable=getSymbolObservable,exports.observable=getSymbolObservable(root_1.root),exports.$$observable=exports.observable},q2vt:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),toArray_1=__webpack_require__("EVv1");Observable_1.Observable.prototype.toArray=toArray_1.toArray},q3Hg:function(module,exports,__webpack_require__){"use strict";var observeOn_1=__webpack_require__("XehH");exports.observeOn=function(scheduler,delay){return void 0===delay&&(delay=0),observeOn_1.observeOn(scheduler,delay)(this)}},"qF2+":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),async_1=__webpack_require__("gKc2"),throttle_1=__webpack_require__("pktH");exports.throttleTime=function(duration,scheduler,config){return void 0===scheduler&&(scheduler=async_1.async),void 0===config&&(config=throttle_1.defaultThrottleConfig),function(source){return source.lift(new ThrottleTimeOperator(duration,scheduler,config.leading,config.trailing))}};var ThrottleTimeOperator=function(){function ThrottleTimeOperator(duration,scheduler,leading,trailing){this.duration=duration,this.scheduler=scheduler,this.leading=leading,this.trailing=trailing}return ThrottleTimeOperator.prototype.call=function(subscriber,source){return source.subscribe(new ThrottleTimeSubscriber(subscriber,this.duration,this.scheduler,this.leading,this.trailing))},ThrottleTimeOperator}(),ThrottleTimeSubscriber=function(_super){function ThrottleTimeSubscriber(destination,duration,scheduler,leading,trailing){_super.call(this,destination),this.duration=duration,this.scheduler=scheduler,this.leading=leading,this.trailing=trailing,this._hasTrailingValue=!1,this._trailingValue=null}return __extends(ThrottleTimeSubscriber,_super),ThrottleTimeSubscriber.prototype._next=function(value){this.throttled?this.trailing&&(this._trailingValue=value,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.leading&&this.destination.next(value))},ThrottleTimeSubscriber.prototype.clearThrottle=function(){var throttled=this.throttled;throttled&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),throttled.unsubscribe(),this.remove(throttled),this.throttled=null)},ThrottleTimeSubscriber}(Subscriber_1.Subscriber);function dispatchNext(arg){arg.subscriber.clearThrottle()}},qKER:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),skipWhile_1=__webpack_require__("Niog");Observable_1.Observable.prototype.skipWhile=skipWhile_1.skipWhile},qKEq:function(module,exports,__webpack_require__){"use strict";var windowWhen_1=__webpack_require__("SVAK");exports.windowWhen=function(closingSelector){return windowWhen_1.windowWhen(closingSelector)(this)}},qOh9:function(module,exports,__webpack_require__){"use strict";var concatMap_1=__webpack_require__("DfPI");exports.concatMap=function(project,resultSelector){return concatMap_1.concatMap(project,resultSelector)(this)}},qRsd:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__("mwCp"),Subscription_1=__webpack_require__("CauQ"),SubscriptionLoggable_1=__webpack_require__("eVar"),applyMixins_1=__webpack_require__("imLd"),HotObservable=function(_super){function HotObservable(messages,scheduler){_super.call(this),this.messages=messages,this.subscriptions=[],this.scheduler=scheduler}return __extends(HotObservable,_super),HotObservable.prototype._subscribe=function(subscriber){var subject=this,index=subject.logSubscribedFrame();return subscriber.add(new Subscription_1.Subscription((function(){subject.logUnsubscribedFrame(index)}))),_super.prototype._subscribe.call(this,subscriber)},HotObservable.prototype.setup=function(){for(var subject=this,messagesLength=subject.messages.length,i=0;i<messagesLength;i++)!function(){var message=subject.messages[i];subject.scheduler.schedule((function(){message.notification.observe(subject)}),message.frame)}()},HotObservable}(Subject_1.Subject);exports.HotObservable=HotObservable,applyMixins_1.applyMixins(HotObservable,[SubscriptionLoggable_1.SubscriptionLoggable])},qUV8:function(module,exports,__webpack_require__){"use strict";var Symbol=__webpack_require__("UbR+").root.Symbol;exports.rxSubscriber="function"==typeof Symbol&&"function"==typeof Symbol["for"]?Symbol["for"]("rxSubscriber"):"@@rxSubscriber",exports.$$rxSubscriber=exports.rxSubscriber},qWQQ:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),concat_1=__webpack_require__("iR9U");Observable_1.Observable.concat=concat_1.concat},qkQy:function(module,exports,__webpack_require__){"use strict";exports.isObject=function(x){return null!=x&&"object"==typeof x}},qxD2:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),publishLast_1=__webpack_require__("hCN0");Observable_1.Observable.prototype.publishLast=publishLast_1.publishLast},"r/92":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscription_1=__webpack_require__("CauQ"),subscribeToResult_1=__webpack_require__("7/JB"),OuterSubscriber_1=__webpack_require__("Zyg3");exports.bufferToggle=function(openings,closingSelector){return function(source){return source.lift(new BufferToggleOperator(openings,closingSelector))}};var BufferToggleOperator=function(){function BufferToggleOperator(openings,closingSelector){this.openings=openings,this.closingSelector=closingSelector}return BufferToggleOperator.prototype.call=function(subscriber,source){return source.subscribe(new BufferToggleSubscriber(subscriber,this.openings,this.closingSelector))},BufferToggleOperator}(),BufferToggleSubscriber=function(_super){function BufferToggleSubscriber(destination,openings,closingSelector){_super.call(this,destination),this.openings=openings,this.closingSelector=closingSelector,this.contexts=[],this.add(subscribeToResult_1.subscribeToResult(this,openings))}return __extends(BufferToggleSubscriber,_super),BufferToggleSubscriber.prototype._next=function(value){for(var contexts=this.contexts,len=contexts.length,i=0;i<len;i++)contexts[i].buffer.push(value)},BufferToggleSubscriber.prototype._error=function(err){for(var contexts=this.contexts;contexts.length>0;){var context=contexts.shift();context.subscription.unsubscribe(),context.buffer=null,context.subscription=null}this.contexts=null,_super.prototype._error.call(this,err)},BufferToggleSubscriber.prototype._complete=function(){for(var contexts=this.contexts;contexts.length>0;){var context=contexts.shift();this.destination.next(context.buffer),context.subscription.unsubscribe(),context.buffer=null,context.subscription=null}this.contexts=null,_super.prototype._complete.call(this)},BufferToggleSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){outerValue?this.closeBuffer(outerValue):this.openBuffer(innerValue)},BufferToggleSubscriber.prototype.notifyComplete=function(innerSub){this.closeBuffer(innerSub.context)},BufferToggleSubscriber.prototype.openBuffer=function(value){try{var closingNotifier=this.closingSelector.call(this,value);closingNotifier&&this.trySubscribe(closingNotifier)}catch(err){this._error(err)}},BufferToggleSubscriber.prototype.closeBuffer=function(context){var contexts=this.contexts;if(contexts&&context){var buffer=context.buffer,subscription=context.subscription;this.destination.next(buffer),contexts.splice(contexts.indexOf(context),1),this.remove(subscription),subscription.unsubscribe()}},BufferToggleSubscriber.prototype.trySubscribe=function(closingNotifier){var contexts=this.contexts,subscription=new Subscription_1.Subscription,context={buffer:[],subscription:subscription};contexts.push(context);var innerSubscription=subscribeToResult_1.subscribeToResult(this,closingNotifier,context);!innerSubscription||innerSubscription.closed?this.closeBuffer(context):(innerSubscription.context=context,this.add(innerSubscription),subscription.add(innerSubscription))},BufferToggleSubscriber}(OuterSubscriber_1.OuterSubscriber)},r84X:function(module,exports,__webpack_require__){"use strict";var catchError_1=__webpack_require__("1Iwf");exports._catch=function(selector){return catchError_1.catchError(selector)(this)}},r8CI:function(module,exports,__webpack_require__){"use strict";var async_1=__webpack_require__("gKc2"),map_1=__webpack_require__("MWq+");exports.timestamp=function(scheduler){return void 0===scheduler&&(scheduler=async_1.async),map_1.map((function(value){return new Timestamp(value,scheduler.now())}))};var Timestamp=function(value,timestamp){this.value=value,this.timestamp=timestamp};exports.Timestamp=Timestamp},rDdd:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),auditTime_1=__webpack_require__("S4kW");Observable_1.Observable.prototype.auditTime=auditTime_1.auditTime},rJr5:function(module,exports,__webpack_require__){"use strict";var mergeAll_1=__webpack_require__("hnjD");exports.mergeAll=function(concurrent){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),mergeAll_1.mergeAll(concurrent)(this)}},rTLj:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),defer_1=__webpack_require__("Pmx9");Observable_1.Observable.defer=defer_1.defer},rjTF:function(module,exports,__webpack_require__){"use strict";var FromObservable_1=__webpack_require__("Bfcd");exports.from=FromObservable_1.FromObservable.create},rkeQ:function(module,exports,__webpack_require__){"use strict";var expand_1=__webpack_require__("ox66");exports.expand=function(project,concurrent,scheduler){return void 0===concurrent&&(concurrent=Number.POSITIVE_INFINITY),void 0===scheduler&&(scheduler=undefined),concurrent=(concurrent||0)<1?Number.POSITIVE_INFINITY:concurrent,expand_1.expand(project,concurrent,scheduler)(this)}},rqhX:function(module,exports,__webpack_require__){"use strict";var Scheduler=function(){function Scheduler(SchedulerAction,now){void 0===now&&(now=Scheduler.now),this.SchedulerAction=SchedulerAction,this.now=now}return Scheduler.prototype.schedule=function(work,delay,state){return void 0===delay&&(delay=0),new this.SchedulerAction(this,work).schedule(state,delay)},Scheduler.now=Date.now?Date.now:function(){return+new Date},Scheduler}();exports.Scheduler=Scheduler},rzmO:function(module,exports,__webpack_require__){"use strict";var find_1=__webpack_require__("Nj3c");exports.findIndex=function(predicate,thisArg){return function(source){return source.lift(new find_1.FindValueOperator(predicate,source,!0,thisArg))}}},sCcm:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.scan=function(accumulator,seed){var hasSeed=!1;return arguments.length>=2&&(hasSeed=!0),function(source){return source.lift(new ScanOperator(accumulator,seed,hasSeed))}};var ScanOperator=function(){function ScanOperator(accumulator,seed,hasSeed){void 0===hasSeed&&(hasSeed=!1),this.accumulator=accumulator,this.seed=seed,this.hasSeed=hasSeed}return ScanOperator.prototype.call=function(subscriber,source){return source.subscribe(new ScanSubscriber(subscriber,this.accumulator,this.seed,this.hasSeed))},ScanOperator}(),ScanSubscriber=function(_super){function ScanSubscriber(destination,accumulator,_seed,hasSeed){_super.call(this,destination),this.accumulator=accumulator,this._seed=_seed,this.hasSeed=hasSeed,this.index=0}return __extends(ScanSubscriber,_super),Object.defineProperty(ScanSubscriber.prototype,"seed",{get:function(){return this._seed},set:function(value){this.hasSeed=!0,this._seed=value},enumerable:!0,configurable:!0}),ScanSubscriber.prototype._next=function(value){if(this.hasSeed)return this._tryNext(value);this.seed=value,this.destination.next(value)},ScanSubscriber.prototype._tryNext=function(value){var result,index=this.index++;try{result=this.accumulator(this.seed,value,index)}catch(err){this.destination.error(err)}this.seed=result,this.destination.next(result)},ScanSubscriber}(Subscriber_1.Subscriber)},sE3d:function(module,exports,__webpack_require__){"use strict";var findIndex_1=__webpack_require__("rzmO");exports.findIndex=function(predicate,thisArg){return findIndex_1.findIndex(predicate,thisArg)(this)}},sGpy:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),min_1=__webpack_require__("gu3L");Observable_1.Observable.prototype.min=min_1.min},sI33:function(module,exports,__webpack_require__){"use strict";var root_1=__webpack_require__("UbR+"),toSubscriber_1=__webpack_require__("4g/g"),observable_1=__webpack_require__("pyP5"),pipe_1=__webpack_require__("49sm"),Observable=function(){function Observable(subscribe){this._isScalar=!1,subscribe&&(this._subscribe=subscribe)}return Observable.prototype.lift=function(operator){var observable=new Observable;return observable.source=this,observable.operator=operator,observable},Observable.prototype.subscribe=function(observerOrNext,error,complete){var operator=this.operator,sink=toSubscriber_1.toSubscriber(observerOrNext,error,complete);if(operator?operator.call(sink,this.source):sink.add(this.source||!sink.syncErrorThrowable?this._subscribe(sink):this._trySubscribe(sink)),sink.syncErrorThrowable&&(sink.syncErrorThrowable=!1,sink.syncErrorThrown))throw sink.syncErrorValue;return sink},Observable.prototype._trySubscribe=function(sink){try{return this._subscribe(sink)}catch(err){sink.syncErrorThrown=!0,sink.syncErrorValue=err,sink.error(err)}},Observable.prototype.forEach=function(next,PromiseCtor){var _this=this;if(PromiseCtor||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?PromiseCtor=root_1.root.Rx.config.Promise:root_1.root.Promise&&(PromiseCtor=root_1.root.Promise)),!PromiseCtor)throw new Error("no Promise impl found");return new PromiseCtor((function(resolve,reject){var subscription;subscription=_this.subscribe((function(value){if(subscription)try{next(value)}catch(err){reject(err),subscription.unsubscribe()}else next(value)}),reject,resolve)}))},Observable.prototype._subscribe=function(subscriber){return this.source.subscribe(subscriber)},Observable.prototype[observable_1.observable]=function(){return this},Observable.prototype.pipe=function(){for(var operations=[],_i=0;_i<arguments.length;_i++)operations[_i-0]=arguments[_i];return 0===operations.length?this:pipe_1.pipeFromArray(operations)(this)},Observable.prototype.toPromise=function(PromiseCtor){var _this=this;if(PromiseCtor||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?PromiseCtor=root_1.root.Rx.config.Promise:root_1.root.Promise&&(PromiseCtor=root_1.root.Promise)),!PromiseCtor)throw new Error("no Promise impl found");return new PromiseCtor((function(resolve,reject){var value;_this.subscribe((function(x){return value=x}),(function(err){return reject(err)}),(function(){return resolve(value)}))}))},Observable.create=function(subscribe){return new Observable(subscribe)},Observable}();exports.Observable=Observable},seNE:function(module,exports,__webpack_require__){"use strict";var last_1=__webpack_require__("xPnl");exports.last=function(predicate,resultSelector,defaultValue){return last_1.last(predicate,resultSelector,defaultValue)(this)}},ssIG:function(module,exports,__webpack_require__){var crypt,utf8,isBuffer,bin,md5;crypt=__webpack_require__("GLbu"),utf8=__webpack_require__("PeFF").utf8,isBuffer=__webpack_require__("J2Th"),bin=__webpack_require__("PeFF").bin,(md5=function(message,options){message.constructor==String?message=options&&"binary"===options.encoding?bin.stringToBytes(message):utf8.stringToBytes(message):isBuffer(message)?message=Array.prototype.slice.call(message,0):Array.isArray(message)||(message=message.toString());for(var m=crypt.bytesToWords(message),l=8*message.length,a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<m.length;i++)m[i]=16711935&(m[i]<<8|m[i]>>>24)|4278255360&(m[i]<<24|m[i]>>>8);m[l>>>5]|=128<<l%32,m[14+(l+64>>>9<<4)]=l;var FF=md5._ff,GG=md5._gg,HH=md5._hh,II=md5._ii;for(i=0;i<m.length;i+=16){var aa=a,bb=b,cc=c,dd=d;a=FF(a,b,c,d,m[i+0],7,-680876936),d=FF(d,a,b,c,m[i+1],12,-389564586),c=FF(c,d,a,b,m[i+2],17,606105819),b=FF(b,c,d,a,m[i+3],22,-1044525330),a=FF(a,b,c,d,m[i+4],7,-176418897),d=FF(d,a,b,c,m[i+5],12,1200080426),c=FF(c,d,a,b,m[i+6],17,-1473231341),b=FF(b,c,d,a,m[i+7],22,-45705983),a=FF(a,b,c,d,m[i+8],7,1770035416),d=FF(d,a,b,c,m[i+9],12,-1958414417),c=FF(c,d,a,b,m[i+10],17,-42063),b=FF(b,c,d,a,m[i+11],22,-1990404162),a=FF(a,b,c,d,m[i+12],7,1804603682),d=FF(d,a,b,c,m[i+13],12,-40341101),c=FF(c,d,a,b,m[i+14],17,-1502002290),a=GG(a,b=FF(b,c,d,a,m[i+15],22,1236535329),c,d,m[i+1],5,-165796510),d=GG(d,a,b,c,m[i+6],9,-1069501632),c=GG(c,d,a,b,m[i+11],14,643717713),b=GG(b,c,d,a,m[i+0],20,-373897302),a=GG(a,b,c,d,m[i+5],5,-701558691),d=GG(d,a,b,c,m[i+10],9,38016083),c=GG(c,d,a,b,m[i+15],14,-660478335),b=GG(b,c,d,a,m[i+4],20,-405537848),a=GG(a,b,c,d,m[i+9],5,568446438),d=GG(d,a,b,c,m[i+14],9,-1019803690),c=GG(c,d,a,b,m[i+3],14,-187363961),b=GG(b,c,d,a,m[i+8],20,1163531501),a=GG(a,b,c,d,m[i+13],5,-1444681467),d=GG(d,a,b,c,m[i+2],9,-51403784),c=GG(c,d,a,b,m[i+7],14,1735328473),a=HH(a,b=GG(b,c,d,a,m[i+12],20,-1926607734),c,d,m[i+5],4,-378558),d=HH(d,a,b,c,m[i+8],11,-2022574463),c=HH(c,d,a,b,m[i+11],16,1839030562),b=HH(b,c,d,a,m[i+14],23,-35309556),a=HH(a,b,c,d,m[i+1],4,-1530992060),d=HH(d,a,b,c,m[i+4],11,1272893353),c=HH(c,d,a,b,m[i+7],16,-155497632),b=HH(b,c,d,a,m[i+10],23,-1094730640),a=HH(a,b,c,d,m[i+13],4,681279174),d=HH(d,a,b,c,m[i+0],11,-358537222),c=HH(c,d,a,b,m[i+3],16,-722521979),b=HH(b,c,d,a,m[i+6],23,76029189),a=HH(a,b,c,d,m[i+9],4,-640364487),d=HH(d,a,b,c,m[i+12],11,-421815835),c=HH(c,d,a,b,m[i+15],16,530742520),a=II(a,b=HH(b,c,d,a,m[i+2],23,-995338651),c,d,m[i+0],6,-198630844),d=II(d,a,b,c,m[i+7],10,1126891415),c=II(c,d,a,b,m[i+14],15,-1416354905),b=II(b,c,d,a,m[i+5],21,-57434055),a=II(a,b,c,d,m[i+12],6,1700485571),d=II(d,a,b,c,m[i+3],10,-1894986606),c=II(c,d,a,b,m[i+10],15,-1051523),b=II(b,c,d,a,m[i+1],21,-2054922799),a=II(a,b,c,d,m[i+8],6,1873313359),d=II(d,a,b,c,m[i+15],10,-30611744),c=II(c,d,a,b,m[i+6],15,-1560198380),b=II(b,c,d,a,m[i+13],21,1309151649),a=II(a,b,c,d,m[i+4],6,-145523070),d=II(d,a,b,c,m[i+11],10,-1120210379),c=II(c,d,a,b,m[i+2],15,718787259),b=II(b,c,d,a,m[i+9],21,-343485551),a=a+aa>>>0,b=b+bb>>>0,c=c+cc>>>0,d=d+dd>>>0}return crypt.endian([a,b,c,d])})._ff=function(a,b,c,d,x,s,t){var n=a+(b&c|~b&d)+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._gg=function(a,b,c,d,x,s,t){var n=a+(b&d|c&~d)+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._hh=function(a,b,c,d,x,s,t){var n=a+(b^c^d)+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._ii=function(a,b,c,d,x,s,t){var n=a+(c^(b|~d))+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._blocksize=16,md5._digestsize=16,module.exports=function(message,options){if(message===undefined||null===message)throw new Error("Illegal argument "+message);var digestbytes=crypt.wordsToBytes(md5(message,options));return options&&options.asBytes?digestbytes:options&&options.asString?bin.bytesToString(digestbytes):crypt.bytesToHex(digestbytes)}},t1pz:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),merge_1=__webpack_require__("5PtB");Observable_1.Observable.merge=merge_1.merge},t5Sz:function(module,exports,__webpack_require__){"use strict";var root_1=__webpack_require__("UbR+");function minimalSetImpl(){return function(){function MinimalSet(){this._values=[]}return MinimalSet.prototype.add=function(value){this.has(value)||this._values.push(value)},MinimalSet.prototype.has=function(value){return-1!==this._values.indexOf(value)},Object.defineProperty(MinimalSet.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),MinimalSet.prototype.clear=function(){this._values.length=0},MinimalSet}()}exports.minimalSetImpl=minimalSetImpl,exports.Set=root_1.root.Set||minimalSetImpl()},t9e5:function(module,exports,__webpack_require__){"use strict";var ignoreElements_1=__webpack_require__("tHYN");exports.ignoreElements=function(){return ignoreElements_1.ignoreElements()(this)}},tHYN:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),noop_1=__webpack_require__("jm2w");exports.ignoreElements=function(){return function(source){return source.lift(new IgnoreElementsOperator)}};var IgnoreElementsOperator=function(){function IgnoreElementsOperator(){}return IgnoreElementsOperator.prototype.call=function(subscriber,source){return source.subscribe(new IgnoreElementsSubscriber(subscriber))},IgnoreElementsOperator}(),IgnoreElementsSubscriber=function(_super){function IgnoreElementsSubscriber(){_super.apply(this,arguments)}return __extends(IgnoreElementsSubscriber,_super),IgnoreElementsSubscriber.prototype._next=function(unused){noop_1.noop()},IgnoreElementsSubscriber}(Subscriber_1.Subscriber)},tM4B:function(module,exports,__webpack_require__){"use strict";var publishBehavior_1=__webpack_require__("tUAj");exports.publishBehavior=function(value){return publishBehavior_1.publishBehavior(value)(this)}},tUAj:function(module,exports,__webpack_require__){"use strict";var BehaviorSubject_1=__webpack_require__("ivCa"),multicast_1=__webpack_require__("G8Kb");exports.publishBehavior=function(value){return function(source){return multicast_1.multicast(new BehaviorSubject_1.BehaviorSubject(value))(source)}}},tXLV:function(module,exports,__webpack_require__){"use strict";var finalize_1=__webpack_require__("b43D");exports._finally=function(callback){return finalize_1.finalize(callback)(this)}},tdYg:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),throw_1=__webpack_require__("W28c");Observable_1.Observable["throw"]=throw_1._throw},tiP0:function(module,exports,__webpack_require__){"use strict";var zip_1=__webpack_require__("JmZ0");exports.zipAll=function(project){return function(source){return source.lift(new zip_1.ZipOperator(project))}}},tvAe:function(module,exports,__webpack_require__){"use strict";var IfObservable_1=__webpack_require__("jAo+");exports._if=IfObservable_1.IfObservable.create},tz5a:function(module,exports,__webpack_require__){"use strict";var PromiseObservable_1=__webpack_require__("+DLm");exports.fromPromise=PromiseObservable_1.PromiseObservable.create},"u/wY":function(module,exports,__webpack_require__){"use strict";var audit_1=__webpack_require__("XGav");exports.audit=function(durationSelector){return audit_1.audit(durationSelector)(this)}},u5Yc:function(module,exports,__webpack_require__){"use strict";var concatMap_1=__webpack_require__("DfPI");exports.concatMapTo=function(innerObservable,resultSelector){return concatMap_1.concatMap((function(){return innerObservable}),resultSelector)}},uAtR:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),concatAll_1=__webpack_require__("uIaX");Observable_1.Observable.prototype.concatAll=concatAll_1.concatAll},uEAb:function(module,exports,__webpack_require__){"use strict";var async_1=__webpack_require__("gKc2"),debounceTime_1=__webpack_require__("2R8W");exports.debounceTime=function(dueTime,scheduler){return void 0===scheduler&&(scheduler=async_1.async),debounceTime_1.debounceTime(dueTime,scheduler)(this)}},uGw4:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),Notification=function(){function Notification(kind,value,error){this.kind=kind,this.value=value,this.error=error,this.hasValue="N"===kind}return Notification.prototype.observe=function(observer){switch(this.kind){case"N":return observer.next&&observer.next(this.value);case"E":return observer.error&&observer.error(this.error);case"C":return observer.complete&&observer.complete()}},Notification.prototype["do"]=function(next,error,complete){switch(this.kind){case"N":return next&&next(this.value);case"E":return error&&error(this.error);case"C":return complete&&complete()}},Notification.prototype.accept=function(nextOrObserver,error,complete){return nextOrObserver&&"function"==typeof nextOrObserver.next?this.observe(nextOrObserver):this["do"](nextOrObserver,error,complete)},Notification.prototype.toObservable=function(){switch(this.kind){case"N":return Observable_1.Observable.of(this.value);case"E":return Observable_1.Observable["throw"](this.error);case"C":return Observable_1.Observable.empty()}throw new Error("unexpected notification kind value")},Notification.createNext=function(value){return void 0!==value?new Notification("N",value):Notification.undefinedValueNotification},Notification.createError=function(err){return new Notification("E",undefined,err)},Notification.createComplete=function(){return Notification.completeNotification},Notification.completeNotification=new Notification("C"),Notification.undefinedValueNotification=new Notification("N",undefined),Notification}();exports.Notification=Notification},uIaX:function(module,exports,__webpack_require__){"use strict";var concatAll_1=__webpack_require__("gg3e");exports.concatAll=function(){return concatAll_1.concatAll()(this)}},uKge:function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},uMKd:function(module,exports,__webpack_require__){"use strict";var reduce_1=__webpack_require__("P3wL");exports.max=function(comparer){var max="function"==typeof comparer?function(x,y){return comparer(x,y)>0?x:y}:function(x,y){return x>y?x:y};return reduce_1.reduce(max)}},uPj4:function(module,exports,__webpack_require__){"use strict";var FromEventObservable_1=__webpack_require__("JvUs");exports.fromEvent=FromEventObservable_1.FromEventObservable.create},uVWL:function(module,exports,__webpack_require__){"use strict";var ForkJoinObservable_1=__webpack_require__("W1Df");exports.forkJoin=ForkJoinObservable_1.ForkJoinObservable.create},uYQO:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u");exports.defaultIfEmpty=function(defaultValue){return void 0===defaultValue&&(defaultValue=null),function(source){return source.lift(new DefaultIfEmptyOperator(defaultValue))}};var DefaultIfEmptyOperator=function(){function DefaultIfEmptyOperator(defaultValue){this.defaultValue=defaultValue}return DefaultIfEmptyOperator.prototype.call=function(subscriber,source){return source.subscribe(new DefaultIfEmptySubscriber(subscriber,this.defaultValue))},DefaultIfEmptyOperator}(),DefaultIfEmptySubscriber=function(_super){function DefaultIfEmptySubscriber(destination,defaultValue){_super.call(this,destination),this.defaultValue=defaultValue,this.isEmpty=!0}return __extends(DefaultIfEmptySubscriber,_super),DefaultIfEmptySubscriber.prototype._next=function(value){this.isEmpty=!1,this.destination.next(value)},DefaultIfEmptySubscriber.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},DefaultIfEmptySubscriber}(Subscriber_1.Subscriber)},uYcJ:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),max_1=__webpack_require__("heBp");Observable_1.Observable.prototype.max=max_1.max},uwmc:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),EmptyError_1=__webpack_require__("jcSU");exports.first=function(predicate,resultSelector,defaultValue){return function(source){return source.lift(new FirstOperator(predicate,resultSelector,defaultValue,source))}};var FirstOperator=function(){function FirstOperator(predicate,resultSelector,defaultValue,source){this.predicate=predicate,this.resultSelector=resultSelector,this.defaultValue=defaultValue,this.source=source}return FirstOperator.prototype.call=function(observer,source){return source.subscribe(new FirstSubscriber(observer,this.predicate,this.resultSelector,this.defaultValue,this.source))},FirstOperator}(),FirstSubscriber=function(_super){function FirstSubscriber(destination,predicate,resultSelector,defaultValue,source){_super.call(this,destination),this.predicate=predicate,this.resultSelector=resultSelector,this.defaultValue=defaultValue,this.source=source,this.index=0,this.hasCompleted=!1,this._emitted=!1}return __extends(FirstSubscriber,_super),FirstSubscriber.prototype._next=function(value){var index=this.index++;this.predicate?this._tryPredicate(value,index):this._emit(value,index)},FirstSubscriber.prototype._tryPredicate=function(value,index){var result;try{result=this.predicate(value,index,this.source)}catch(err){return void this.destination.error(err)}result&&this._emit(value,index)},FirstSubscriber.prototype._emit=function(value,index){this.resultSelector?this._tryResultSelector(value,index):this._emitFinal(value)},FirstSubscriber.prototype._tryResultSelector=function(value,index){var result;try{result=this.resultSelector(value,index)}catch(err){return void this.destination.error(err)}this._emitFinal(result)},FirstSubscriber.prototype._emitFinal=function(value){var destination=this.destination;this._emitted||(this._emitted=!0,destination.next(value),destination.complete(),this.hasCompleted=!0)},FirstSubscriber.prototype._complete=function(){var destination=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||destination.error(new EmptyError_1.EmptyError):(destination.next(this.defaultValue),destination.complete())},FirstSubscriber}(Subscriber_1.Subscriber)},uxzV:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),forkJoin_1=__webpack_require__("uVWL");Observable_1.Observable.forkJoin=forkJoin_1.forkJoin},v1pZ:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),window_1=__webpack_require__("jMfl");Observable_1.Observable.prototype.window=window_1.window},vCj6:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),using_1=__webpack_require__("8KSp");Observable_1.Observable.using=using_1.using},vI3z:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},async_1=__webpack_require__("gKc2"),isDate_1=__webpack_require__("Pz9i"),Subscriber_1=__webpack_require__("Ro5u"),TimeoutError_1=__webpack_require__("7p7a");exports.timeout=function(due,scheduler){void 0===scheduler&&(scheduler=async_1.async);var absoluteTimeout=isDate_1.isDate(due),waitFor=absoluteTimeout?+due-scheduler.now():Math.abs(due);return function(source){return source.lift(new TimeoutOperator(waitFor,absoluteTimeout,scheduler,new TimeoutError_1.TimeoutError))}};var TimeoutOperator=function(){function TimeoutOperator(waitFor,absoluteTimeout,scheduler,errorInstance){this.waitFor=waitFor,this.absoluteTimeout=absoluteTimeout,this.scheduler=scheduler,this.errorInstance=errorInstance}return TimeoutOperator.prototype.call=function(subscriber,source){return source.subscribe(new TimeoutSubscriber(subscriber,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},TimeoutOperator}(),TimeoutSubscriber=function(_super){function TimeoutSubscriber(destination,absoluteTimeout,waitFor,scheduler,errorInstance){_super.call(this,destination),this.absoluteTimeout=absoluteTimeout,this.waitFor=waitFor,this.scheduler=scheduler,this.errorInstance=errorInstance,this.action=null,this.scheduleTimeout()}return __extends(TimeoutSubscriber,_super),TimeoutSubscriber.dispatchTimeout=function(subscriber){subscriber.error(subscriber.errorInstance)},TimeoutSubscriber.prototype.scheduleTimeout=function(){var action=this.action;action?this.action=action.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(TimeoutSubscriber.dispatchTimeout,this.waitFor,this))},TimeoutSubscriber.prototype._next=function(value){this.absoluteTimeout||this.scheduleTimeout(),_super.prototype._next.call(this,value)},TimeoutSubscriber.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},TimeoutSubscriber}(Subscriber_1.Subscriber)},vaX0:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB");exports.exhaustMap=function(project,resultSelector){return function(source){return source.lift(new SwitchFirstMapOperator(project,resultSelector))}};var SwitchFirstMapOperator=function(){function SwitchFirstMapOperator(project,resultSelector){this.project=project,this.resultSelector=resultSelector}return SwitchFirstMapOperator.prototype.call=function(subscriber,source){return source.subscribe(new SwitchFirstMapSubscriber(subscriber,this.project,this.resultSelector))},SwitchFirstMapOperator}(),SwitchFirstMapSubscriber=function(_super){function SwitchFirstMapSubscriber(destination,project,resultSelector){_super.call(this,destination),this.project=project,this.resultSelector=resultSelector,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return __extends(SwitchFirstMapSubscriber,_super),SwitchFirstMapSubscriber.prototype._next=function(value){this.hasSubscription||this.tryNext(value)},SwitchFirstMapSubscriber.prototype.tryNext=function(value){var index=this.index++,destination=this.destination;try{var result=this.project(value,index);this.hasSubscription=!0,this.add(subscribeToResult_1.subscribeToResult(this,result,value,index))}catch(err){destination.error(err)}},SwitchFirstMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},SwitchFirstMapSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){var resultSelector=this.resultSelector,destination=this.destination;resultSelector?this.trySelectResult(outerValue,innerValue,outerIndex,innerIndex):destination.next(innerValue)},SwitchFirstMapSubscriber.prototype.trySelectResult=function(outerValue,innerValue,outerIndex,innerIndex){var resultSelector=this.resultSelector,destination=this.destination;try{var result=resultSelector(outerValue,innerValue,outerIndex,innerIndex);destination.next(result)}catch(err){destination.error(err)}},SwitchFirstMapSubscriber.prototype.notifyError=function(err){this.destination.error(err)},SwitchFirstMapSubscriber.prototype.notifyComplete=function(innerSub){this.remove(innerSub),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},SwitchFirstMapSubscriber}(OuterSubscriber_1.OuterSubscriber)},wW40:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),dematerialize_1=__webpack_require__("gXtt");Observable_1.Observable.prototype.dematerialize=dematerialize_1.dematerialize},whlG:function(module,exports,__webpack_require__){"use strict";var take_1=__webpack_require__("FMsR");exports.take=function(count){return take_1.take(count)(this)}},wjQ8:function(module,exports){},wpKS:function(module,exports,__webpack_require__){"use strict";var retry_1=__webpack_require__("8xdM");exports.retry=function(count){return void 0===count&&(count=-1),retry_1.retry(count)(this)}},wqRD:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),subscribeToResult_1=__webpack_require__("7/JB"),OuterSubscriber_1=__webpack_require__("Zyg3"),DeferObservable=function(_super){function DeferObservable(observableFactory){_super.call(this),this.observableFactory=observableFactory}return __extends(DeferObservable,_super),DeferObservable.create=function(observableFactory){return new DeferObservable(observableFactory)},DeferObservable.prototype._subscribe=function(subscriber){return new DeferSubscriber(subscriber,this.observableFactory)},DeferObservable}(Observable_1.Observable);exports.DeferObservable=DeferObservable;var DeferSubscriber=function(_super){function DeferSubscriber(destination,factory){_super.call(this,destination),this.factory=factory,this.tryDefer()}return __extends(DeferSubscriber,_super),DeferSubscriber.prototype.tryDefer=function(){try{this._callFactory()}catch(err){this._error(err)}},DeferSubscriber.prototype._callFactory=function(){var result=this.factory();result&&this.add(subscribeToResult_1.subscribeToResult(this,result))},DeferSubscriber}(OuterSubscriber_1.OuterSubscriber)},ww0b:function(module,exports,__webpack_require__){"use strict";var distinct_1=__webpack_require__("yvfv");exports.distinct=function(keySelector,flushes){return distinct_1.distinct(keySelector,flushes)(this)}},x5i1:function(module,exports,__webpack_require__){"use strict";var repeatWhen_1=__webpack_require__("7Vdv");exports.repeatWhen=function(notifier){return repeatWhen_1.repeatWhen(notifier)(this)}},x7Yb:function(module,exports,__webpack_require__){"use strict";var PairsObservable_1=__webpack_require__("1hZF");exports.pairs=PairsObservable_1.PairsObservable.create},xEF6:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),publishBehavior_1=__webpack_require__("tM4B");Observable_1.Observable.prototype.publishBehavior=publishBehavior_1.publishBehavior},xESR:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),zip_1=__webpack_require__("MNg5");Observable_1.Observable.zip=zip_1.zip},xGIr:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),catch_1=__webpack_require__("r84X");Observable_1.Observable.prototype["catch"]=catch_1._catch,Observable_1.Observable.prototype._catch=catch_1._catch},xPnl:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),EmptyError_1=__webpack_require__("jcSU");exports.last=function(predicate,resultSelector,defaultValue){return function(source){return source.lift(new LastOperator(predicate,resultSelector,defaultValue,source))}};var LastOperator=function(){function LastOperator(predicate,resultSelector,defaultValue,source){this.predicate=predicate,this.resultSelector=resultSelector,this.defaultValue=defaultValue,this.source=source}return LastOperator.prototype.call=function(observer,source){return source.subscribe(new LastSubscriber(observer,this.predicate,this.resultSelector,this.defaultValue,this.source))},LastOperator}(),LastSubscriber=function(_super){function LastSubscriber(destination,predicate,resultSelector,defaultValue,source){_super.call(this,destination),this.predicate=predicate,this.resultSelector=resultSelector,this.defaultValue=defaultValue,this.source=source,this.hasValue=!1,this.index=0,void 0!==defaultValue&&(this.lastValue=defaultValue,this.hasValue=!0)}return __extends(LastSubscriber,_super),LastSubscriber.prototype._next=function(value){var index=this.index++;if(this.predicate)this._tryPredicate(value,index);else{if(this.resultSelector)return void this._tryResultSelector(value,index);this.lastValue=value,this.hasValue=!0}},LastSubscriber.prototype._tryPredicate=function(value,index){var result;try{result=this.predicate(value,index,this.source)}catch(err){return void this.destination.error(err)}if(result){if(this.resultSelector)return void this._tryResultSelector(value,index);this.lastValue=value,this.hasValue=!0}},LastSubscriber.prototype._tryResultSelector=function(value,index){var result;try{result=this.resultSelector(value,index)}catch(err){return void this.destination.error(err)}this.lastValue=result,this.hasValue=!0},LastSubscriber.prototype._complete=function(){var destination=this.destination;this.hasValue?(destination.next(this.lastValue),destination.complete()):destination.error(new EmptyError_1.EmptyError)},LastSubscriber}(Subscriber_1.Subscriber)},xQJm:function(module,exports,__webpack_require__){"use strict";var repeat_1=__webpack_require__("g0kP");exports.repeat=function(count){return void 0===count&&(count=-1),repeat_1.repeat(count)(this)}},xftq:function(module,exports,__webpack_require__){"use strict";var isArray_1=__webpack_require__("aS1e");exports.isNumeric=function(val){return!isArray_1.isArray(val)&&val-parseFloat(val)+1>=0}},xp9n:function(module,exports,__webpack_require__){"use strict";var combineLatest_1=__webpack_require__("3RRF");exports.combineLatest=function(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i-0]=arguments[_i];return combineLatest_1.combineLatest.apply(void 0,observables)(this)}},xwVB:function(module,exports,__webpack_require__){"use strict";var onErrorResumeNext_1=__webpack_require__("RtaT");exports.onErrorResumeNext=onErrorResumeNext_1.onErrorResumeNextStatic},"y0Y/":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Observable_1=__webpack_require__("sI33"),ScalarObservable_1=__webpack_require__("lLGg"),EmptyObservable_1=__webpack_require__("QUkR"),ArrayLikeObservable=function(_super){function ArrayLikeObservable(arrayLike,scheduler){_super.call(this),this.arrayLike=arrayLike,this.scheduler=scheduler,scheduler||1!==arrayLike.length||(this._isScalar=!0,this.value=arrayLike[0])}return __extends(ArrayLikeObservable,_super),ArrayLikeObservable.create=function(arrayLike,scheduler){var length=arrayLike.length;return 0===length?new EmptyObservable_1.EmptyObservable:1===length?new ScalarObservable_1.ScalarObservable(arrayLike[0],scheduler):new ArrayLikeObservable(arrayLike,scheduler)},ArrayLikeObservable.dispatch=function(state){var arrayLike=state.arrayLike,index=state.index,length=state.length,subscriber=state.subscriber;subscriber.closed||(index>=length?subscriber.complete():(subscriber.next(arrayLike[index]),state.index=index+1,this.schedule(state)))},ArrayLikeObservable.prototype._subscribe=function(subscriber){var arrayLike=this.arrayLike,scheduler=this.scheduler,length=arrayLike.length;if(scheduler)return scheduler.schedule(ArrayLikeObservable.dispatch,0,{arrayLike:arrayLike,index:0,length:length,subscriber:subscriber});for(var i=0;i<length&&!subscriber.closed;i++)subscriber.next(arrayLike[i]);subscriber.complete()},ArrayLikeObservable}(Observable_1.Observable);exports.ArrayLikeObservable=ArrayLikeObservable},y5cW:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),timeInterval_1=__webpack_require__("oSns");Observable_1.Observable.prototype.timeInterval=timeInterval_1.timeInterval},y85y:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},ArgumentOutOfRangeError=function(_super){function ArgumentOutOfRangeError(){var err=_super.call(this,"argument out of range");this.name=err.name="ArgumentOutOfRangeError",this.stack=err.stack,this.message=err.message}return __extends(ArgumentOutOfRangeError,_super),ArgumentOutOfRangeError}(Error);exports.ArgumentOutOfRangeError=ArgumentOutOfRangeError},yJ8I:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),distinctUntilKeyChanged_1=__webpack_require__("nsZZ");Observable_1.Observable.prototype.distinctUntilKeyChanged=distinctUntilKeyChanged_1.distinctUntilKeyChanged},yr4A:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),onErrorResumeNext_1=__webpack_require__("xwVB");Observable_1.Observable.onErrorResumeNext=onErrorResumeNext_1.onErrorResumeNext},"ysw+":function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subject_1=__webpack_require__("mwCp"),Subscription_1=__webpack_require__("CauQ"),AsyncSubject=function(_super){function AsyncSubject(){_super.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return __extends(AsyncSubject,_super),AsyncSubject.prototype._subscribe=function(subscriber){return this.hasError?(subscriber.error(this.thrownError),Subscription_1.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(subscriber.next(this.value),subscriber.complete(),Subscription_1.Subscription.EMPTY):_super.prototype._subscribe.call(this,subscriber)},AsyncSubject.prototype.next=function(value){this.hasCompleted||(this.value=value,this.hasNext=!0)},AsyncSubject.prototype.error=function(error){this.hasCompleted||_super.prototype.error.call(this,error)},AsyncSubject.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&_super.prototype.next.call(this,this.value),_super.prototype.complete.call(this)},AsyncSubject}(Subject_1.Subject);exports.AsyncSubject=AsyncSubject},yvfv:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},OuterSubscriber_1=__webpack_require__("Zyg3"),subscribeToResult_1=__webpack_require__("7/JB"),Set_1=__webpack_require__("t5Sz");exports.distinct=function(keySelector,flushes){return function(source){return source.lift(new DistinctOperator(keySelector,flushes))}};var DistinctOperator=function(){function DistinctOperator(keySelector,flushes){this.keySelector=keySelector,this.flushes=flushes}return DistinctOperator.prototype.call=function(subscriber,source){return source.subscribe(new DistinctSubscriber(subscriber,this.keySelector,this.flushes))},DistinctOperator}(),DistinctSubscriber=function(_super){function DistinctSubscriber(destination,keySelector,flushes){_super.call(this,destination),this.keySelector=keySelector,this.values=new Set_1.Set,flushes&&this.add(subscribeToResult_1.subscribeToResult(this,flushes))}return __extends(DistinctSubscriber,_super),DistinctSubscriber.prototype.notifyNext=function(outerValue,innerValue,outerIndex,innerIndex,innerSub){this.values.clear()},DistinctSubscriber.prototype.notifyError=function(error,innerSub){this._error(error)},DistinctSubscriber.prototype._next=function(value){this.keySelector?this._useKeySelector(value):this._finalizeNext(value,value)},DistinctSubscriber.prototype._useKeySelector=function(value){var key,destination=this.destination;try{key=this.keySelector(value)}catch(err){return void destination.error(err)}this._finalizeNext(key,value)},DistinctSubscriber.prototype._finalizeNext=function(key,value){var values=this.values;values.has(key)||(values.add(key),this.destination.next(value))},DistinctSubscriber}(OuterSubscriber_1.OuterSubscriber);exports.DistinctSubscriber=DistinctSubscriber},"z/FI":function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),ajax_1=__webpack_require__("paR6");Observable_1.Observable.ajax=ajax_1.ajax},zG4Q:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),audit_1=__webpack_require__("u/wY");Observable_1.Observable.prototype.audit=audit_1.audit},zZ69:function(module,exports,__webpack_require__){"use strict";var Observable_1=__webpack_require__("sI33"),bindCallback_1=__webpack_require__("1dU5");Observable_1.Observable.bindCallback=bindCallback_1.bindCallback},zy0A:function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);function __(){this.constructor=d}d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},Subscriber_1=__webpack_require__("Ro5u"),async_1=__webpack_require__("gKc2");exports.timeInterval=function(scheduler){return void 0===scheduler&&(scheduler=async_1.async),function(source){return source.lift(new TimeIntervalOperator(scheduler))}};var TimeInterval=function(value,interval){this.value=value,this.interval=interval};exports.TimeInterval=TimeInterval;var TimeIntervalOperator=function(){function TimeIntervalOperator(scheduler){this.scheduler=scheduler}return TimeIntervalOperator.prototype.call=function(observer,source){return source.subscribe(new TimeIntervalSubscriber(observer,this.scheduler))},TimeIntervalOperator}(),TimeIntervalSubscriber=function(_super){function TimeIntervalSubscriber(destination,scheduler){_super.call(this,destination),this.scheduler=scheduler,this.lastTime=0,this.lastTime=scheduler.now()}return __extends(TimeIntervalSubscriber,_super),TimeIntervalSubscriber.prototype._next=function(value){var now=this.scheduler.now(),span=now-this.lastTime;this.lastTime=now,this.destination.next(new TimeInterval(value,span))},TimeIntervalSubscriber}(Subscriber_1.Subscriber)}}]);