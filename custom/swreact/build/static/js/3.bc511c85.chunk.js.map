{"version":3,"sources":["pages/Checkout/Checkout.js"],"names":["Checkout","match","useRouteMatch","loc","useLocation","history","useHistory","path","pathname","split","reverse","toLowerCase","currentStep","getCurrentStep","useSelector","state","userReducer","verifiedAccountFlag","isFetching","accountID","enforceVerifiedAccountFlag","configuration","useEffect","isAuthenticated","push","length","to","className"],"mappings":"0HAAA,iEA8DeA,UAvDE,WACf,IAAIC,EAAQC,cACNC,EAAMC,cACNC,EAAUC,cACVC,EAAOJ,EAAIK,SAASC,MAAM,KAAKC,UAAU,GAAGC,cAC5CC,EAAcC,aAAeN,GALd,EAMkCO,aAAY,SAAAC,GAAK,OAAIA,EAAMC,eAA1EC,EANa,EAMbA,oBAAqBC,EANR,EAMQA,WAAYC,EANpB,EAMoBA,UACnCC,EAA6BN,aAAY,SAAAC,GAAK,OAAIA,EAAMM,cAAcD,8BAQ5E,OANAE,qBAAU,WACHC,eACHlB,EAAQmB,KAAR,+BAAqCrB,EAAIK,aAE1C,CAACH,EAASF,IAETiB,IAA+BH,GAAuBM,gBAAsBL,GAAcC,EAAUM,OAAS,EACxG,cAAC,IAAD,CAAUC,GAAG,0BAIpB,eAAC,IAAD,WACE,cAAC,IAAD,IACA,qBAAKC,UAAU,8BAAf,SACE,sBAAKA,UAAU,MAAf,UACE,0BAASA,UAAU,WAAnB,UAEE,cAAC,KAAD,IACA,cAAC,IAAD,CAAOpB,KAAI,UAAKN,EAAMM,KAAX,SAAX,SACE,cAAC,IAAD,CAAUmB,GAAG,YAGf,eAAC,IAAD,WACE,cAAC,IAAD,CAAOnB,KAAI,UAAKN,EAAMM,KAAX,aAAX,SACE,cAAC,IAAD,CAAeK,YAAaA,MAG9B,cAAC,IAAD,CAAOL,KAAI,UAAKN,EAAMM,KAAX,YAAX,SACE,cAAC,IAAD,CAAcK,YAAaA,MAE7B,cAAC,IAAD,CAAOL,KAAI,UAAKN,EAAMM,KAAX,WAAX,SACE,cAAC,IAAD,CAAaK,YAAaA,MAE5B,cAAC,IAAD,CAAOL,KAAMN,EAAMM,KAAnB,SACE,cAAC,IAAD,CAAUmB,GAAE,UAAKzB,EAAMM,KAAX,uBAKlB,cAAC,IAAD","file":"static/js/3.bc511c85.chunk.js","sourcesContent":["import { PageHeader, Layout, CheckoutSideBar, StepsHeader, getCurrentStep, ShippingSlide, PaymentSlide, ReviewSlide } from '../../components'\nimport { useSelector } from 'react-redux'\nimport { Redirect, Route, Switch, useHistory, useLocation, useRouteMatch } from 'react-router-dom'\nimport './checkout.css'\nimport { isAuthenticated } from '../../utils'\nimport { useEffect } from 'react'\n\nconst Checkout = () => {\n  let match = useRouteMatch()\n  const loc = useLocation()\n  const history = useHistory()\n  const path = loc.pathname.split('/').reverse()[0].toLowerCase()\n  const currentStep = getCurrentStep(path)\n  const { verifiedAccountFlag, isFetching, accountID } = useSelector(state => state.userReducer)\n  const enforceVerifiedAccountFlag = useSelector(state => state.configuration.enforceVerifiedAccountFlag)\n\n  useEffect(() => {\n    if (!isAuthenticated()) {\n      history.push(`/my-account?redirect=${loc.pathname}`)\n    }\n  }, [history, loc])\n\n  if (enforceVerifiedAccountFlag && !verifiedAccountFlag && isAuthenticated() && !isFetching && accountID.length > 0) {\n    return <Redirect to=\"/account-verification\" />\n  }\n\n  return (\n    <Layout>\n      <PageHeader />\n      <div className=\"container pb-5 mb-2 mb-md-4\">\n        <div className=\"row\">\n          <section className=\"col-lg-8\">\n            {/* <!-- Steps--> */}\n            <StepsHeader />\n            <Route path={`${match.path}/cart`}>\n              <Redirect to=\"/cart\" />\n            </Route>\n\n            <Switch>\n              <Route path={`${match.path}/shipping`}>\n                <ShippingSlide currentStep={currentStep} />\n              </Route>\n\n              <Route path={`${match.path}/payment`}>\n                <PaymentSlide currentStep={currentStep} />\n              </Route>\n              <Route path={`${match.path}/review`}>\n                <ReviewSlide currentStep={currentStep} />\n              </Route>\n              <Route path={match.path}>\n                <Redirect to={`${match.path}/shipping`} />\n              </Route>\n            </Switch>\n          </section>\n          {/* <!-- Sidebar--> */}\n          <CheckoutSideBar />\n        </div>\n      </div>\n    </Layout>\n  )\n}\n\nexport default Checkout\n"],"sourceRoot":""}