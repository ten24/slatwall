{"version":3,"sources":["directives/productBundleGroup/swproductbundlegrouptype.ts"],"names":[],"mappings":"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","file":"directives/productBundleGroup/swproductbundlegrouptype.js","sourceRoot":"/Users/ryanmarchand/Sites/Slatwall/","sourcesContent":["/**\n * Handles user selections of Product Group Types.\n */\n'use strict';\nangular.module('slatwalladmin')\n.directive('swProductBundleGroupType', [\n\t'$http',\n\t'$log',\n\t'$slatwall',\n\t'formService',\n\t'productBundlePartialsPath',\n\t'productBundleService',\n\tfunction(\n\t\t$http,\n\t\t$log,\n\t\t$slatwall,\n\t\tformService,\n\t\tproductBundlePartialsPath,\n\t\tproductBundleService\n\t){\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\ttemplateUrl:productBundlePartialsPath+\"productbundlegrouptype.html\",\n\t\t\tscope:{\n\t\t\t\tproductBundleGroup:\"=\"\n\t\t\t},\n\t\t\tcontroller: ['$scope','$element','$attrs',function($scope, $element, $attrs ){\n\t\t\t\t$log.debug('productBundleGrouptype');\n\t\t\t\t$log.debug($scope.productBundleGroup);\n\t\t\t\t$scope.productBundleGroupTypes = {};\n\t\t\t\t$scope.$$id=\"productBundleGroupType\";\n\t\t\t\t$scope.productBundleGroupTypes.value = [];\n\t\t\t\t$scope.productBundleGroupTypes.$$adding = false;\n\t\t\t\t$scope.productBundleGroupType = {};\n\t\t\t\tif(angular.isUndefined($scope.productBundleGroup.data.productBundleGroupType)){\n\t\t\t\t\tvar productBundleGroupType = $slatwall.newType();\n\t\t\t\t\tvar parentType = $slatwall.newType();\n\t\t\t\t\tparentType.data.typeID = '154dcdd2f3fd4b5ab5498e93470957b8';\n\t\t\t\t\tproductBundleGroupType.$$setParentType(parentType);\n\t\t\t\t\t$scope.productBundleGroup.$$setProductBundleGroupType(productBundleGroupType);\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Sets the state to adding and sets the initial data.\n\t\t\t\t */\n\t\t\t\t$scope.productBundleGroupTypes.setAdding = function(isAdding){\n\t\t\t\t\t$scope.productBundleGroupTypes.$$adding = isAdding;\n\t\t\t\t\tvar productBundleGroupType = $slatwall.newType();\n\t\t\t\t\tvar parentType = $slatwall.newType();\n\t\t\t\t\tparentType.data.typeID = '154dcdd2f3fd4b5ab5498e93470957b8';\n\t\t\t\t\tproductBundleGroupType.$$setParentType(parentType);\n\t\t\t\t\tproductBundleGroupType.data.typeName=$scope.productBundleGroup.data.productBundleGroupType.data.typeName;\n\t\t\t\t\tproductBundleGroupType.data.typeDescription = '';\n\t\t\t\t\tproductBundleGroupType.data.typeNameCode='';\n\t\t\t\t\tangular.extend($scope.productBundleGroup.data.productBundleGroupType,productBundleGroupType);\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t$scope.showAddProductBundleGroupTypeBtn = false;\n\t\t\t\t/**\n\t\t\t\t * Handles looking up the keyword and populating the dropdown as a user types.\n\t\t\t\t */\n\t\t\t\t$scope.productBundleGroupTypes.getTypesByKeyword=function(keyword){\n\t\t\t\t\t$log.debug('getTypesByKeyword');\n\t\t\t\t\tvar filterGroupsConfig = '['+  \n\t\t\t\t\t  ' {  '+\n\t\t\t\t\t      '\"filterGroup\":[  '+\n\t\t\t\t\t        ' {  '+\n\t\t\t\t\t           ' \"propertyIdentifier\":\"_type.parentType.systemCode\",'+\n\t\t\t\t\t           ' \"comparisonOperator\":\"=\",'+\n\t\t\t\t\t           ' \"value\":\"productBundleGroupType\",'+\n\t\t\t\t\t           ' \"ormtype\":\"string\",'+\n\t\t\t\t\t           ' \"conditionDisplay\":\"Equals\"'+\n\t\t\t\t\t         '},'+\n\t\t\t\t\t         '{'+\n\t\t\t\t\t         \t'\"logicalOperator\":\"AND\",'+\n\t\t\t\t\t        \t' \"propertyIdentifier\":\"_type.typeName\",'+\n\t\t\t\t\t        \t' \"comparisonOperator\":\"like\",'+\n\t\t\t\t\t        \t ' \"ormtype\":\"string\",'+\n\t\t\t\t\t        \t' \"value\":\"%'+keyword+'%\"'+\n\t\t\t\t\t       '  }'+\n\t\t\t\t\t     ' ]'+\n\t\t\t\t\t  ' }'+\n\t\t\t\t\t']';\n\t\t\t\t\treturn $slatwall.getEntity('type', {filterGroupsConfig:filterGroupsConfig.trim()})\n\t\t\t\t\t.then(function(value){\n\t\t\t\t\t\t$log.debug('typesByKeyword');\n\t\t\t\t\t\t$log.debug(value);\n\t\t\t\t\t\t$scope.productBundleGroupTypes.value = value.pageRecords;\n\t\t\t\t\t\tvar myLength = keyword.length;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (myLength > 0) {\n\t\t\t\t\t\t\t$scope.showAddProductBundleGroupTypeBtn = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t$scope.showAddProductBundleGroupTypeBtn = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn $scope.productBundleGroupTypes.value;\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\t * Handles user selection of the dropdown.\n\t\t\t\t */\n\t\t\t\t$scope.selectProductBundleGroupType = function ($item, $model, $label) {\n\t\t\t\t\tconsole.log(\"Selecting\");\n\t\t\t\t    $scope.$item = $item;\n\t\t\t\t    $scope.$model = $model;\n\t\t\t\t    $scope.$label = $label;\n\t\t\t\t    \n\t\t\t\t\tangular.extend($scope.productBundleGroup.data.productBundleGroupType.data,$item);\n\t\t\t\t\tvar parentType = $slatwall.newType();\n\t\t\t\t\tparentType.data.typeID = '154dcdd2f3fd4b5ab5498e93470957b8';\n\t\t\t\t\t$scope.productBundleGroup.data.productBundleGroupType.$$setParentType(parentType);\n\t\t\t\t    $scope.showAddProductBundleGroupTypeBtn = false;\n\t\t\t\t    \t};\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\t * Closes the add screen\n\t\t\t\t */\n\t\t\t\t$scope.closeAddScreen = function(){\n\t\t\t\t\t$scope.productBundleGroupTypes.$$adding = false;\n\t\t\t\t\t$scope.showAddProductBundleGroupTypeBtn = false;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\t * Clears the type name\n\t\t\t\t */\n\t\t\t\t$scope.clearTypeName = function(){\n\t\t\t\t\tif (angular.isDefined($scope.productBundleGroup.data.productBundleGroupType)){\n\t\t\t\t\t$scope.productBundleGroup.data.productBundleGroupType.data.typeName = '';\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\t * Saves product bundle group type\n\t\t\t\t */\n\t\t\t\t$scope.saveProductBundleGroupType = function(){\n\t\t\t\t\t\t//Gets the promise from save\n\t\t\t\t\t\tvar promise = $scope.productBundleGroup.data.productBundleGroupType.$$save();\n\t\t\t\t\t\tpromise.then(function(response){\n\t\t\t\t\t\t\t//Calls close function\n\t\t\t\t\t\t\tif (promise.valid){\n\t\t\t\t\t\t\t$scope.closeAddScreen();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t//Sets up clickOutside Directive call back arguments\n\t\t\t\t$scope.clickOutsideArgs = {\n\t\t\t\t\tcallBackActions : [$scope.closeAddScreen,$scope.clearTypeName]\n\t\t\t\t};\n\t\t\t\t/**\n\t\t\t\t * Works with swclickoutside directive to close dialog\n\t\t\t\t */\n\t\t\t\t$scope.closeThis = function (clickOutsideArgs) {\n\t\t\t\t\t//Check against the object state\n\t\t\t\t\tif(!$scope.productBundleGroup.data.productBundleGroupType.$$isPersisted()){\n\t\t\t\t\t\t//Perform all callback actions\n\t\t\t\t        for(var callBackAction in clickOutsideArgs.callBackActions){\n\t\t\t\t        \tclickOutsideArgs.callBackActions[callBackAction]();\n\t\t\t\t        }\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}]\n\t\t};\n\t}\n]);\n\t\n"]}