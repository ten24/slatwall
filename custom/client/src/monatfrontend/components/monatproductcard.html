<div class="product-box">
   <div class="pr-box">
    <!-- Product Card -->
    
        <!-- If the product is not being viewed as a wishlist item, show the button to launch add to wishlist modal -->
 	    <button ng-if="isWishlist==false && isLoggedIn==true" type="button" data-toggle="modal" data-target="#wishlist-modal" class="wishlist" data-skuID="#local.product.getDefaultSku().getSkuID()#" data-title="#local.productName#"><i class="far fa-heart"></i></button>  
      
        <!-- If the product is being viewed as a wishlist item, show the button to launch delete item from wishlist -->
        <button ng-if="isWishlist=true" swf-wishlist ng-click="swfWishlist.deleteItem(loopIndex)" type="button" class="close"><i class="fas fa-times"></i></button>
        
       <!-- Product Image Block -->
        <figure class="quick-view">
            <div class="overlay">
                <div class="overlay-inner">
                    <span><a href="#" data-toggle="modal" data-target="#product-" class="btn prod-btn ">Quick Shop</a></span>
                </div>
            </div>
            <a class="d-block" ng-href="{{productInfo.skuProductURL}}">
                <img ng-src="{{productInfo.skuImagePath}}" width="240" height="270">
            </a>
        </figure>
      
        <h3><a href="/products/smoothing-shampoo-4-oz/">{{productInfo.productName}}</a></h3>
      
        <!-- Market Partner Pricing -->
        <div ng-if="productInfo.accountPriceGroup == 1" class="price">
            <strong>{{productInfo.marketPartnerPrice}} /</strong> <span class="vip-price">Retail {{productInfo.retailPrice}}</span>
        </div>
        
        <!-- VIP Pricing -->
        <div ng-if="productInfo.accountPriceGroup == 3" class="price">
            <strong>{{productInfo.vipPrice}} /</strong> <span class="vip-price">Retail {{productInfo.retailPrice}}</span>
        </div>
        
        <!-- Retail Pricing -->
        <div ng-if="productInfo.accountPriceGroup != 3 && productInfo.accountPriceGroup != 1" class="price">
            <strong>{{productInfo.retailPrice}} /</strong> <span class="vip-price">VIP {{productInfo.vipPrice}}</span>
            <strong class="float-right">PV #local.personalVolume#</strong>
        </div>

   </div>
   
   <!-- Add To Cart -->
   <div class="product-actions">
      <form action="?s=1" method="post" class="ng-pristine ng-valid">
         <input type="hidden" name="slatAction" value="public:cart.addOrderItem">
         <input type="hidden" name="skuID" value="{{productInfo.skuID}}">
         <input type="hidden" name="quantity" value="1">
         <input type="hidden" name="productName" value="{{productInfo.productName}}">
         <button type="submit" class="btn btn-border-primary add-to-cart">Add To Cart</button>
      </form>
   </div>
   
   <!-- Product Modal-->
    <div ng-if="isWishlist == false && isLoggedIn == true" class="modal wishlist-modal fade" id="wishlist-modal" tabindex="-1" aria-labelledby="product-title" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
                
                <h5 class="modal-title"><i class="fas fa-heart"></i><span id="wishlist-product-title"></span></h5>
                <h3 ng-init="createWishList = {}">Choose a wishlist to save this product to.</h3>
                
                <form 
                ng-model="createWishList"
                >
                    <ul class="wishlist-names" 
                    swf-wishlist
                    ng-init="swfWishlist.getAllWishlists()"
                    > 
                        <li ng-repeat="wishlist in swfWishlist.orderTemplates track by $index" ng-cloak>
                            <div class="radio">
                                <input ng-click="swfWishlist.setWishlistID(wishlist.orderTemplateID); swfWishlist.setWishlistName(wishlist.orderTemplateName);" ng-value="wishlist.orderTemplateID" type="radio" name="wishlist" id="wishlist-{{$index}}" ng-model="createWishList.orderTemplateID">
                                <label for="wishlist-{{$index}}">{{wishlist.orderTemplateName}}</label>
                            </div>
                        </li>
                    
                        <li>
                            <div ng-click="newWishlist = true" class="radio">
                                <input type="radio" name="wishlist" id="create-new" ng-value="''" ng-model="createWishList.orderTemplateID" >
                                <label for="create-new">Create a new wishlist</label>
                            </div>
                            <div class="new-wishlist-name">
                                <input ng-disabled="!newWishlist" placeholder="Name your wishlist" id="orderTemplateName" type="text" name="orderTemplateName" class="form-control success" value="newWishlist" ng-model="createWishList.orderTemplateName" swvalidationrequired="true">
                            </div>
                        </li>
                        
                        <div class="text-center">
                            <a ng-if="!createWishList.orderTemplateID && createWishList.orderTemplateName" ng-click="swfWishlist.addItemAndCreateWishlist(createWishList.orderTemplateName); " data-dismiss="modal" class="btn text-white bg-primary">
                                Save Changes
                            </a>
                            <a ng-if="createWishList.orderTemplateID" data-dismiss="modal" ng-click="swfWishlist.addWishlistItem()" class="btn text-white bg-primary">
                                Save Changes
                            </a>
                        </div>
                    </ul>
                </form>
            </div>
        </div>
    </div>            
</div>
