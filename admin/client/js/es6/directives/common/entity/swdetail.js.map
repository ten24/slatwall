{"version":3,"sources":["directives/common/entity/swdetail.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AACb,AACA,sBADsB;AACtB,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAC9B,SAAS,CAAC,UAAU,EAAE;IACtB,WAAW;IACX,MAAM;IACN,WAAW;IACX,cAAc;IACd,UACC,SAAS,EACT,IAAI,EACJ,SAAS,EACT,YAAY;QAET,MAAM,CAAC;YACH,QAAQ,EAAE,GAAG;YACb,WAAW,EAAC,YAAY,GAAC,oBAAoB;YAC7C,IAAI,EAAE,UAAU,KAAK,EAAE,OAAO,EAAE,IAAI;gBACnC,KAAK,CAAC,GAAG,GAAC,0BAA0B,CAAC;gBACrC,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;gBAErC,AACA,+BAD+B;gBAC/B,KAAK,CAAC,QAAQ,GAAG,UAAS,MAAM;oBAC5B,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,aAAa,EAAE,CAAC;gBAC9C,CAAC,CAAC;gBACJ,IAAI,aAAa,GAAG;oBACnB,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;oBACrD,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC;oBAC3D,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;oBACzB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;gBAC9B,CAAC,CAAC;gBAEF,IAAI,uBAAuB,GAAG,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAEnG,KAAK,CAAC,cAAc,GAAG,YAAY,GAAC,SAAS,CAAC;gBAE9C,KAAK,CAAC,SAAS,GAAG;oBACjB,EAAE,CAAA,CAAC,KAAK,CAAC,QAAQ,KAAK,MAAM,CAAC,CAAA,CAAC;wBAC7B,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,KAAK,GAAC,uBAAuB,CAAC,EAAE,CAAC;wBAC1D,aAAa,EAAE,CAAC;oBACjB,CAAC;oBAAA,IAAI,CAAA,CAAC;wBACL,IAAI,aAAa,GAAG,SAAS,CAAC,KAAK,GAAC,uBAAuB,CAAC,CAAC,EAAC,EAAE,EAAC,KAAK,CAAC,QAAQ,EAAC,CAAC,CAAC;wBAClF,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC;4BAC1B,KAAK,CAAC,MAAM,GAAG,aAAa,CAAC,KAAK,CAAC;4BACnC,aAAa,EAAE,CAAC;wBACjB,CAAC,CAAC,CAAC;oBACJ,CAAC;gBAEF,CAAC,CAAC;gBACF,KAAK,CAAC,SAAS,EAAE,CAAC;gBAClB,KAAK,CAAC,YAAY,GAAG;oBACpB,IAAI,aAAa,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;oBAC5C,aAAa,CAAC,IAAI,CAAC;wBAClB,SAAS,CAAC,IAAI,CAAE,UAAU,GAAC,uBAAuB,GAAC,GAAG,CAAE,CAAC;oBAC1D,CAAC,CAAC,CAAC;gBACJ,CAAC,CAAC;gBACF,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC;YAC3B,CAAC;SACJ,CAAC;IACN,CAAC;CACD,CAAC,CAAC","file":"directives/common/entity/swdetail.js","sourceRoot":"/Users/ryanmarchand/Sites/Slatwall/","sourcesContent":["'use strict';\n//Thanks to AdamMettro\nangular.module('slatwalladmin')\n.directive('swDetail', [\n\t'$location',\n\t'$log',\n\t'$slatwall',\n\t'partialsPath',\n\tfunction (\n\t\t$location,\n\t\t$log,\n\t\t$slatwall,\n\t\tpartialsPath\n\t) {\n\t    return {\n\t        restrict: 'E',\n\t        templateUrl:partialsPath+'entity/detail.html',\n\t        link: function (scope, element, attr) {\n\t        \tscope.$id=\"slatwallDetailController\";\n\t        \t$log.debug('slatwallDetailController');\n\t        \n            /*Sets the view dirty on save*/\n            scope.setDirty = function(entity){      \n                entity.forms['Workflow.'].$setSubmitted();  \n            };  \n\t        \tvar setupMetaData = function(){\n\t        \t\tscope[scope.entityName.toLowerCase()] = scope.entity;\n\t        \t\tscope.detailTabs = scope.entity.metaData.$$getDetailTabs();\n\t        \t\t$log.debug('detailtabs');\n\t        \t\t$log.debug(scope.detailTabs);\n\t        \t};\n\t        \t\n\t        \tvar propertyCasedEntityName = scope.entityName.charAt(0).toUpperCase() + scope.entityName.slice(1);\n\t        \t\t\n\t        \tscope.tabPartialPath = partialsPath+'entity/';\n\t        \t\n\t        \tscope.getEntity = function(){\n\t        \t\tif(scope.entityID === 'null'){\n\t        \t\t\tscope.entity = $slatwall['new'+propertyCasedEntityName]();\n\t        \t\t\tsetupMetaData();\n\t        \t\t}else{\n\t        \t\t\tvar entityPromise = $slatwall['get'+propertyCasedEntityName]({id:scope.entityID});\n\t        \t\t\tentityPromise.promise.then(function(){\n\t        \t\t\t\tscope.entity = entityPromise.value;\n\t        \t\t\t\tsetupMetaData();\n\t        \t\t\t});\n\t        \t\t}\n\t        \t\t\n\t        \t};\n\t        \tscope.getEntity();\n\t        \tscope.deleteEntity = function(){\n\t        \t\tvar deletePromise = scope.entity.$$delete();\n\t        \t\tdeletePromise.then(function(){\n\t        \t\t\t$location.path( '/entity/'+propertyCasedEntityName+'/' );\n\t        \t\t});\n\t        \t};\n\t        \tscope.allTabsOpen = false;\n\t        }\n\t    };\n\t}\n]);"]}